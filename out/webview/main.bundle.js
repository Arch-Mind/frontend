(()=>{"use strict";var e,n,t,a={2088(e,n,t){t.r(n),t.d(n,{default:()=>g});var a=t(85072),o=t.n(a),r=t(97825),A=t.n(r),l=t(77659),i=t.n(l),s=t(55056),c=t.n(s),d=t(10540),u=t.n(d),p=t(41113),m=t.n(p),C=t(91763),f={};f.styleTagTransform=m(),f.setAttributes=c(),f.insert=i().bind(null,"head"),f.domAPI=A(),f.insertStyleElement=u(),o()(C.A,f);const g=C.A&&C.A.locals?C.A.locals:void 0},2240(e,n){function t(e){if("directory"===e.type)return e.id;if(e.filePath){const n=e.filePath.replace(/\\/g,"/").split("/");return n.pop(),n.join("/")||"/"}if(e.id.includes("::")){const n=e.id.split("::")[0].replace(/\\/g,"/").split("/");return n.pop(),n.join("/")||"/"}const n=e.id.replace(/\\/g,"/").split("/");return n.pop(),n.join("/")||"/"}function a(e){return{nodeCount:e.length,fileCount:e.filter(e=>"file"===e.type).length,functionCount:e.filter(e=>"function"===e.type).length,classCount:e.filter(e=>"class"===e.type).length}}function o(e){return"/"===e||""===e?0:e.split("/").filter(e=>e.length>0).length}Object.defineProperty(n,"__esModule",{value:!0}),n.clusterNodesByDirectory=function(e,n=5,r=3){const A=new Map;e.forEach(e=>{const n=t(e);if(o(n)>r)return;const a=A.get(n)||[];a.push(e),A.set(n,a)});const l=[];return A.forEach((e,t)=>{if(e.length>=n){const n=t.split("/").filter(e=>e.length>0),r=n[n.length-1]||"root";l.push({id:`cluster-${t}`,label:r,path:t,nodes:e,metrics:a(e),depth:o(t)})}}),l.sort((e,n)=>e.depth!==n.depth?e.depth-n.depth:e.path.localeCompare(n.path)),l},n.filterByClusterState=function(e,n,a,o){const r=new Set,A=[],l=new Map;a.forEach(e=>{l.set(e.id,e)}),e.forEach(e=>{const n=`cluster-${t(e)}`,a=l.get(n);a?!0===o[n]?r.add(e.id):!1===o[n]?A.find(e=>e.id===n)||A.push(a):r.add(e.id):r.add(e.id)});return{nodes:e.filter(e=>r.has(e.id)),edges:n.filter(e=>r.has(e.source)&&r.has(e.target)),clusterNodes:A}},n.loadClusterState=function(e){const n=`archmind-cluster-state-${e}`,t=localStorage.getItem(n);if(t)try{return JSON.parse(t)}catch(e){console.error("Failed to parse cluster state:",e)}return{}},n.saveClusterState=function(e,n){const t=`archmind-cluster-state-${e}`;localStorage.setItem(t,JSON.stringify(n))},n.toggleCluster=function(e,n){const t=n[e];return{...n,[e]:!1===t}},n.expandAllClusters=function(e){const n={};return e.forEach(e=>{n[e.id]=!0}),n},n.collapseAllClusters=function(e){const n={};return e.forEach(e=>{n[e.id]=!1}),n}},7431(e,n,t){var a,o=this&&this.__createBinding||(Object.create?function(e,n,t,a){void 0===a&&(a=t);var o=Object.getOwnPropertyDescriptor(n,t);o&&!("get"in o?!n.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return n[t]}}),Object.defineProperty(e,a,o)}:function(e,n,t,a){void 0===a&&(a=t),e[a]=n[t]}),r=this&&this.__setModuleDefault||(Object.create?function(e,n){Object.defineProperty(e,"default",{enumerable:!0,value:n})}:function(e,n){e.default=n}),A=this&&this.__importStar||(a=function(e){return a=Object.getOwnPropertyNames||function(e){var n=[];for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(n[n.length]=t);return n},a(e)},function(e){if(e&&e.__esModule)return e;var n={};if(null!=e)for(var t=a(e),A=0;A<t.length;A++)"default"!==t[A]&&o(n,e,t[A]);return r(n,e),n});Object.defineProperty(n,"__esModule",{value:!0}),n.EnhancedMiniMap=void 0,n.useMiniMapNavigation=function(e){return{handleMiniMapNodeClick:l.default.useCallback((n,t)=>{n.preventDefault(),e?.(t.id)},[e])}};const l=A(t(96540)),i=t(20072),s={file:"#3498db",directory:"#9b59b6",function:"#2ecc71",class:"#e67e22",module:"#1abc9c",default:"#95a5a6"};n.EnhancedMiniMap=({selectedNodeId:e,hoveredNodeId:n,nodeColors:t,position:a="bottom-right",onNodeClick:o})=>{const r=(0,l.useMemo)(()=>({...s,...t}),[t]),A=(0,l.useMemo)(()=>t=>{if(t.id===e)return"#f39c12";if(t.id===n)return"#e74c3c";const a=t.data;if("directory"===a?.type)return r.directory||s.directory;if("function"===a?.type)return r.function||s.function;if("class"===a?.type)return r.class||s.class;if("module"===a?.type)return r.module||s.module;if(a?.language&&r[a.language])return r[a.language];const o=a?.type||t.type||"default";return r[o]||r.default},[e,n,r]),c=(0,l.useMemo)(()=>t=>{const a=["minimap-node"];t.id===e&&a.push("minimap-node-selected"),t.id===n&&a.push("minimap-node-hovered");const o=t.data,r=o?.type||t.type||"default";return a.push(`minimap-node-${r}`),a.join(" ")},[e,n]),d=(0,l.useMemo)(()=>{switch(a){case"top-left":return{top:10,left:10};case"top-right":return{top:10,right:10};case"bottom-left":return{bottom:10,left:10};default:return{bottom:10,right:10}}},[a]);return l.default.createElement(i.MiniMap,{nodeColor:A,nodeClassName:c,nodeBorderRadius:3,nodeStrokeWidth:2,maskColor:"rgba(0, 0, 0, 0.15)",style:{backgroundColor:"var(--am-panel-bg)",border:"1px solid var(--am-border)",borderRadius:"6px",...d},pannable:!0,zoomable:!0,onNodeClick:o})}},8504(e,n,t){var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.RelationshipVisualizer=function({selectedNodeId:e,nodes:n,edges:t,onNodeClick:a,onClose:r}){const A=n.find(n=>n.id===e),l=A&&A.parentId?n.find(e=>e.id===A.parentId):void 0,i=n.filter(n=>n.parentId===e),s=A&&A.parentId?n.filter(n=>n.parentId===A.parentId&&n.id!==e):[],c=(l?1:0)+i.length+s.length;return o.default.createElement("div",{className:"relationship-visualizer"},o.default.createElement("div",{className:"summary"},o.default.createElement("span",{className:"summary-label"},"Relationships"),o.default.createElement("span",{className:"summary-value"},c),o.default.createElement("button",{onClick:r},"Close")),l&&o.default.createElement("div",{className:"relationship-section"},o.default.createElement("span",null,"Parent: ",l.id)),i.length>0&&o.default.createElement("div",{className:"relationship-section"},o.default.createElement("span",null,"Children: ",i.map(e=>e.id).join(", "))),s.length>0&&o.default.createElement("div",{className:"relationship-section"},o.default.createElement("span",null,"Siblings: ",s.map(e=>e.id).join(", "))),0===c&&o.default.createElement("div",{className:"no-relationships"},o.default.createElement("span",{className:"no-rel-text"},"No relationships found")))};const o=a(t(96540))},8575(e,n,t){var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.CompactThemeToggle=n.ThemeToggle=void 0;const o=a(t(96540)),r=t(10918);n.ThemeToggle=({position:e="top-right",showLabel:n=!0})=>{const{theme:t,resolvedTheme:a,setTheme:A}=(0,r.useTheme)(),l=e=>{switch(e){case"light":return"Light";case"dark":return"Dark";case"auto":return"Auto"}};return o.default.createElement("div",{className:`theme-toggle theme-toggle-${e}`,title:"auto"===t?`Auto (Currently: ${a}) ‚Ä¢ Ctrl+Shift+T`:`${l(t)} Mode ‚Ä¢ Ctrl+Shift+T`},o.default.createElement("div",{className:"theme-toggle-label"},n&&o.default.createElement("span",{className:"toggle-label-text"},"Theme:")),o.default.createElement("div",{className:"theme-options"},["auto","light","dark"].map(e=>o.default.createElement("button",{key:e,className:"theme-option "+(t===e?"active":""),onClick:()=>A(e),title:l(e)},o.default.createElement("span",{className:"option-icon"},(e=>{switch(e){case"light":return"‚òÄÔ∏è";case"dark":return"üåô";case"auto":return"üîÑ"}})(e)),n&&o.default.createElement("span",{className:"option-label"},l(e))))),"auto"===t&&o.default.createElement("div",{className:"theme-auto-indicator"},o.default.createElement("span",{className:"auto-hint"},"Following system (",a,")")))},n.CompactThemeToggle=()=>{const{theme:e,toggleTheme:n}=(0,r.useTheme)();return o.default.createElement("button",{className:"compact-theme-toggle",onClick:n,title:"Toggle Theme (Ctrl+Shift+T)"},o.default.createElement("span",{className:"compact-icon"},(()=>{switch(e){case"light":return"‚òÄÔ∏è";case"dark":return"üåô";case"auto":return"üîÑ"}})()))}},10918(e,n,t){var a,o=this&&this.__createBinding||(Object.create?function(e,n,t,a){void 0===a&&(a=t);var o=Object.getOwnPropertyDescriptor(n,t);o&&!("get"in o?!n.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return n[t]}}),Object.defineProperty(e,a,o)}:function(e,n,t,a){void 0===a&&(a=t),e[a]=n[t]}),r=this&&this.__setModuleDefault||(Object.create?function(e,n){Object.defineProperty(e,"default",{enumerable:!0,value:n})}:function(e,n){e.default=n}),A=this&&this.__importStar||(a=function(e){return a=Object.getOwnPropertyNames||function(e){var n=[];for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(n[n.length]=t);return n},a(e)},function(e){if(e&&e.__esModule)return e;var n={};if(null!=e)for(var t=a(e),A=0;A<t.length;A++)"default"!==t[A]&&o(n,e,t[A]);return r(n,e),n});Object.defineProperty(n,"__esModule",{value:!0}),n.ThemeProvider=void 0,n.useTheme=d,n.useThemeKeyboard=function(){const{toggleTheme:e}=d();(0,l.useEffect)(()=>{const n=n=>{(n.ctrlKey||n.metaKey)&&n.shiftKey&&"t"===n.key&&(n.preventDefault(),e())};return window.addEventListener("keydown",n),()=>window.removeEventListener("keydown",n)},[e])};const l=A(t(96540)),i=(0,l.createContext)(void 0),s="archmind-theme";function c(e,n){return"auto"===e?n:e}function d(){const e=(0,l.useContext)(i);if(void 0===e)throw new Error("useTheme must be used within a ThemeProvider");return e}n.ThemeProvider=({children:e})=>{const[n,t]=(0,l.useState)("auto"),[a,o]=(0,l.useState)("light"),[r,A]=(0,l.useState)("light");(0,l.useEffect)(()=>{const e=function(){if("undefined"==typeof window)return"auto";const e=localStorage.getItem(s);return"light"===e||"dark"===e||"auto"===e?e:"auto"}(),n="undefined"==typeof window?"light":window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";t(e),o(n),A(c(e,n))},[]),(0,l.useEffect)(()=>{if("undefined"==typeof window)return;const e=window.matchMedia("(prefers-color-scheme: dark)"),t=e=>{const t=e.matches?"dark":"light";o(t),"auto"===n&&A(t)};return e.addEventListener?(e.addEventListener("change",t),()=>e.removeEventListener("change",t)):e.addListener?(e.addListener(t),()=>e.removeListener(t)):void 0},[n]),(0,l.useEffect)(()=>{if("undefined"==typeof document)return;const e=document.documentElement;e.classList.remove("theme-light","theme-dark"),e.classList.add(`theme-${r}`),e.setAttribute("data-theme",r)},[r]);const d=e=>{t(e),localStorage.setItem(s,e);const n=c(e,a);A(n)};return l.default.createElement(i.Provider,{value:{theme:n,resolvedTheme:r,setTheme:d,toggleTheme:()=>{d("auto"===n?"light":"light"===n?"dark":"auto")}}},e)}},10969(e,n,t){var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.ZoomControls=void 0;const o=a(t(96540));n.ZoomControls=({zoomPan:e,position:n="bottom-right"})=>{const{zoomPercent:t,zoomIn:a,zoomOut:r,resetZoom:A,zoomToFit:l,presets:i,applyPreset:s,canZoomIn:c,canZoomOut:d}=e,[u,p]=o.default.useState(!1);return o.default.createElement("div",{className:`zoom-controls zoom-controls-${n}`},o.default.createElement("div",{className:"zoom-level-indicator",onClick:()=>p(!u),title:"Click to show zoom presets"},o.default.createElement("span",{className:"zoom-icon"},"üîç"),o.default.createElement("span",{className:"zoom-value"},t,"%"),o.default.createElement("span",{className:"zoom-dropdown-icon"},u?"‚ñ≤":"‚ñº")),u&&o.default.createElement("div",{className:"zoom-presets-dropdown"},i.map((e,n)=>o.default.createElement("button",{key:n,className:"zoom-preset-btn",onClick:()=>{s(e),p(!1)}},e.icon&&o.default.createElement("span",{className:"preset-icon"},e.icon),o.default.createElement("span",{className:"preset-label"},e.label)))),o.default.createElement("div",{className:"zoom-quick-controls"},o.default.createElement("button",{className:"zoom-btn",onClick:r,disabled:!d,title:"Zoom Out (Ctrl+‚àí)"},"‚àí"),o.default.createElement("button",{className:"zoom-btn",onClick:A,title:"Reset Zoom (Ctrl+1)"},"‚äô"),o.default.createElement("button",{className:"zoom-btn",onClick:a,disabled:!c,title:"Zoom In (Ctrl++)"},"+"),o.default.createElement("button",{className:"zoom-btn",onClick:l,title:"Fit to Screen (Ctrl+0)"},"‚ä°")),o.default.createElement("div",{className:"zoom-shortcuts-hint"},o.default.createElement("div",{className:"shortcut-line"},o.default.createElement("kbd",null,"Ctrl"),"+",o.default.createElement("kbd",null,"+"),"/",o.default.createElement("kbd",null,"‚àí")," Zoom"),o.default.createElement("div",{className:"shortcut-line"},o.default.createElement("kbd",null,"Ctrl"),"+",o.default.createElement("kbd",null,"0")," Fit"),o.default.createElement("div",{className:"shortcut-line"},o.default.createElement("kbd",null,"Shift"),"+Drag Pan")))}},15286(e,n,t){var a,o=this&&this.__createBinding||(Object.create?function(e,n,t,a){void 0===a&&(a=t);var o=Object.getOwnPropertyDescriptor(n,t);o&&!("get"in o?!n.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return n[t]}}),Object.defineProperty(e,a,o)}:function(e,n,t,a){void 0===a&&(a=t),e[a]=n[t]}),r=this&&this.__setModuleDefault||(Object.create?function(e,n){Object.defineProperty(e,"default",{enumerable:!0,value:n})}:function(e,n){e.default=n}),A=this&&this.__importStar||(a=function(e){return a=Object.getOwnPropertyNames||function(e){var n=[];for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(n[n.length]=t);return n},a(e)},function(e){if(e&&e.__esModule)return e;var n={};if(null!=e)for(var t=a(e),A=0;A<t.length;A++)"default"!==t[A]&&o(n,e,t[A]);return r(n,e),n});Object.defineProperty(n,"__esModule",{value:!0}),n.ExportModal=void 0;const l=A(t(96540)),i=t(72980),s=t(51887),c=t(88952),d=t(25375);n.ExportModal=({isOpen:e,onClose:n,nodes:t,edges:a,rawData:o,reactFlowWrapper:r,source:A="local",repoId:m,backendUrl:C})=>{const[f,g]=(0,l.useState)("idle"),[B,h]=(0,l.useState)(""),[b,I]=(0,l.useState)(new Set),[x,y]=(0,l.useState)(new Set(["mermaid","plantuml"])),[v,E]=(0,l.useState)(!0),[k,w]=(0,l.useState)(!0),[N,S]=(0,l.useState)(!1),[_,z]=(0,l.useState)({scale:2,quality:.95}),[O,M]=(0,l.useState)({includeMetadata:!0,includeTitle:!0}),[P,j]=(0,l.useState)({format:"mermaid",includeStats:!0}),T=(0,l.useRef)(null),D=(e,n,t)=>{const a=new Blob([e],{type:t}),o=URL.createObjectURL(a),r=document.createElement("a");r.href=o,r.download=n,r.click(),URL.revokeObjectURL(o)};if((0,l.useEffect)(()=>{const t=t=>{"Escape"===t.key&&e&&n()};return window.addEventListener("keydown",t),()=>window.removeEventListener("keydown",t)},[e,n]),(0,l.useEffect)(()=>{const t=e=>{T.current&&e.target instanceof HTMLElement&&!T.current.contains(e.target)&&n()};return e&&document.addEventListener("mousedown",t),()=>document.removeEventListener("mousedown",t)},[e,n]),!e)return null;const q=async e=>{g("exporting"),h(`Exporting as ${e.toUpperCase()}...`);try{switch(e){case"json":(0,i.downloadJSON)(t,a,`graph-export-${Date.now()}.json`,o,A);break;case"png":if(!r)throw new Error("Graph element not found");await(0,s.exportAsPNG)(r,`graph-${Date.now()}.png`,_);break;case"jpeg":if(!r)throw new Error("Graph element not found");await(0,s.exportAsJPEG)(r,`graph-${Date.now()}.jpg`,_);break;case"webp":if(!r)throw new Error("Graph element not found");await(0,s.exportAsWebP)(r,`graph-${Date.now()}.webp`,_);break;case"svg":(0,s.exportAsSVG)(t,a,`graph-${Date.now()}.svg`);break;case"pdf":if(!r)throw new Error("Graph element not found");await(0,c.exportAsPDF)(r,t,a,`graph-${Date.now()}.pdf`,O);break;case"markdown":(0,d.exportAsMarkdown)(t,a,`graph-${Date.now()}.md`,P)}g("success"),h(`Successfully exported as ${e.toUpperCase()}!`),setTimeout(()=>{g("idle"),h("")},2e3)}catch(e){g("error"),h(`Export failed: ${e instanceof Error?e.message:"Unknown error"}`),setTimeout(()=>{g("idle"),h("")},3e3)}},Y=(0,i.formatFileSize)((0,i.getJSONSize)(t,a,o)),L=(0,i.formatFileSize)((0,c.estimatePDFSize)(t,a)),$=(0,i.formatFileSize)((0,d.getMarkdownSize)(t,a)),R=(0,s.estimateImageSize)(t,_.scale||2);return l.default.createElement("div",{className:"export-modal-overlay"},l.default.createElement("div",{className:"export-modal",ref:T},l.default.createElement("div",{className:"export-modal-header"},l.default.createElement("h2",null,"üì• Export Graph"),l.default.createElement("button",{className:"close-btn",onClick:n,"aria-label":"Close"},"√ó")),l.default.createElement("div",{className:"export-modal-body"},l.default.createElement("p",{className:"export-description"},"Export your architecture graph in multiple formats for documentation, sharing, and analysis."),l.default.createElement("section",{className:"export-section"},l.default.createElement("h3",null,"Quick Export"),l.default.createElement("div",{className:"export-grid"},l.default.createElement(u,{icon:"üíæ",title:"JSON",description:"Complete data",size:Y,onClick:()=>q("json"),disabled:"exporting"===f}),l.default.createElement(u,{icon:"üñºÔ∏è",title:"PNG",description:"High-quality image",size:(0,i.formatFileSize)(R.estimatedBytes),onClick:()=>q("png"),disabled:"exporting"===f||!r}),l.default.createElement(u,{icon:"üìÑ",title:"PDF",description:"Document format",size:L,onClick:()=>q("pdf"),disabled:"exporting"===f||!r}),l.default.createElement(u,{icon:"üìù",title:"Markdown",description:"Documentation",size:$,onClick:()=>q("markdown"),disabled:"exporting"===f}))),l.default.createElement("section",{className:"export-section"},l.default.createElement("h3",null,"Bulk Export"),l.default.createElement("p",{className:"section-hint"},"Select multiple formats to export at once"),l.default.createElement("div",{className:"format-checkboxes"},["json","png","jpeg","webp","svg","pdf","markdown"].map(e=>l.default.createElement("label",{key:e,className:"format-checkbox"},l.default.createElement("input",{type:"checkbox",checked:b.has(e),onChange:()=>(e=>{const n=new Set(b);n.has(e)?n.delete(e):n.add(e),I(n)})(e),disabled:"exporting"===f}),l.default.createElement("span",null,e.toUpperCase())))),l.default.createElement("button",{className:"bulk-export-btn",onClick:async()=>{if(0===b.size)return void h("Please select at least one format");g("exporting"),h(`Exporting ${b.size} formats...`);const e=[];for(const n of Array.from(b))try{await q(n),await new Promise(e=>setTimeout(e,500))}catch(t){e.push(`${n}: ${t instanceof Error?t.message:"Failed"}`)}0===e.length?(g("success"),h(`Successfully exported ${b.size} formats!`)):(g("error"),h(`${e.length} exports failed: ${e.join(", ")}`)),setTimeout(()=>{g("idle"),h(""),I(new Set)},3e3)},disabled:"exporting"===f||0===b.size},"Export ",b.size>0&&`(${b.size})`," Selected")),l.default.createElement("section",{className:"export-section"},l.default.createElement("h3",null,"Server Exports"),l.default.createElement("p",{className:"section-hint"},"Generate Mermaid/PlantUML/LLM artifacts from the backend."),l.default.createElement("div",{className:"format-checkboxes"},["mermaid","plantuml","json","markdown"].map(e=>l.default.createElement("label",{key:e,className:"format-checkbox"},l.default.createElement("input",{type:"checkbox",checked:x.has(e),onChange:()=>(e=>{const n=new Set(x);n.has(e)?n.delete(e):n.add(e),y(n)})(e),disabled:"exporting"===f}),l.default.createElement("span",null,e.toUpperCase())))),l.default.createElement("div",{className:"format-checkboxes"},l.default.createElement("label",{className:"format-checkbox"},l.default.createElement("input",{type:"checkbox",checked:v,onChange:e=>E(e.target.checked),disabled:"exporting"===f}),l.default.createElement("span",null,"LLM Summary")),l.default.createElement("label",{className:"format-checkbox"},l.default.createElement("input",{type:"checkbox",checked:k,onChange:e=>w(e.target.checked),disabled:"exporting"===f}),l.default.createElement("span",null,"Heatmap Data"))),l.default.createElement("button",{className:"bulk-export-btn",onClick:async()=>{if(!C)return g("error"),void h("Backend URL is not configured");if(!m)return g("error"),void h("Repository ID is not available yet");if(0===x.size&&!v&&!k)return g("error"),void h("Select at least one server export");g("exporting"),h("Generating server exports...");try{const e=await fetch(`${C}/api/export/${encodeURIComponent(m)}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({formats:Array.from(x),include_llm_summary:v,include_heatmap:k})});if(!e.ok){const n=await e.text();throw new Error(n||e.statusText)}const n=(await e.json()).exports||{};n.mermaid&&D(n.mermaid,`architecture-${m}.mmd`,"text/plain"),n.plantuml&&D(n.plantuml,`architecture-${m}.puml`,"text/plain"),n.markdown&&D(n.markdown,`architecture-${m}.md`,"text/markdown"),n.json&&D(JSON.stringify(n.json,null,2),`architecture-${m}.json`,"application/json"),n.llm_summary&&D(JSON.stringify(n.llm_summary,null,2),`architecture-summary-${m}.json`,"application/json"),n.heatmap&&D(JSON.stringify(n.heatmap,null,2),`architecture-heatmap-${m}.json`,"application/json"),g("success"),h("Server exports generated"),setTimeout(()=>{g("idle"),h("")},2e3)}catch(e){g("error"),h(`Server export failed: ${e instanceof Error?e.message:"Unknown error"}`),setTimeout(()=>{g("idle"),h("")},3e3)}},disabled:"exporting"===f},"Generate Server Exports")),l.default.createElement("section",{className:"export-section"},l.default.createElement("button",{className:"toggle-advanced",onClick:()=>S(!N)},N?"‚ñº":"‚ñ∂"," Advanced Options"),N&&l.default.createElement("div",{className:"advanced-options"},l.default.createElement("div",{className:"options-group"},l.default.createElement("h4",null,"Image Options"),l.default.createElement("label",null,"Quality:",l.default.createElement("input",{type:"range",min:"0.1",max:"1",step:"0.05",value:_.quality||.95,onChange:e=>z({..._,quality:parseFloat(e.target.value)})}),l.default.createElement("span",null,Math.round(100*(_.quality||.95)),"%")),l.default.createElement("label",null,"Scale:",l.default.createElement("select",{value:_.scale||2,onChange:e=>z({..._,scale:parseInt(e.target.value)})},l.default.createElement("option",{value:"1"},"1x"),l.default.createElement("option",{value:"2"},"2x (Recommended)"),l.default.createElement("option",{value:"3"},"3x")))),l.default.createElement("div",{className:"options-group"},l.default.createElement("h4",null,"PDF Options"),l.default.createElement("label",null,l.default.createElement("input",{type:"checkbox",checked:O.includeMetadata??!0,onChange:e=>M({...O,includeMetadata:e.target.checked})}),"Include Metadata"),l.default.createElement("label",null,l.default.createElement("input",{type:"checkbox",checked:O.includeTitle??!0,onChange:e=>M({...O,includeTitle:e.target.checked})}),"Include Title")),l.default.createElement("div",{className:"options-group"},l.default.createElement("h4",null,"Markdown Options"),l.default.createElement("label",null,"Format:",l.default.createElement("select",{value:P.format||"mermaid",onChange:e=>j({...P,format:e.target.value})},l.default.createElement("option",{value:"mermaid"},"Mermaid Diagram"),l.default.createElement("option",{value:"github"},"GitHub"),l.default.createElement("option",{value:"standard"},"Standard"))),l.default.createElement("label",null,l.default.createElement("input",{type:"checkbox",checked:P.includeStats??!0,onChange:e=>j({...P,includeStats:e.target.checked})}),"Include Statistics")))),l.default.createElement("section",{className:"export-section"},l.default.createElement("h3",null,"Additional Actions"),l.default.createElement("div",{className:"action-buttons"},l.default.createElement("button",{className:"action-btn",onClick:async()=>{if(r){g("exporting"),h("Copying to clipboard...");try{await(0,s.copyToClipboard)(r),g("success"),h("Copied to clipboard!"),setTimeout(()=>{g("idle"),h("")},2e3)}catch(e){g("error"),h("Failed to copy to clipboard"),setTimeout(()=>{g("idle"),h("")},2e3)}}},disabled:!r||"exporting"===f},"üìã Copy to Clipboard"),l.default.createElement("button",{className:"action-btn",onClick:()=>(0,s.exportAsSVG)(t,a,`graph-${Date.now()}.svg`),disabled:"exporting"===f},"üé® Export SVG"),l.default.createElement("button",{className:"action-btn",onClick:()=>(0,d.exportAsREADME)(t,a,"Project","ARCHITECTURE.md"),disabled:"exporting"===f},"üìñ Export as README"))),B&&l.default.createElement("div",{className:`status-message status-${f}`},B),l.default.createElement("div",{className:"graph-info"},l.default.createElement("span",null,t.length," nodes"),l.default.createElement("span",null,"‚Ä¢"),l.default.createElement("span",null,a.length," edges"),l.default.createElement("span",null,"‚Ä¢"),l.default.createElement("span",null,"Source: ",A))),l.default.createElement("style",null,p)))};const u=({icon:e,title:n,description:t,size:a,onClick:o,disabled:r})=>l.default.createElement("button",{className:"export-btn",onClick:o,disabled:r},l.default.createElement("span",{className:"export-icon"},e),l.default.createElement("div",{className:"export-info"},l.default.createElement("div",{className:"export-title"},n),l.default.createElement("div",{className:"export-desc"},t),l.default.createElement("div",{className:"export-size"},"~",a))),p='\n    .export-modal-overlay {\n        position: fixed;\n        top: 0;\n        left: 0;\n        right: 0;\n        bottom: 0;\n        background: rgba(0, 0, 0, 0.7);\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        z-index: 10000;\n        backdrop-filter: blur(4px);\n    }\n\n    .export-modal {\n        background: var(--am-panel-bg);\n        border-radius: 12px;\n        width: 90%;\n        max-width: 700px;\n        max-height: 90vh;\n        overflow-y: auto;\n        box-shadow: 0 8px 32px rgba(0, 0, 0, 0.5);\n        animation: modalSlideIn 0.3s ease-out;\n    }\n\n    @keyframes modalSlideIn {\n        from {\n            opacity: 0;\n            transform: translateY(-20px);\n        }\n        to {\n            opacity: 1;\n            transform: translateY(0);\n        }\n    }\n\n    .export-modal-header {\n        display: flex;\n        justify-content: space-between;\n        align-items: center;\n        padding: 20px 24px;\n        border-bottom: 1px solid var(--am-border);\n    }\n\n    .export-modal-header h2 {\n        margin: 0;\n        font-size: 20px;\n        color: var(--am-panel-fg);\n    }\n\n    .close-btn {\n        background: none;\n        border: none;\n        font-size: 28px;\n        color: var(--am-panel-fg);\n        cursor: pointer;\n        padding: 0;\n        width: 32px;\n        height: 32px;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        border-radius: 4px;\n        transition: background 0.2s;\n    }\n\n    .close-btn:hover {\n        background: var(--am-hover);\n    }\n\n    .export-modal-body {\n        padding: 24px;\n    }\n\n    .export-description {\n        margin: 0 0 24px 0;\n        color: var(--am-desc);\n        font-size: 14px;\n        line-height: 1.5;\n    }\n\n    .export-section {\n        margin-bottom: 24px;\n    }\n\n    .export-section h3 {\n        margin: 0 0 12px 0;\n        font-size: 16px;\n        font-weight: 600;\n        color: var(--am-panel-fg);\n    }\n\n    .section-hint {\n        margin: 0 0 12px 0;\n        font-size: 13px;\n        color: var(--am-desc);\n    }\n\n    .export-grid {\n        display: grid;\n        grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));\n        gap: 12px;\n    }\n\n    .export-btn {\n        background: var(--am-bg-lighter, #2d2d2d);\n        border: 1px solid var(--am-border);\n        border-radius: 8px;\n        padding: 16px;\n        cursor: pointer;\n        transition: all 0.2s;\n        text-align: left;\n    }\n\n    .export-btn:hover:not(:disabled) {\n        background: var(--am-hover);\n        border-color: var(--am-accent);\n        transform: translateY(-2px);\n    }\n\n    .export-btn:disabled {\n        opacity: 0.5;\n        cursor: not-allowed;\n    }\n\n    .export-icon {\n        font-size: 32px;\n        display: block;\n        margin-bottom: 8px;\n    }\n\n    .export-info {\n        display: flex;\n        flex-direction: column;\n        gap: 4px;\n    }\n\n    .export-title {\n        font-weight: 600;\n        color: var(--am-panel-fg);\n        font-size: 14px;\n    }\n\n    .export-desc {\n        font-size: 12px;\n        color: var(--am-desc);\n    }\n\n    .export-size {\n        font-size: 11px;\n        color: var(--am-accent);\n        margin-top: 4px;\n    }\n\n    .format-checkboxes {\n        display: flex;\n        flex-wrap: wrap;\n        gap: 12px;\n        margin-bottom: 16px;\n    }\n\n    .format-checkbox {\n        display: flex;\n        align-items: center;\n        gap: 6px;\n        padding: 6px 12px;\n        background: var(--am-bg-lighter, #2d2d2d);\n        border: 1px solid var(--am-border);\n        border-radius: 6px;\n        cursor: pointer;\n        transition: all 0.2s;\n    }\n\n    .format-checkbox:hover {\n        background: var(--am-hover);\n        border-color: var(--am-accent);\n    }\n\n    .format-checkbox input {\n        cursor: pointer;\n    }\n\n    .format-checkbox span {\n        font-size: 13px;\n        color: var(--am-panel-fg);\n    }\n\n    .bulk-export-btn {\n        width: 100%;\n        padding: 12px;\n        background: var(--am-btn-bg);\n        color: var(--am-btn-fg);\n        border: none;\n        border-radius: 6px;\n        font-size: 14px;\n        font-weight: 600;\n        cursor: pointer;\n        transition: background 0.2s;\n    }\n\n    .bulk-export-btn:hover:not(:disabled) {\n        background: var(--am-btn-hover);\n    }\n\n    .bulk-export-btn:disabled {\n        opacity: 0.5;\n        cursor: not-allowed;\n    }\n\n    .toggle-advanced {\n        background: none;\n        border: none;\n        color: var(--am-link);\n        font-size: 14px;\n        cursor: pointer;\n        padding: 8px 0;\n        text-align: left;\n    }\n\n    .toggle-advanced:hover {\n        text-decoration: underline;\n    }\n\n    .advanced-options {\n        margin-top: 16px;\n        padding: 16px;\n        background: var(--am-bg-lighter, #2d2d2d);\n        border-radius: 8px;\n    }\n\n    .options-group {\n        margin-bottom: 16px;\n    }\n\n    .options-group:last-child {\n        margin-bottom: 0;\n    }\n\n    .options-group h4 {\n        margin: 0 0 12px 0;\n        font-size: 14px;\n        font-weight: 600;\n        color: var(--am-panel-fg);\n    }\n\n    .options-group label {\n        display: flex;\n        align-items: center;\n        gap: 8px;\n        margin-bottom: 8px;\n        font-size: 13px;\n        color: var(--am-panel-fg);\n    }\n\n    .options-group input[type="range"] {\n        flex: 1;\n    }\n\n    .options-group select {\n        flex: 1;\n        padding: 4px 8px;\n        background: var(--am-input-bg);\n        color: var(--am-input-fg);\n        border: 1px solid var(--am-input-border);\n        border-radius: 4px;\n    }\n\n    .action-buttons {\n        display: flex;\n        flex-wrap: wrap;\n        gap: 8px;\n    }\n\n    .action-btn {\n        padding: 8px 16px;\n        background: var(--am-btn-secondary-bg);\n        color: var(--am-btn-secondary-fg);\n        border: none;\n        border-radius: 6px;\n        font-size: 13px;\n        cursor: pointer;\n        transition: background 0.2s;\n    }\n\n    .action-btn:hover:not(:disabled) {\n        background: var(--am-btn-secondary-hover);\n    }\n\n    .action-btn:disabled {\n        opacity: 0.5;\n        cursor: not-allowed;\n    }\n\n    .status-message {\n        padding: 12px;\n        border-radius: 6px;\n        margin-top: 16px;\n        font-size: 14px;\n        text-align: center;\n        animation: slideIn 0.3s ease-out;\n    }\n\n    @keyframes slideIn {\n        from {\n            opacity: 0;\n            transform: translateY(-10px);\n        }\n        to {\n            opacity: 1;\n            transform: translateY(0);\n        }\n    }\n\n    .status-idle {\n        display: none;\n    }\n\n    .status-exporting {\n        background: rgba(66, 153, 225, 0.2);\n        color: #4299e1;\n        border: 1px solid rgba(66, 153, 225, 0.3);\n    }\n\n    .status-success {\n        background: rgba(72, 187, 120, 0.2);\n        color: #48bb78;\n        border: 1px solid rgba(72, 187, 120, 0.3);\n    }\n\n    .status-error {\n        background: rgba(245, 101, 101, 0.2);\n        color: #f56565;\n        border: 1px solid rgba(245, 101, 101, 0.3);\n    }\n\n    .graph-info {\n        margin-top: 20px;\n        padding-top: 16px;\n        border-top: 1px solid var(--am-border);\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        gap: 8px;\n        font-size: 12px;\n        color: var(--am-desc);\n    }\n'},15651(e,n,t){var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.NotificationHistory=void 0;const o=a(t(96540));n.NotificationHistory=({entries:e,onClear:n})=>0===e.length?null:o.default.createElement("div",{className:"notification-panel"},o.default.createElement("div",{className:"notification-header"},o.default.createElement("span",null,"Recent Updates"),o.default.createElement("button",{onClick:n},"Clear")),o.default.createElement("ul",null,e.map(e=>o.default.createElement("li",{key:e.id},o.default.createElement("span",null,e.message),o.default.createElement("time",null,e.timestamp)))))},17990(e,n,t){var a,o=this&&this.__createBinding||(Object.create?function(e,n,t,a){void 0===a&&(a=t);var o=Object.getOwnPropertyDescriptor(n,t);o&&!("get"in o?!n.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return n[t]}}),Object.defineProperty(e,a,o)}:function(e,n,t,a){void 0===a&&(a=t),e[a]=n[t]}),r=this&&this.__setModuleDefault||(Object.create?function(e,n){Object.defineProperty(e,"default",{enumerable:!0,value:n})}:function(e,n){e.default=n}),A=this&&this.__importStar||(a=function(e){return a=Object.getOwnPropertyNames||function(e){var n=[];for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(n[n.length]=t);return n},a(e)},function(e){if(e&&e.__esModule)return e;var n={};if(null!=e)for(var t=a(e),A=0;A<t.length;A++)"default"!==t[A]&&o(n,e,t[A]);return r(n,e),n});Object.defineProperty(n,"__esModule",{value:!0}),n.ImpactAnalysisPanel=void 0,n.useImpactAnalysis=function(e,n=3){const[t,a]=(0,l.useState)(null),[o,r]=(0,l.useState)(!1),[A,i]=(0,l.useState)(null),s=async e=>{r(!0),i(null);try{const t=await fetch(`http://localhost:8000/api/impact/${encodeURIComponent(e)}?depth=${n}`);if(!t.ok)throw new Error(`HTTP ${t.status}: ${t.statusText}`);const o=await t.json(),r={sourceNodeId:e,affectedNodes:o.affected_nodes?.map(e=>({nodeId:e.node_id||e.id,distance:e.distance||1,impactType:1===e.distance?"direct":"indirect"}))||[],maxDepth:o.max_depth||n,totalImpact:o.total_impact||o.affected_nodes?.length||0};a(r)}catch(e){const n=e instanceof Error?e.message:"Failed to fetch impact analysis";i(n),console.error("Impact analysis error:",e)}finally{r(!1)}};return(0,l.useEffect)(()=>{e&&s(e)},[e,n]),{data:t,isLoading:o,error:A,fetchImpact:s}};const l=A(t(96540));n.ImpactAnalysisPanel=({data:e,onClose:n,onNodeClick:t})=>{const[a,o]=(0,l.useState)(null);if(!e)return null;const r=new Map;e.affectedNodes.forEach(e=>{const n=r.get(e.distance)||[];n.push(e),r.set(e.distance,n)});const A=e=>{const n=["#e74c3c","#e67e22","#f39c12","#3498db"];return n[Math.min(e-1,n.length-1)]};return l.default.createElement("div",{className:"impact-analysis-panel"},l.default.createElement("div",{className:"impact-header"},l.default.createElement("div",{className:"impact-title"},l.default.createElement("span",{className:"impact-icon"},"üí•"),l.default.createElement("span",null,"Impact Analysis")),l.default.createElement("button",{className:"impact-close-btn",onClick:n,title:"Close"},"‚úï")),l.default.createElement("div",{className:"impact-summary"},l.default.createElement("div",{className:"impact-stat"},l.default.createElement("span",{className:"stat-label"},"Total Impact:"),l.default.createElement("span",{className:"stat-value"},e.totalImpact," nodes")),l.default.createElement("div",{className:"impact-stat"},l.default.createElement("span",{className:"stat-label"},"Max Distance:"),l.default.createElement("span",{className:"stat-value"},e.maxDepth," hops"))),l.default.createElement("div",{className:"impact-legend"},l.default.createElement("div",{className:"legend-title"},"Impact Levels:"),l.default.createElement("div",{className:"legend-items"},l.default.createElement("div",{className:"legend-item"},l.default.createElement("div",{className:"legend-color",style:{backgroundColor:"#e74c3c"}}),l.default.createElement("span",null,"1 hop (Direct)")),l.default.createElement("div",{className:"legend-item"},l.default.createElement("div",{className:"legend-color",style:{backgroundColor:"#e67e22"}}),l.default.createElement("span",null,"2 hops")),l.default.createElement("div",{className:"legend-item"},l.default.createElement("div",{className:"legend-color",style:{backgroundColor:"#f39c12"}}),l.default.createElement("span",null,"3 hops")),l.default.createElement("div",{className:"legend-item"},l.default.createElement("div",{className:"legend-color",style:{backgroundColor:"#3498db"}}),l.default.createElement("span",null,"4+ hops")))),l.default.createElement("div",{className:"impact-levels"},Array.from(r.entries()).sort(([e],[n])=>e-n).map(([e,n])=>l.default.createElement("div",{key:e,className:"impact-level"},l.default.createElement("div",{className:"impact-level-header",onClick:()=>o(a===e?null:e)},l.default.createElement("div",{className:"level-indicator",style:{backgroundColor:A(e)}}),l.default.createElement("div",{className:"level-info"},l.default.createElement("span",{className:"level-distance"},e," hop",e>1?"s":""),l.default.createElement("span",{className:"level-count"},n.length," node",n.length>1?"s":"")),l.default.createElement("span",{className:"level-toggle"},a===e?"‚ñº":"‚ñ∂")),a===e&&l.default.createElement("div",{className:"impact-level-nodes"},n.map(e=>l.default.createElement("div",{key:e.nodeId,className:"impact-node-item",onClick:()=>t?.(e.nodeId)},l.default.createElement("span",{className:"node-type-badge"},"direct"===e.impactType?"‚Üí":"‚§∑"),l.default.createElement("span",{className:"node-id"},e.nodeId))))))),l.default.createElement("div",{className:"impact-actions"},l.default.createElement("button",{className:"impact-btn",onClick:n},"Close")))}},25067(e,n){Object.defineProperty(n,"__esModule",{value:!0}),n.ArchMindWebviewApiClient=void 0,n.ArchMindWebviewApiClient=class{constructor(e="http://localhost:8000",n=3e4){this.abortController=null,this.config={graphEngineUrl:e,timeout:n}}async request(e,n={}){this.abortController=new AbortController;const t=setTimeout(()=>this.abortController?.abort(),this.config.timeout),a=`${this.config.graphEngineUrl}${e}`,o={"Content-Type":"application/json",...n.headers||{}};try{const e=await fetch(a,{...n,headers:o,signal:this.abortController.signal});if(clearTimeout(t),!e.ok){const n=await e.text();let t=`HTTP ${e.status}: ${e.statusText}`;try{const e=JSON.parse(n);t=e.message||e.error||t}catch{}throw new Error(t)}return await e.json()}catch(e){if(clearTimeout(t),e instanceof Error&&"AbortError"===e.name)throw new Error("Request timed out");throw e instanceof Error?e:new Error("Unknown error occurred")}}async getModuleBoundaries(e){return this.request(`/api/graph/${encodeURIComponent(e)}/boundaries`)}async getDependencies(e){return this.request(`/api/graph/${encodeURIComponent(e)}/dependencies`)}async getCommunication(e){return this.request(`/api/graph/${encodeURIComponent(e)}/communication`)}async getContributions(e){return this.request(`/api/graph/${encodeURIComponent(e)}/contributions`)}async getArchitectureInsights(e){return this.request(`/api/analyze/${encodeURIComponent(e)}/architecture`)}}},25375(e,n){function t(e,n,t="TB"){let a="\n## Graph Diagram\n\n```mermaid\n";return a+=`graph ${t}\n`,e.forEach(e=>{const n=A(e.id),t=l(e.data?.label||e.id);let o="";switch(e.data?.type||"default"){case"directory":case"folder":case"class":o=`${n}[${t}]`;break;case"function":o=`${n}([${t}])`;break;case"file":o=`${n}(${t})`;break;default:o=`${n}{{${t}}}`}a+=`  ${o}\n`}),a+="\n",n.forEach(e=>{const n=A(e.source),t=A(e.target),o=e.label?`|${l(String(e.label))}|`:"";a+=`  ${n} --\x3e${o} ${t}\n`}),a+="```\n\n",a}function a(e,n){let t="## Metadata\n\n";return t+=`- **Generated**: ${(new Date).toLocaleString()}\n`,t+=`- **Total Nodes**: ${e.length}\n`,t+=`- **Total Edges**: ${n.length}\n`,t+="- **Export Format**: Markdown\n",t+="\n",t}function o(e,n){let t="## Statistics\n\n";const a=new Map;e.forEach(e=>{const n=e.data?.type||"default";a.set(n,(a.get(n)||0)+1)}),t+="### Node Type Distribution\n\n",t+="| Type | Count | Percentage |\n",t+="|------|-------|------------|\n",Array.from(a.entries()).sort((e,n)=>n[1]-e[1]).forEach(([n,a])=>{const o=(a/e.length*100).toFixed(1);t+=`| ${n} | ${a} | ${o}% |\n`}),t+="\n";const o=e.length>0?(n.length/e.length).toFixed(2):"0";t+="### Connection Statistics\n\n",t+=`- **Average connections per node**: ${o}\n`,t+=`- **Total connections**: ${n.length}\n`;const r=new Map;n.forEach(e=>{r.set(e.source,(r.get(e.source)||0)+1),r.set(e.target,(r.get(e.target)||0)+1)});const A=Array.from(r.entries()).sort((e,n)=>n[1]-e[1]).slice(0,5);return A.length>0&&(t+="\n### Most Connected Nodes\n\n",A.forEach(([n,a])=>{const o=e.find(e=>e.id===n);t+=`- **${o?.data?.label||n}**: ${a} connections\n`})),t+="\n",t}function r(e,n){if("function"==typeof acquireVsCodeApi)acquireVsCodeApi().postMessage({command:"saveFile",data:e,filename:n,mimeType:"text/markdown;charset=utf-8"});else{const t=new Blob([e],{type:"text/markdown;charset=utf-8"}),a=URL.createObjectURL(t),o=document.createElement("a");o.href=a,o.download=n,document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL(a)}}function A(e){const n=e.replace(/[^a-zA-Z0-9_]/g,"_");return n.match(/^[0-9]/)?`node_${n}`:n}function l(e){return e.replace(/\\/g,"\\\\").replace(/\[/g,"\\[").replace(/\]/g,"\\]").replace(/\(/g,"\\(").replace(/\)/g,"\\)").replace(/\|/g,"\\|")}Object.defineProperty(n,"__esModule",{value:!0}),n.DEFAULT_MARKDOWN_OPTIONS=void 0,n.exportAsMarkdown=function(e,A,i="graph.md",s={}){const c={...n.DEFAULT_MARKDOWN_OPTIONS,...s};let d="";switch(d+="# Architecture Graph\n\n",c.includeMetadata&&(d+=a(e,A)),c.includeStats&&(d+=o(e,A)),c.format){case"mermaid":d+=t(e,A,c.mermaidDirection);break;case"github":d+=function(e,n){let t="## Graph Structure\n\n";t+="### Nodes\n\n";const a=new Map;return e.forEach(e=>{const n=e.data?.type||"default";a.has(n)||a.set(n,[]),a.get(n).push(e)}),a.forEach((e,n)=>{t+=`#### ${n.charAt(0).toUpperCase()+n.slice(1)}\n\n`,e.forEach(e=>{const n=e.data?.label||e.id;t+=`- ${n}\n`}),t+="\n"}),t+="### Connections\n\n",n.forEach(n=>{const a=e.find(e=>e.id===n.source),o=e.find(e=>e.id===n.target),r=a?.data?.label||n.source,A=o?.data?.label||n.target;t+=`- ${r} ‚Üí ${A}\n`}),t+="\n",t}(e,A);break;case"standard":d+=function(e,n){let t="## Graph Overview\n\n";return t+=`This graph contains ${e.length} nodes and ${n.length} edges.\n\n`,t+="### Visual Representation\n\n",t+="```\n",e.slice(0,20).forEach(a=>{const o=a.data?.label||a.id;t+=`[${o}]\n`,n.filter(e=>e.source===a.id).forEach(n=>{const a=e.find(e=>e.id===n.target),o=a?.data?.label||n.target;t+=`  ‚îî‚îÄ> ${o}\n`})}),e.length>20&&(t+=`\n... and ${e.length-20} more nodes\n`),t+="```\n\n",t}(e,A)}c.includeNodeList&&(d+=function(e){let n="## Node Details\n\n";return n+="| ID | Label | Type | Position |\n",n+="|----|-------|------|----------|\n",e.forEach(e=>{const t=l(e.id),a=l(e.data?.label||e.id),o=e.data?.type||"default",r=`(${Math.round(e.position.x)}, ${Math.round(e.position.y)})`;n+=`| ${t} | ${a} | ${o} | ${r} |\n`}),n+="\n",n}(e)),c.includeEdgeList&&(d+=function(e,n){let t="## Edge Details\n\n";return t+="| Source | Target | Type |\n",t+="|--------|--------|------|\n",e.forEach(e=>{const a=n.find(n=>n.id===e.source),o=n.find(n=>n.id===e.target),r=l(a?.data?.label||e.source),A=l(o?.data?.label||e.target),i=e.type||"default";t+=`| ${r} | ${A} | ${i} |\n`}),t+="\n",t}(A,e)),r(d,i)},n.generateMermaidDiagram=t,n.exportAsREADME=function(e,n,A="Project",l="ARCHITECTURE.md"){let i=`# ${A} - Architecture\n\n`;i+="## Overview\n\n",i+=`This document describes the architecture of ${A}.\n\n`,i+=a(e,n),i+=o(e,n),i+=t(e,n,"TB"),r(i,l)},n.getMarkdownSize=function(e,n){const a=t(e,n);return new Blob([a]).size},n.DEFAULT_MARKDOWN_OPTIONS={format:"mermaid",includeMetadata:!0,includeStats:!0,includeNodeList:!1,includeEdgeList:!1,mermaidDirection:"TB"}},27527(e,n,t){var a,o=this&&this.__createBinding||(Object.create?function(e,n,t,a){void 0===a&&(a=t);var o=Object.getOwnPropertyDescriptor(n,t);o&&!("get"in o?!n.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return n[t]}}),Object.defineProperty(e,a,o)}:function(e,n,t,a){void 0===a&&(a=t),e[a]=n[t]}),r=this&&this.__setModuleDefault||(Object.create?function(e,n){Object.defineProperty(e,"default",{enumerable:!0,value:n})}:function(e,n){e.default=n}),A=this&&this.__importStar||(a=function(e){return a=Object.getOwnPropertyNames||function(e){var n=[];for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(n[n.length]=t);return n},a(e)},function(e){if(e&&e.__esModule)return e;var n={};if(null!=e)for(var t=a(e),A=0;A<t.length;A++)"default"!==t[A]&&o(n,e,t[A]);return r(n,e),n});Object.defineProperty(n,"__esModule",{value:!0}),n.KeyboardHelp=void 0,n.useKeyboardNavigation=function(e){const{nodes:n,onNodeSelect:t,onNodeActivate:a,getCurrentNodeId:o,getConnectedNodes:r,onFocusSearch:A,onShowHelp:i}=e,s=(0,l.useRef)(!1),c=(0,l.useCallback)(e=>{const t=o();if(!t||0===n.length)return n[0]?.id||null;const a=n.findIndex(e=>e.id===t);if(-1===a)return null;switch(e){case"down":return n[(a+1)%n.length]?.id||null;case"up":return n[(a-1+n.length)%n.length]?.id||null;case"right":case"left":const o=r(t);return o.length>0?o[0]:"right"===e?n[(a+1)%n.length]?.id||null:n[(a-1+n.length)%n.length]?.id||null;default:return null}},[n,o,r]),d=(0,l.useCallback)(e=>{const n=c(e);n&&t(n)},[c,t]),u=(0,l.useCallback)(e=>{const a=o();if(!a)return void(n.length>0&&t(n[0].id));const A=r(a);if(0===A.length)return void d(e?"up":"down");const l=A.indexOf(a),i=e?(l-1+A.length)%A.length:(l+1)%A.length;t(A[i])},[o,r,n,t,d]);return(0,l.useEffect)(()=>{const e=e=>{const r=e.target,l="INPUT"===r.tagName||"TEXTAREA"===r.tagName||r.isContentEditable;if(["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"].includes(e.key)&&!l){e.preventDefault();const n=e.key.replace("Arrow","").toLowerCase();return void d(n)}if("Enter"===e.key&&!l){const n=o();return void(n&&(e.preventDefault(),a(n)))}return"Tab"!==e.key||l?"/"!==e.key||l?"?"!==e.key||l?"Home"!==e.key||l?"End"!==e.key||l?void 0:(e.preventDefault(),void(n.length>0&&t(n[n.length-1].id))):(e.preventDefault(),void(n.length>0&&t(n[0].id))):(e.preventDefault(),void i?.()):(e.preventDefault(),void A?.()):(e.preventDefault(),void u(e.shiftKey))};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[n,d,u,o,a,A,i,t]),{isNavigating:s.current}};const l=A(t(96540));n.KeyboardHelp=({onClose:e})=>l.default.createElement("div",{className:"keyboard-help-overlay",onClick:e},l.default.createElement("div",{className:"keyboard-help-panel",onClick:e=>e.stopPropagation()},l.default.createElement("div",{className:"help-header"},l.default.createElement("h3",{className:"help-title"},"‚å®Ô∏è Keyboard Shortcuts"),l.default.createElement("button",{className:"help-close-btn",onClick:e},"‚úï")),l.default.createElement("div",{className:"help-sections"},l.default.createElement("div",{className:"help-section"},l.default.createElement("h4",{className:"help-section-title"},"Navigation"),l.default.createElement("div",{className:"help-shortcuts"},l.default.createElement("div",{className:"help-shortcut"},l.default.createElement("kbd",null,"‚Üë"),l.default.createElement("kbd",null,"‚Üì"),l.default.createElement("kbd",null,"‚Üê"),l.default.createElement("kbd",null,"‚Üí"),l.default.createElement("span",null,"Move between nodes")),l.default.createElement("div",{className:"help-shortcut"},l.default.createElement("kbd",null,"Enter"),l.default.createElement("span",null,"Select/activate node")),l.default.createElement("div",{className:"help-shortcut"},l.default.createElement("kbd",null,"Tab"),l.default.createElement("span",null,"Cycle through connected nodes")),l.default.createElement("div",{className:"help-shortcut"},l.default.createElement("kbd",null,"Shift"),"+",l.default.createElement("kbd",null,"Tab"),l.default.createElement("span",null,"Cycle backward")),l.default.createElement("div",{className:"help-shortcut"},l.default.createElement("kbd",null,"Home"),l.default.createElement("span",null,"First node")),l.default.createElement("div",{className:"help-shortcut"},l.default.createElement("kbd",null,"End"),l.default.createElement("span",null,"Last node")))),l.default.createElement("div",{className:"help-section"},l.default.createElement("h4",{className:"help-section-title"},"Search & View"),l.default.createElement("div",{className:"help-shortcuts"},l.default.createElement("div",{className:"help-shortcut"},l.default.createElement("kbd",null,"/"),l.default.createElement("span",null,"Focus search")),l.default.createElement("div",{className:"help-shortcut"},l.default.createElement("kbd",null,"Ctrl"),"+",l.default.createElement("kbd",null,"F"),l.default.createElement("span",null,"Open search")),l.default.createElement("div",{className:"help-shortcut"},l.default.createElement("kbd",null,"Esc"),l.default.createElement("span",null,"Close panels")),l.default.createElement("div",{className:"help-shortcut"},l.default.createElement("kbd",null,"?"),l.default.createElement("span",null,"Show this help")))),l.default.createElement("div",{className:"help-section"},l.default.createElement("h4",{className:"help-section-title"},"Zoom & Theme"),l.default.createElement("div",{className:"help-shortcuts"},l.default.createElement("div",{className:"help-shortcut"},l.default.createElement("kbd",null,"Ctrl"),"+",l.default.createElement("kbd",null,"+"),l.default.createElement("span",null,"Zoom in")),l.default.createElement("div",{className:"help-shortcut"},l.default.createElement("kbd",null,"Ctrl"),"+",l.default.createElement("kbd",null,"‚àí"),l.default.createElement("span",null,"Zoom out")),l.default.createElement("div",{className:"help-shortcut"},l.default.createElement("kbd",null,"Ctrl"),"+",l.default.createElement("kbd",null,"0"),l.default.createElement("span",null,"Fit to screen")),l.default.createElement("div",{className:"help-shortcut"},l.default.createElement("kbd",null,"Ctrl"),"+",l.default.createElement("kbd",null,"Shift"),"+",l.default.createElement("kbd",null,"T"),l.default.createElement("span",null,"Toggle theme"))))),l.default.createElement("div",{className:"help-footer"},l.default.createElement("button",{className:"help-close-button",onClick:e},"Got it!"))))},33483(e,n,t){var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.HeatmapLegend=void 0;const o=a(t(96540)),r=t(97123);n.HeatmapLegend=({mode:e,minMetric:n,maxMetric:t})=>{if("off"===e||t<=0)return null;const a=[.1,.5,1],A=a.map(a=>{const o=n+(t-n)*a;return(0,r.formatHeatmapMetric)(e,o)});return o.default.createElement("div",{className:"heatmap-legend"},o.default.createElement("div",{className:"heatmap-legend-title"},"Heatmap: ",function(e){switch(e){case"commit_count":return"Commit Count";case"last_modified":return"Last Modified";case"author_count":return"Author Count";default:return"Off"}}(e)),o.default.createElement("div",{className:"heatmap-legend-scale"},a.map((e,a)=>{const l=n+(t-n)*e;return o.default.createElement("div",{key:e,className:"heatmap-legend-step"},o.default.createElement("span",{className:"heatmap-legend-swatch",style:{backgroundColor:(0,r.getHeatmapColor)(l,t)}}),o.default.createElement("span",{className:"heatmap-legend-label"},A[a]))})))}},38891(e,n,t){var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.LocalOutline=void 0;const o=a(t(96540)),r=({symbol:e,depth:n})=>{const t={function:"‚ö°",method:"Md",class:"üè∑Ô∏è",variable:"Vx"}[e.kind]||"‚Ä¢";return o.default.createElement("div",{className:"outline-item",style:{paddingLeft:15*n+"px"}},o.default.createElement("span",{className:"outline-icon"},t),o.default.createElement("span",{className:"outline-name"},e.name),o.default.createElement("span",{className:"outline-line"},":",e.startLine))},A=(e,n=0)=>e.map((e,t)=>o.default.createElement(o.default.Fragment,{key:`${e.name}-${t}`},o.default.createElement(r,{symbol:e,depth:n}),e.children&&A(e.children,n+1)));n.LocalOutline=({fileName:e,symbols:n,isVisible:t,onClose:a})=>t&&n&&0!==n.length?o.default.createElement("div",{className:"local-outline-panel"},o.default.createElement("div",{className:"outline-header"},o.default.createElement("span",{className:"outline-title"},"üìù ",e.split(/[/\\]/).pop()),o.default.createElement("button",{className:"outline-close",onClick:a},"√ó")),o.default.createElement("div",{className:"outline-content"},A(n)),o.default.createElement("style",null,"\n                .local-outline-panel {\n                    position: absolute;\n                    top: 20px;\n                    right: 20px;\n                    width: 250px;\n                    max-height: 400px;\n                    background: var(--am-panel-bg);\n                    border: 1px solid var(--am-border);\n                    border-radius: 6px;\n                    box-shadow: 0 4px 12px rgba(0,0,0,0.2);\n                    z-index: 1000;\n                    display: flex;\n                    flex-direction: column;\n                    color: var(--am-panel-fg);\n                    font-size: 12px;\n                }\n                .outline-header {\n                    padding: 8px 12px;\n                    border-bottom: 1px solid var(--am-border);\n                    display: flex;\n                    justify-content: space-between;\n                    align-items: center;\n                    background: rgba(255,255,255,0.05);\n                }\n                .outline-title {\n                    font-weight: 600;\n                    white-space: nowrap;\n                    overflow: hidden;\n                    text-overflow: ellipsis;\n                }\n                .outline-close {\n                    background: none;\n                    border: none;\n                    color: var(--am-panel-fg);\n                    cursor: pointer;\n                    font-size: 16px;\n                }\n                .outline-content {\n                    overflow-y: auto;\n                    padding: 8px;\n                    flex: 1;\n                }\n                .outline-item {\n                    padding: 2px 4px;\n                    display: flex;\n                    align-items: center;\n                }\n                .outline-icon {\n                    margin-right: 6px;\n                    opacity: 0.7;\n                    width: 16px;\n                    text-align: center;\n                }\n                .outline-line {\n                    margin-left: auto;\n                    opacity: 0.5;\n                    font-size: 10px;\n                }\n            ")):null},41176(e,n,t){var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.HeatmapNode=void 0;const o=a(t(96540));n.HeatmapNode=({data:e})=>o.default.createElement("div",{className:"heatmap-node",title:e.heatmapTooltip||""},e.label)},41681(e,n){let t;Object.defineProperty(n,"__esModule",{value:!0}),n.getVsCodeApi=function(){return void 0===t&&("function"==typeof acquireVsCodeApi?t=acquireVsCodeApi():(console.warn("acquireVsCodeApi is not available (running outside VS Code?)"),t={postMessage:e=>console.log("Mock postMessage:",e),getState:()=>({}),setState:e=>console.log("Mock setState:",e)})),t}},42925(e,n,t){Object.defineProperty(n,"__esModule",{value:!0}),n.useZoomPan=function(e={}){const{minZoom:n=.1,maxZoom:t=4,defaultZoom:l=1,zoomStep:i=.2,animationDuration:s=300}=e,c=(0,o.useReactFlow)(),[d,u]=(0,a.useState)({x:0,y:0,zoom:l});(0,a.useEffect)(()=>{const e=()=>{const e=c.getViewport();u(e)};e();const n=setInterval(e,100);return()=>clearInterval(n)},[c]);const p=(0,a.useCallback)(()=>{const e=(0,r.clamp)(d.zoom+i,n,t);c.setViewport({x:d.x,y:d.y,zoom:e},{duration:s})},[d,i,n,t,s,c]),m=(0,a.useCallback)(()=>{const e=(0,r.clamp)(d.zoom-i,n,t);c.setViewport({x:d.x,y:d.y,zoom:e},{duration:s})},[d,i,n,t,s,c]),C=(0,a.useCallback)((e,a)=>{const o=(0,r.clamp)(e,n,t);if(a){const{x:e,y:n,zoom:t}=d,r=(a.x-e)/t,A=(a.y-n)/t,l=a.x-r*o,i=a.y-A*o;c.setViewport({x:l,y:i,zoom:o},{duration:s})}else c.setViewport({x:d.x,y:d.y,zoom:o},{duration:s})},[d,n,t,s,c]),f=(0,a.useCallback)(()=>{c.fitView({padding:.2,duration:s,minZoom:n,maxZoom:t})},[c,s,n,t]),g=(0,a.useCallback)(()=>{c.setViewport({x:0,y:0,zoom:l},{duration:s})},[c,l,s]),B=(0,a.useCallback)((e,n)=>{c.setViewport({x:e,y:n,zoom:d.zoom},{duration:s})},[d.zoom,s,c]),h=(0,a.useCallback)((e,n)=>{c.setViewport({x:d.x+e,y:d.y+n,zoom:d.zoom},{duration:0})},[d,c]),b=(0,a.useCallback)(()=>{c.fitView({padding:.1,duration:s})},[c,s]),I=(0,a.useCallback)(e=>{"fit"===e.zoom?f():C(e.zoom)},[f,C]),x=d.zoom<t,y=d.zoom>n;return{zoom:d.zoom,zoomPercent:(0,r.zoomToPercent)(d.zoom),viewport:d,zoomIn:p,zoomOut:m,zoomTo:C,zoomToFit:f,resetZoom:g,panTo:B,panBy:h,centerView:b,presets:A,applyPreset:I,canZoomIn:x,canZoomOut:y}},n.useZoomPanKeyboard=function(e){const{zoomIn:n,zoomOut:t,zoomToFit:o,resetZoom:r}=e;(0,a.useEffect)(()=>{const e=e=>{!e.ctrlKey&&!e.metaKey||"+"!==e.key&&"="!==e.key||(e.preventDefault(),n()),(e.ctrlKey||e.metaKey)&&"-"===e.key&&(e.preventDefault(),t()),(e.ctrlKey||e.metaKey)&&"0"===e.key&&(e.preventDefault(),o()),(e.ctrlKey||e.metaKey)&&"1"===e.key&&(e.preventDefault(),r())};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[n,t,o,r])};const a=t(96540),o=t(20072),r=t(52151),A=[{label:"Fit to Screen",zoom:"fit",icon:"‚ä°"},{label:"50%",zoom:.5,icon:"‚àí"},{label:"100%",zoom:1,icon:"‚Ä¢"},{label:"150%",zoom:1.5,icon:"+"},{label:"200%",zoom:2,icon:"++"}]},46906(e,n,t){var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.ClusterNode=function({data:e}){const{cluster:n,onExpand:t}=e,{label:a,metrics:A}=n;return o.default.createElement("div",{className:"cluster-node"},o.default.createElement(r.Handle,{type:"target",position:r.Position.Top}),o.default.createElement("div",{className:"cluster-header"},o.default.createElement("div",{className:"cluster-icon"},"üìÅ"),o.default.createElement("div",{className:"cluster-title"},a)),o.default.createElement("div",{className:"cluster-metrics"},o.default.createElement("div",{className:"metric"},o.default.createElement("span",{className:"metric-label"},"Nodes:"),o.default.createElement("span",{className:"metric-value"},A.nodeCount)),A.fileCount>0&&o.default.createElement("div",{className:"metric"},o.default.createElement("span",{className:"metric-label"},"Files:"),o.default.createElement("span",{className:"metric-value"},A.fileCount)),A.functionCount>0&&o.default.createElement("div",{className:"metric"},o.default.createElement("span",{className:"metric-label"},"Functions:"),o.default.createElement("span",{className:"metric-value"},A.functionCount)),A.classCount>0&&o.default.createElement("div",{className:"metric"},o.default.createElement("span",{className:"metric-label"},"Classes:"),o.default.createElement("span",{className:"metric-value"},A.classCount))),o.default.createElement("button",{className:"cluster-expand-button",onClick:e=>{e.stopPropagation(),t(n.id)},title:"Expand cluster"},"Expand ‚ñ∂"),o.default.createElement(r.Handle,{type:"source",position:r.Position.Bottom}))};const o=a(t(96540)),r=t(20072)},47053(e,n,t){var a,o=this&&this.__createBinding||(Object.create?function(e,n,t,a){void 0===a&&(a=t);var o=Object.getOwnPropertyDescriptor(n,t);o&&!("get"in o?!n.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return n[t]}}),Object.defineProperty(e,a,o)}:function(e,n,t,a){void 0===a&&(a=t),e[a]=n[t]}),r=this&&this.__setModuleDefault||(Object.create?function(e,n){Object.defineProperty(e,"default",{enumerable:!0,value:n})}:function(e,n){e.default=n}),A=this&&this.__importStar||(a=function(e){return a=Object.getOwnPropertyNames||function(e){var n=[];for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(n[n.length]=t);return n},a(e)},function(e){if(e&&e.__esModule)return e;var n={};if(null!=e)for(var t=a(e),A=0;A<t.length;A++)"default"!==t[A]&&o(n,e,t[A]);return r(n,e),n});Object.defineProperty(n,"__esModule",{value:!0}),n.ModuleBoundaryDiagram=void 0;const l=A(t(96540)),i=t(25067),s=t(33483),c=t(97123),d=t(41681),u=["physical","logical","architectural"],p={physical:"Workspaces, repos, and packages detected from manifests.",logical:"Directory or namespace clusters inferred from structure.",architectural:"Layered groupings inferred from heuristics."},m={Presentation:"layer-pill layer-presentation",BusinessLogic:"layer-pill layer-business",DataAccess:"layer-pill layer-data",Infrastructure:"layer-pill layer-infra",Unknown:"layer-pill layer-unknown"};n.ModuleBoundaryDiagram=({heatmapMode:e,highlightNodeIds:n=[]})=>{const t=(0,l.useMemo)(()=>(0,d.getVsCodeApi)(),[]),a=(0,l.useMemo)(()=>new i.ArchMindWebviewApiClient,[]),[o,r]=(0,l.useState)(null),[A,C]=(0,l.useState)(!1),[f,g]=(0,l.useState)(null),[B,h]=(0,l.useState)(null),[b,I]=(0,l.useState)(null),[x,y]=(0,l.useState)(null),v=(0,l.useMemo)(()=>(0,c.buildHeatmap)(x?.contributions||[],e),[x,e]),E=(0,l.useMemo)(()=>new Set(n.map(e=>(0,c.normalizePath)(e.replace(/^file:/,"")))),[n]);(0,l.useEffect)(()=>{const e=e=>{const n=e.data;if("architectureData"===n?.command){const e=n.data?.repo_id||n.data?.repoId;e&&r(e)}};return window.addEventListener("message",e),t.postMessage({command:"requestArchitecture"}),()=>window.removeEventListener("message",e)},[t]);const k=async()=>{if(o)try{C(!0),g(null);const e=await a.getModuleBoundaries(o);h(e)}catch(e){g(e instanceof Error?e.message:"Failed to load boundaries")}finally{C(!1)}};(0,l.useEffect)(()=>{if(!o)return;let e=!0;return(async()=>{e&&await k()})(),()=>{e=!1}},[o]),(0,l.useEffect)(()=>{if(!o||"off"===e)return void y(null);let n=!0;return(async()=>{try{const e=await a.getContributions(o);n&&y(e)}catch{n&&y(null)}})(),()=>{n=!1}},[a,o,e]);const w=(0,l.useMemo)(()=>{const e={};return(B?.boundaries||[]).forEach(n=>{const t=n.type||"unknown";e[t]||(e[t]=[]),e[t].push(n)}),u.filter(n=>e[n]?.length).map(n=>({title:n[0].toUpperCase()+n.slice(1),description:p[n]||"",boundaries:e[n]||[]}))},[B]),N=B?.total_boundaries??0;return l.default.createElement("div",{className:"boundary-view"},l.default.createElement("div",{className:"boundary-header"},l.default.createElement("div",null,l.default.createElement("h2",{className:"boundary-title"},"Module Boundaries"),l.default.createElement("p",{className:"boundary-subtitle"},"Detected boundaries grouped by type.")),l.default.createElement("div",{className:"boundary-actions"},l.default.createElement("button",{className:"boundary-refresh",onClick:k,disabled:!o||A},"Refresh"))),"off"!==e&&v.maxMetric>0&&l.default.createElement(s.HeatmapLegend,{mode:e,minMetric:v.minMetric,maxMetric:v.maxMetric}),A&&l.default.createElement("div",{className:"boundary-state"},"Loading boundaries..."),f&&l.default.createElement("div",{className:"boundary-state boundary-error"},f),!A&&!f&&0===N&&l.default.createElement("div",{className:"boundary-state"},"No boundaries available yet."),!A&&!f&&N>0&&l.default.createElement("div",{className:"boundary-summary"},l.default.createElement("span",{className:"boundary-pill"},N," boundaries"),o&&l.default.createElement("span",{className:"boundary-pill muted"},"Repo: ",o)),l.default.createElement("div",{className:"boundary-grid"},w.map(n=>l.default.createElement("div",{key:n.title,className:"boundary-column"},l.default.createElement("div",{className:"boundary-column-header"},l.default.createElement("h3",null,n.title),l.default.createElement("p",null,n.description)),l.default.createElement("div",{className:"boundary-cards"},n.boundaries.map(n=>{const t=b===n.id,a=m[n.layer||"Unknown"]||m.Unknown,o="off"===e?null:function(e,n){let t=null;return e.files.forEach(e=>{const a=n.entries.get((0,c.normalizePath)(e));a&&(!t||a.metric>t.metric)&&(t={color:a.color,tooltip:a.tooltip,metric:a.metric})}),t}(n,v),r=n.files.some(e=>E.has((0,c.normalizePath)(e)));return l.default.createElement("div",{key:n.id,className:"boundary-card",style:{borderColor:o?.color,boxShadow:r?"0 0 0 2px rgba(249, 115, 22, 0.75)":void 0},title:o?.tooltip||""},l.default.createElement("div",{className:"boundary-card-header"},l.default.createElement("div",null,l.default.createElement("div",{className:"boundary-name"},n.name),n.path&&l.default.createElement("div",{className:"boundary-path"},n.path)),n.layer&&l.default.createElement("span",{className:a},n.layer)),l.default.createElement("div",{className:"boundary-card-meta"},l.default.createElement("span",null,n.file_count," files"),l.default.createElement("button",{className:"boundary-toggle",onClick:()=>I(t?null:n.id)},t?"Hide files":"Show files")),t&&l.default.createElement("ul",{className:"boundary-files"},n.files.slice(0,15).map(e=>l.default.createElement("li",{key:e},e)),n.files.length>15&&l.default.createElement("li",{className:"boundary-more"},"+",n.files.length-15," more")))}))))))}},51225(e,n,t){var a,o=this&&this.__createBinding||(Object.create?function(e,n,t,a){void 0===a&&(a=t);var o=Object.getOwnPropertyDescriptor(n,t);o&&!("get"in o?!n.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return n[t]}}),Object.defineProperty(e,a,o)}:function(e,n,t,a){void 0===a&&(a=t),e[a]=n[t]}),r=this&&this.__setModuleDefault||(Object.create?function(e,n){Object.defineProperty(e,"default",{enumerable:!0,value:n})}:function(e,n){e.default=n}),A=this&&this.__importStar||(a=function(e){return a=Object.getOwnPropertyNames||function(e){var n=[];for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(n[n.length]=t);return n},a(e)},function(e){if(e&&e.__esModule)return e;var n={};if(null!=e)for(var t=a(e),A=0;A<t.length;A++)"default"!==t[A]&&o(n,e,t[A]);return r(n,e),n});Object.defineProperty(n,"__esModule",{value:!0}),n.BoundaryDiagram=void 0;const l=A(t(96540)),i=A(t(20072));t(90036);const s=t(25067),c=t(97123),d=t(33483),u=t(41681),p={Presentation:"#4fc3f7",BusinessLogic:"#ff9800",DataAccess:"#4caf50",Infrastructure:"#9c27b0",Unknown:"#78909c"},m=({heatmapMode:e,highlightNodeIds:n=[]})=>{const t=(0,l.useMemo)(()=>(0,u.getVsCodeApi)(),[]),a=(0,l.useMemo)(()=>new s.ArchMindWebviewApiClient,[]),[o,r,A]=(0,i.useNodesState)([]),[m,C,f]=(0,i.useEdgesState)([]),[g,B]=(0,l.useState)(null),[h,b]=(0,l.useState)(!1),[I,x]=(0,l.useState)(null),[y,v]=(0,l.useState)(null),[E,k]=(0,l.useState)(null),w=(0,l.useMemo)(()=>(0,c.buildHeatmap)(E?.contributions||[],e),[E,e]);return(0,l.useEffect)(()=>{const e=e=>{const n=e.data;if("architectureData"===n?.command){const e=n.data?.repo_id||n.data?.repoId;e&&B(e)}};return window.addEventListener("message",e),t.postMessage({command:"requestArchitecture"}),()=>window.removeEventListener("message",e)},[t]),(0,l.useEffect)(()=>{g&&(async()=>{try{b(!0),x(null);const e=await a.getModuleBoundaries(g);v(e)}catch(e){console.error("Failed to load boundaries:",e),x("Failed to load boundary data")}finally{b(!1)}})()},[g,a]),(0,l.useEffect)(()=>{if(!g||"off"===e)return void k(null);let n=!0;return(async()=>{try{const e=await a.getContributions(g);n&&k(e)}catch(e){console.error("Failed to load contributions:",e)}})(),()=>{n=!1}},[g,e,a]),(0,l.useEffect)(()=>{if(!y)return;const n=[];(y.boundaries||[]).forEach((t,a)=>{const o=Math.floor(a/4),r=a%4,A="off"===e?null:function(e,n){let t=null;return e.files.forEach(e=>{const a=n.entries.get((0,c.normalizePath)(e));a&&(!t||a.metric>t.metric)&&(t={color:a.color,tooltip:a.tooltip,metric:a.metric})}),t}(t,w),l=p[t.layer||"Unknown"]||p.Unknown,i=A?A.color:`${l}20`;n.push({id:t.id,position:{x:250*r,y:150*o},data:{label:t.name,layer:t.layer,files:t.file_count,heatmapTooltip:A?.tooltip},style:{background:i,border:`1px solid ${A?i:l}`,borderRadius:8,padding:10,width:200,fontSize:12,color:"var(--am-fg)"},type:"default"})}),r(n),C([])},[y,w,e,r,C]),h?l.default.createElement("div",{className:"loading-container"},l.default.createElement("div",{className:"loading-spinner"}),"Loading boundaries..."):I?l.default.createElement("div",{className:"error-container"},l.default.createElement("h3",null,"Error"),I):l.default.createElement("div",{style:{width:"100%",height:"100%"}},"off"!==e&&w.maxMetric>0&&l.default.createElement("div",{className:"heatmap-legend-floating"},l.default.createElement(d.HeatmapLegend,{mode:e,minMetric:w.minMetric,maxMetric:w.maxMetric})),l.default.createElement(i.default,{nodes:o,edges:m,onNodesChange:A,onEdgesChange:f,fitView:!0},l.default.createElement(i.Background,{color:"var(--am-border)",gap:16})))};n.BoundaryDiagram=e=>l.default.createElement(i.ReactFlowProvider,null,l.default.createElement(m,{...e}))},51887(e,n,t){var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.DEFAULT_IMAGE_OPTIONS=void 0,n.exportAsPNG=A,n.exportAsJPEG=async function(e,t="graph.jpg",a={}){return A(e,t,{...n.DEFAULT_IMAGE_OPTIONS,format:"jpeg",...a})},n.exportAsWebP=async function(e,t="graph.webp",a={}){return A(e,t,{...n.DEFAULT_IMAGE_OPTIONS,format:"webp",...a})},n.exportAsSVG=function(e,n,t="graph.svg",a={}){const{padding:o=50}=a,r=l(e);let A=function(e,n){return`<?xml version="1.0" encoding="UTF-8"?>\n<svg width="${e}" height="${n}" xmlns="http://www.w3.org/2000/svg">\n  <defs>\n    <style>\n      .node { fill: #2d2d2d; stroke: #4a9eff; stroke-width: 2; }\n      .node-text { fill: #ffffff; font-family: Arial, sans-serif; font-size: 12px; text-anchor: middle; }\n      .edge { stroke: #888888; stroke-width: 1; fill: none; }\n      .edge-arrow { fill: #888888; }\n    </style>\n    <marker id="arrowhead" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">\n      <polygon class="edge-arrow" points="0 0, 10 3, 0 6" />\n    </marker>\n  </defs>\n`}(a.width||r.maxX-r.minX+2*o,a.height||r.maxY-r.minY+2*o);A+=`  <g transform="translate(${o-r.minX}, ${o-r.minY})">\n`,A+=function(e,n){let t="";return e.forEach(e=>{const a=n.find(n=>n.id===e.source),o=n.find(n=>n.id===e.target);if(a&&o){const e=a.position.x+90,n=a.position.y+20,r=o.position.x+90,A=o.position.y+20;t+=`    <line class="edge" x1="${e}" y1="${n}" x2="${r}" y2="${A}" marker-end="url(#arrowhead)" />\n`}}),t}(n,e),A+=function(e){let n="";return e.forEach(e=>{const t=e.position.x,a=e.position.y,o=(e.data?.label||e.id).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;");n+=`    <rect class="node" x="${t}" y="${a}" width="180" height="40" rx="4" />\n`,n+=`    <text class="node-text" x="${t+90}" y="${a+20+4}">${o}</text>\n`}),n}(e),A+="  </g>\n</svg>",function(e,n,t){if("function"==typeof acquireVsCodeApi)acquireVsCodeApi().postMessage({command:"saveFile",data:e,filename:n,mimeType:t});else{const a=new Blob([e],{type:t}),o=URL.createObjectURL(a),r=document.createElement("a");r.href=o,r.download=n,document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(o)}}(A,t,"image/svg+xml")},n.copyToClipboard=async function(e){try{const n=e.querySelector(".react-flow__viewport");if(!n)throw new Error("ReactFlow viewport not found");const t=await(0,o.default)(n,{backgroundColor:"#1e1e1e",scale:2,logging:!1}),a=await new Promise((e,n)=>{t.toBlob(t=>{t?e(t):n(new Error("Failed to create blob"))})});await navigator.clipboard.write([new ClipboardItem({"image/png":a})])}catch(e){throw new Error(`Copy to clipboard failed: ${e instanceof Error?e.message:"Unknown error"}`)}},n.estimateImageSize=function(e,n=2){const t=l(e),a=(t.maxX-t.minX)*n,o=(t.maxY-t.minY)*n;return{width:a,height:o,estimatedBytes:Math.round(a*o*4*.5)}};const o=a(t(20354)),r=t(61239);async function A(e,t="graph.png",a={}){const A={...n.DEFAULT_IMAGE_OPTIONS,...a};try{const n=e.querySelector(".react-flow__viewport");if(!n)throw new Error("ReactFlow viewport not found");const a=await(0,o.default)(n,{backgroundColor:A.includeBackground?A.backgroundColor:null,scale:A.scale,logging:!1,useCORS:!0,allowTaint:!0});await function(e,n,t){return new Promise((a,o)=>{const A=`image/${t.format}`;e.toBlob(async e=>{if(e)try{if((0,r.isVSCodeWebview)()){const t=new FileReader;t.onloadend=async()=>{try{await(0,r.saveFileInVSCode)(t.result,n,A),a()}catch(e){o(e)}},t.onerror=()=>o(new Error("Failed to read blob")),t.readAsDataURL(e)}else{const t=URL.createObjectURL(e),o=document.createElement("a");o.href=t,o.download=n,document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL(t),a()}}catch(e){o(e)}else o(new Error("Failed to create blob"))},A,t.quality)})}(a,t,A)}catch(e){throw new Error(`PNG export failed: ${e instanceof Error?e.message:"Unknown error"}`)}}function l(e){if(0===e.length)return{minX:0,minY:0,maxX:800,maxY:600};let n=1/0,t=1/0,a=-1/0,o=-1/0;return e.forEach(e=>{n=Math.min(n,e.position.x),t=Math.min(t,e.position.y),a=Math.max(a,e.position.x+180),o=Math.max(o,e.position.y+40)}),{minX:n,minY:t,maxX:a,maxY:o}}n.DEFAULT_IMAGE_OPTIONS={format:"png",quality:.95,scale:2,backgroundColor:"#1e1e1e",includeBackground:!0}},52151(e,n){function t(e){if(e.length<2)return 0;const n=e[0],t=e[1],a=n.clientX-t.clientX,o=n.clientY-t.clientY;return Math.sqrt(a*a+o*o)}Object.defineProperty(n,"__esModule",{value:!0}),n.createGestureHandlers=function(e,n={}){const{enableMousePan:a=!0,enableTouchGestures:o=!0,enableWheelZoom:r=!0,zoomSensitivity:A=.01,panButton:l=1}=n,i={isPanning:!1,isZooming:!1,lastTouchDistance:0,lastMousePosition:null};return{onMouseDown:e=>{a&&(e.button===l||0===e.button&&e.shiftKey)&&(e.preventDefault(),i.isPanning=!0,i.lastMousePosition={x:e.clientX,y:e.clientY})},onMouseMove:n=>{if(!a||!i.isPanning||!i.lastMousePosition)return;const t=n.clientX-i.lastMousePosition.x,o=n.clientY-i.lastMousePosition.y;e.onPan(t,o),i.lastMousePosition={x:n.clientX,y:n.clientY}},onMouseUp:e=>{a&&i.isPanning&&(i.isPanning=!1,i.lastMousePosition=null)},onWheel:n=>{if(!r)return;n.preventDefault();const t=-n.deltaY*A,a={x:n.clientX,y:n.clientY};e.onZoom(t,a)},onTouchStart:e=>{o&&(2===e.touches.length?(e.preventDefault(),i.isZooming=!0,i.lastTouchDistance=t(e.touches)):1===e.touches.length&&(i.isPanning=!0,i.lastMousePosition={x:e.touches[0].clientX,y:e.touches[0].clientY}))},onTouchMove:n=>{if(o)if(2===n.touches.length&&i.isZooming){n.preventDefault();const a=t(n.touches),o=.005*(a-i.lastTouchDistance),r=function(e){if(e.length<2)return null;const n=e[0],t=e[1];return{x:(n.clientX+t.clientX)/2,y:(n.clientY+t.clientY)/2}}(n.touches);e.onZoom(o,r||void 0),i.lastTouchDistance=a}else if(1===n.touches.length&&i.isPanning&&i.lastMousePosition){const t=n.touches[0],a=t.clientX-i.lastMousePosition.x,o=t.clientY-i.lastMousePosition.y;e.onPan(a,o),i.lastMousePosition={x:t.clientX,y:t.clientY}}},onTouchEnd:e=>{o&&(e.touches.length<2&&(i.isZooming=!1,i.lastTouchDistance=0),0===e.touches.length&&(i.isPanning=!1,i.lastMousePosition=null))}}},n.clamp=function(e,n,t){return Math.min(Math.max(e,n),t)},n.zoomToPercent=function(e){return Math.round(100*e)},n.percentToZoom=function(e){return e/100}},52915(e,n,t){var a,o=this&&this.__createBinding||(Object.create?function(e,n,t,a){void 0===a&&(a=t);var o=Object.getOwnPropertyDescriptor(n,t);o&&!("get"in o?!n.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return n[t]}}),Object.defineProperty(e,a,o)}:function(e,n,t,a){void 0===a&&(a=t),e[a]=n[t]}),r=this&&this.__setModuleDefault||(Object.create?function(e,n){Object.defineProperty(e,"default",{enumerable:!0,value:n})}:function(e,n){e.default=n}),A=this&&this.__importStar||(a=function(e){return a=Object.getOwnPropertyNames||function(e){var n=[];for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(n[n.length]=t);return n},a(e)},function(e){if(e&&e.__esModule)return e;var n={};if(null!=e)for(var t=a(e),A=0;A<t.length;A++)"default"!==t[A]&&o(n,e,t[A]);return r(n,e),n});Object.defineProperty(n,"__esModule",{value:!0}),n.NODE_COLORS=void 0;const l=A(t(96540)),i=t(41681),s=A(t(20072));t(90036);const c=t(99225),d=t(25067),u=t(60914),p=t(2240),m=t(46906),C=t(17990),f=t(38891),g=t(27527),B=t(7431),h=t(42925),b=t(10969),I=t(8504),x=t(15286),y=t(33483),v=t(97123),E={clusterNode:m.ClusterNode};n.NODE_COLORS={directory:"#4a9eff",typescript:"#3178c6",javascript:"#f7df1e",json:"#292929",markdown:"#083fa1",css:"#264de4",python:"#3776ab",rust:"#dea584",go:"#00add8",function:"#9b59b6",class:"#e74c3c",module:"#27ae60",default:"#6b7280"};const k={modified:"#e67e22",added:"#2ecc71",deleted:"#e74c3c"};function w(e,n,t){const a=new Set,{searchTerm:o,nodeTypes:r,languages:A,pathPattern:l,showNeighbors:i}=t;if(!(o||r.length>0||A.length>0||l))return a;if(e.forEach(e=>{(function(e,n){const{searchTerm:t,nodeTypes:a,languages:o,pathPattern:r}=n;if(a.length>0&&!a.includes(e.type))return!1;if(o.length>0&&(!e.language||!o.includes(e.language)))return e.type,!1;if(r){const n=e.id.replace(/\\/g,"/").toLowerCase(),t=r.replace(/\\/g,"/").toLowerCase().replace(/[.+^${}()|[\]]/g,"\\$&").replace(/\*/g,".*").replace(/\?/g,".");if(!new RegExp(t,"i").test(n))return!1}if(t){const n=t.toLowerCase(),a=e.label.toLowerCase().includes(n),o=e.id.toLowerCase().includes(n);if(!a&&!o)return!1}return!0})(e,t)&&a.add(e.id)}),i&&a.size>0){const e=new Set;n.forEach(n=>{a.has(n.source)&&e.add(n.target),a.has(n.target)&&e.add(n.source)}),e.forEach(e=>a.add(e))}return a}function N(e,t,a,o){const r=function(e){return e.status&&"unchanged"!==e.status&&k[e.status]?k[e.status]:"directory"===e.type?n.NODE_COLORS.directory:"function"===e.type?n.NODE_COLORS.function:"class"===e.type?n.NODE_COLORS.class:"module"===e.type?n.NODE_COLORS.module:e.language&&n.NODE_COLORS[e.language]||n.NODE_COLORS.default}(e),A=e.status&&"unchanged"!==e.status;return{id:e.id,data:{label:e.label+(A?` (${e.status})`:""),type:e.type,language:e.language,extension:e.extension,filePath:e.filePath||e.id,lineNumber:e.lineNumber,endLineNumber:e.endLineNumber,status:e.status},position:t,style:{background:"directory"===e.type?`${r}20`:"var(--am-panel-bg)",color:"var(--am-panel-fg)",borderColor:o?"var(--am-accent)":r,borderWidth:o?3:"directory"===e.type?2:1,borderRadius:"directory"===e.type?8:4,opacity:a?1:.3,boxShadow:o?"0 0 10px var(--am-accent)":void 0,borderStyle:A?"dashed":"solid"},className:a?"matching-node":"dimmed-node"}}function S(e,n){const t=new Set([...n.changed_files||[],...n.removed_files||[]].map(v.normalizePath)),a=new Map(e.nodes.map(e=>[e.id,e])),o=new Map(e.edges.map(e=>[e.id,e]));a.forEach((e,n)=>{const o=function(e){return e.filePath?(0,v.normalizePath)(e.filePath):"file"===e.type?(0,v.normalizePath)(e.id):e.id.includes("::")?(0,v.normalizePath)(e.id.split("::")[0]):null}(e);o&&t.has(o)&&a.delete(n)}),o.forEach((e,n)=>{a.has(e.source)&&a.has(e.target)||o.delete(n)}),n.nodes?.forEach(e=>{a.set(e.id,e)}),n.edges?.forEach(e=>{o.set(e.id,e)});const r=Array.from(a.values()),A=Array.from(o.values());return{...e,nodes:r,edges:A,stats:_(r)}}function _(e){const n=e.filter(e=>"file"===e.type),t=e.filter(e=>"directory"===e.type),a=e.filter(e=>"function"===e.type),o=e.filter(e=>"class"===e.type),r={};return n.forEach(e=>{e.language&&(r[e.language]=(r[e.language]||0)+1)}),{totalFiles:n.length,totalDirectories:t.length,totalFunctions:a.length,totalClasses:o.length,filesByLanguage:r}}function z(e,n,t,a,o){const r=w(e,n,t),A=t.searchTerm||t.nodeTypes.length>0||t.languages.length>0||t.pathPattern,l=e.map(e=>({id:e.id,width:180,height:40,depth:e.depth})),i=n.map(e=>({id:e.id,source:e.source,target:e.target})),s=(0,u.dagreLayout)(l,i,o);return{layoutedNodes:e.map(e=>N(e,s.nodes.get(e.id)||{x:0,y:0},!A||r.has(e.id),a===e.id)),matchingNodeIds:r}}async function O(e,n,t,a,o){const r=w(e,n,t),A=t.searchTerm||t.nodeTypes.length>0||t.languages.length>0||t.pathPattern,l=e.map(e=>({id:e.id,width:180,height:40,depth:e.depth})),i=n.map(e=>({id:e.id,source:e.source,target:e.target})),s=await(0,u.elkLayout)(l,i,o);return{layoutedNodes:e.map(e=>N(e,s.nodes.get(e.id)||{x:0,y:0},!A||r.has(e.id),a===e.id)),matchingNodeIds:r}}async function M(e,n,t,a,o){switch(e){case"dagre-tb":return z(n,t,a,o,"TB");case"dagre-lr":return z(n,t,a,o,"LR");case"elk-layered":return O(n,t,a,o,"layered");case"elk-force":case"force-directed":return O(n,t,a,o,"force");case"by-file":return function(e,n,t,a){const o=w(e,n,t),r=t.searchTerm||t.nodeTypes.length>0||t.languages.length>0||t.pathPattern,A=e.filter(e=>"file"===e.type),l=new Map;e.forEach(e=>{if("function"===e.type||"class"===e.type){const n=e.id.split("::")[0],t=l.get(n)||[];t.push(e),l.set(n,t)}});const i=[];return A.forEach((e,n)=>{const t=!r||o.has(e.id),A=a===e.id,s=Math.floor(n/4),c=n%4*280,d=100*s*3;i.push(N(e,{x:c,y:d},t,A)),(l.get(e.id)||[]).forEach((e,n)=>{const t=!r||o.has(e.id),A=a===e.id,l=Math.floor(n/2),s=c-100+n%2*200,u=d+100+80*l;i.push(N(e,{x:s,y:u},t,A))})}),{layoutedNodes:i,matchingNodeIds:o}}(n,t,a,o);case"by-module":return function(e,n,t,a){const o=w(e,n,t),r=t.searchTerm||t.nodeTypes.length>0||t.languages.length>0||t.pathPattern,A=e.filter(e=>"module"===e.type||"directory"===e.type),l=e.filter(e=>"file"===e.type),i=new Map;l.forEach(e=>{const n=e.id.split("/"),t=n.length>1?n[0]:"root",a=i.get(t)||[];a.push(e),i.set(t,a)});const s=[],c=[...new Set([...A.map(e=>e.id),...Array.from(i.keys())])];return c.forEach((e,n)=>{const t=400*n,l=A.find(n=>n.id===e);if(l){const e=!r||o.has(l.id),n=a===l.id;s.push(N(l,{x:t,y:0},e,n))}(i.get(e)||[]).forEach((e,n)=>{const A=!r||o.has(e.id),l=a===e.id,i=100+100*n;s.push(N(e,{x:t,y:i},A,l))})}),e.filter(e=>("function"===e.type||"class"===e.type)&&!l.some(n=>e.id.startsWith(n.id))).forEach((e,n)=>{const t=!r||o.has(e.id),A=a===e.id;s.push(N(e,{x:400*c.length,y:100*n},t,A))}),{layoutedNodes:s,matchingNodeIds:o}}(n,t,a,o);case"dependency-only":return function(e,n,t,a){const o=n.filter(e=>"calls"===e.type||"imports"===e.type),r=new Set;return o.forEach(e=>{r.add(e.source),r.add(e.target)}),z(e.filter(e=>r.has(e.id)),o,t,a,"TB")}(n,t,a,o);default:return function(e,n,t,a){const o=w(e,n,t),r=t.searchTerm||t.nodeTypes.length>0||t.languages.length>0||t.pathPattern,A=new Map;e.forEach(e=>{const n=A.get(e.depth)||[];n.push(e),A.set(e.depth,n)});const l=[];return A.forEach((e,n)=>{const t=-280*e.length/2;e.forEach((e,A)=>{const i=!r||o.has(e.id),s=a===e.id;l.push(N(e,{x:t+280*A,y:120*n},i,s))})}),{layoutedNodes:l,matchingNodeIds:o}}(n,t,a,o)}}function P(e,n,t){return e.map(e=>{const a=null!==n&&(e.source===n||e.target===n),o=0===t.size||t.has(e.source)&&t.has(e.target);return{id:e.id,source:e.source,target:e.target,type:"smoothstep",animated:!!a,style:{stroke:a?"var(--am-accent)":"var(--am-fg)",strokeWidth:a?2:1,opacity:o?a?.9:.5:.15}}})}const j=({stats:e,source:t="local"})=>e?l.default.createElement("div",{className:"stats-panel"},l.default.createElement("div",{className:"source-badge",style:{backgroundColor:"backend"===t?"#27ae60":"#3498db"}},"backend"===t?"üåê Backend (Neo4j)":"üìÅ Local"),l.default.createElement("div",{className:"stat-item"},l.default.createElement("span",{className:"stat-label"},"Files:"),l.default.createElement("span",{className:"stat-value"},e.totalFiles)),l.default.createElement("div",{className:"stat-item"},l.default.createElement("span",{className:"stat-label"},"Directories:"),l.default.createElement("span",{className:"stat-value"},e.totalDirectories)),void 0!==e.totalFunctions&&e.totalFunctions>0&&l.default.createElement("div",{className:"stat-item"},l.default.createElement("span",{className:"stat-label"},"Functions:"),l.default.createElement("span",{className:"stat-value"},e.totalFunctions)),void 0!==e.totalClasses&&e.totalClasses>0&&l.default.createElement("div",{className:"stat-item"},l.default.createElement("span",{className:"stat-label"},"Classes:"),l.default.createElement("span",{className:"stat-value"},e.totalClasses)),Object.entries(e.filesByLanguage).length>0&&l.default.createElement("div",{className:"stat-languages"},Object.entries(e.filesByLanguage).sort(([,e],[,n])=>n-e).slice(0,5).map(([e,t])=>l.default.createElement("span",{key:e,className:"language-badge",style:{backgroundColor:n.NODE_COLORS[e]||n.NODE_COLORS.default}},e,": ",t)))):null,T=({filters:e,onFiltersChange:n,matchCount:t,totalCount:a,onFocusSelection:o,isVisible:r,onClose:A,availableLanguages:i})=>{const s=(0,l.useRef)(null);if((0,l.useEffect)(()=>{r&&s.current&&s.current.focus()},[r]),!r)return null;const c=e.searchTerm||e.nodeTypes.length>0||e.languages.length>0||e.pathPattern;return l.default.createElement("div",{className:"search-panel"},l.default.createElement("div",{className:"search-header"},l.default.createElement("span",{className:"search-title"},"üîç Search & Filter"),l.default.createElement("button",{className:"search-close",onClick:A,title:"Close (Esc)"},"√ó")),l.default.createElement("div",{className:"search-field"},l.default.createElement("label",null,"Search by name:"),l.default.createElement("input",{ref:s,type:"text",placeholder:"Enter file/function name...",value:e.searchTerm,onChange:t=>n({...e,searchTerm:t.target.value}),className:"search-input"})),l.default.createElement("div",{className:"search-field"},l.default.createElement("label",null,"Path pattern:"),l.default.createElement("input",{type:"text",placeholder:"e.g., src/*.ts, **/utils/*",value:e.pathPattern,onChange:t=>n({...e,pathPattern:t.target.value}),className:"search-input"})),l.default.createElement("div",{className:"search-section"},l.default.createElement("label",null,"Filter by Type:"),l.default.createElement("div",{className:"checkbox-group"},["file","directory","function","class","module"].map(t=>l.default.createElement("label",{key:t,className:"checkbox-label"},l.default.createElement("input",{type:"checkbox",checked:e.nodeTypes.includes(t),onChange:()=>(t=>{const a=e.nodeTypes;a.includes(t)?n({...e,nodeTypes:a.filter(e=>e!==t)}):n({...e,nodeTypes:[...a,t]})})(t)}),t.charAt(0).toUpperCase()+t.slice(1))))),i.length>0&&l.default.createElement("div",{className:"search-section"},l.default.createElement("label",null,"Filter by Language:"),l.default.createElement("div",{className:"checkbox-group"},i.map(t=>l.default.createElement("label",{key:t,className:"checkbox-label"},l.default.createElement("input",{type:"checkbox",checked:e.languages.includes(t),onChange:()=>(t=>{const a=e.languages;a.includes(t)?n({...e,languages:a.filter(e=>e!==t)}):n({...e,languages:[...a,t]})})(t)}),t)))),l.default.createElement("div",{className:"search-field toggle-field"},l.default.createElement("label",{className:"checkbox-label"},l.default.createElement("input",{type:"checkbox",checked:e.showNeighbors,onChange:t=>n({...e,showNeighbors:t.target.checked})}),"Show Reachable Neighbors")),l.default.createElement("div",{className:"search-results"},c?l.default.createElement("span",{className:"result-count"},"Found ",l.default.createElement("strong",null,t)," of ",a," nodes"):l.default.createElement("span",{className:"result-count"},"Showing all ",a," nodes")),l.default.createElement("div",{className:"search-actions"},l.default.createElement("button",{className:"search-btn",onClick:o,disabled:0===t,title:"Zoom to show all matching nodes"},"üìç Focus on Results"),l.default.createElement("button",{className:"search-btn secondary",onClick:()=>n({searchTerm:"",nodeTypes:[],languages:[],pathPattern:"",showNeighbors:!1}),disabled:!c},"Clear Filters")),l.default.createElement("div",{className:"search-hint"},l.default.createElement("kbd",null,"Ctrl"),"+",l.default.createElement("kbd",null,"F")," to toggle search"),l.default.createElement("style",null,"\n                .search-section { margin-bottom: 12px; }\n                .checkbox-group { \n                    display: flex; \n                    flex-wrap: wrap; \n                    gap: 8px; \n                    margin-top: 4px;\n                }\n                .checkbox-label {\n                    display: flex;\n                    align-items: center;\n                    gap: 4px;\n                    font-size: 12px;\n                    cursor: pointer;\n                    background: var(--am-bg-lighter);\n                    padding: 2px 6px;\n                    border-radius: 4px;\n                    border: 1px solid var(--am-border);\n                }\n                .checkbox-label:hover { background: var(--am-bg-hover); }\n                .toggle-field { margin-top: 8px; }\n            "))},D=({node:e,position:n})=>{if(!e)return null;const t=e.data;return l.default.createElement("div",{className:"node-tooltip",style:{left:n.x+10,top:n.y+10}},l.default.createElement("div",{className:"tooltip-header"},l.default.createElement("span",{className:"tooltip-icon"},"directory"===t.type?"üìÅ":"function"===t.type?"‚ö°":"class"===t.type?"üè∑Ô∏è":"üìÑ"),l.default.createElement("span",{className:"tooltip-label"},t.label)),l.default.createElement("div",{className:"tooltip-details"},l.default.createElement("div",{className:"tooltip-row"},l.default.createElement("span",{className:"tooltip-key"},"Path:"),l.default.createElement("span",{className:"tooltip-value"},t.filePath||e.id)),t.lineNumber&&l.default.createElement("div",{className:"tooltip-row"},l.default.createElement("span",{className:"tooltip-key"},"Line:"),l.default.createElement("span",{className:"tooltip-value"},t.lineNumber,t.endLineNumber?` - ${t.endLineNumber}`:"")),t.language&&l.default.createElement("div",{className:"tooltip-row"},l.default.createElement("span",{className:"tooltip-key"},"Language:"),l.default.createElement("span",{className:"tooltip-value"},t.language)),l.default.createElement("div",{className:"tooltip-row"},l.default.createElement("span",{className:"tooltip-key"},"Type:"),l.default.createElement("span",{className:"tooltip-value"},t.type)),t.heatmapTooltip&&l.default.createElement("div",{className:"tooltip-row"},l.default.createElement("span",{className:"tooltip-key"},"Heatmap:"),l.default.createElement("span",{className:"tooltip-value"},t.heatmapTooltip))),l.default.createElement("div",{className:"tooltip-hint"},"Click to open ‚Ä¢ Right-click for actions"))},q=({node:e,position:n,onAction:t,onClose:a})=>{const o=(0,l.useRef)(null);if((0,l.useEffect)(()=>{const e=e=>{o.current&&!o.current.contains(e.target)&&a()};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[a]),!e)return null;const r="file"===e.data.type||"function"===e.data.type||"class"===e.data.type;return l.default.createElement("div",{ref:o,className:"context-menu",style:{left:n.x,top:n.y}},l.default.createElement("div",{className:"context-menu-header"},e.data.label),l.default.createElement("div",{className:"context-menu-divider"}),r&&l.default.createElement(l.default.Fragment,null,l.default.createElement("button",{className:"context-menu-item",onClick:()=>t("open")},"üìÑ Open File"),l.default.createElement("button",{className:"context-menu-item",onClick:()=>t("goToDefinition")},"üéØ Go to Definition"),l.default.createElement("button",{className:"context-menu-item",onClick:()=>t("findReferences")},"üîó Find References"),l.default.createElement("div",{className:"context-menu-divider"})),l.default.createElement("button",{className:"context-menu-item",onClick:()=>t("revealInExplorer")},"üìÇ Reveal in Explorer"),l.default.createElement("button",{className:"context-menu-item",onClick:()=>t("copyPath")},"üìã Copy Path"),l.default.createElement("div",{className:"context-menu-divider"}),l.default.createElement("button",{className:"context-menu-item",onClick:()=>t("analyzeImpact")},"üí• Analyze Impact"),l.default.createElement("button",{className:"context-menu-item",onClick:()=>t("showRelationships")},"üîó Show Relationships"))},Y=({currentLayout:e,onLayoutChange:n,isLayouting:t,isVisible:a,onClose:o})=>a?l.default.createElement("div",{className:"layout-panel"},l.default.createElement("div",{className:"layout-header"},l.default.createElement("span",{className:"layout-title"},"üìê Layout Algorithm"),l.default.createElement("button",{className:"layout-close",onClick:o,title:"Close"},"√ó")),l.default.createElement("div",{className:"layout-options"},u.LAYOUT_OPTIONS.map(a=>l.default.createElement("button",{key:a.value,className:"layout-option "+(e===a.value?"active":""),onClick:()=>n(a.value),disabled:t,title:a.description},l.default.createElement("span",{className:"layout-option-label"},a.label),e===a.value&&l.default.createElement("span",{className:"layout-check"},"‚úì")))),t&&l.default.createElement("div",{className:"layout-loading"},l.default.createElement("div",{className:"loading-spinner-small"}),l.default.createElement("span",null,"Calculating layout...")),l.default.createElement("div",{className:"layout-hint"},l.default.createElement("kbd",null,"Ctrl"),"+",l.default.createElement("kbd",null,"L")," to toggle layout panel")):null,L=({heatmapMode:e,highlightNodeIds:t=[]})=>{const a=(0,l.useMemo)(()=>(0,i.getVsCodeApi)(),[]),o=(0,l.useRef)(a),r=(0,l.useMemo)(()=>new d.ArchMindWebviewApiClient,[]),A=a.getState()||{},[u,m,w]=(0,s.useNodesState)([]),[N,_,z]=(0,s.useEdgesState)([]),[O,L]=(0,l.useState)(null),[$,R]=(0,l.useState)(!0),[F,W]=(0,l.useState)("Analyzing workspace structure..."),[U,Z]=(0,l.useState)(null),[Q,V]=(0,l.useState)("local"),[X,H]=(0,l.useState)(null),[G,K]=(0,l.useState)(null),J=(0,l.useMemo)(()=>(0,v.buildHeatmap)(G?.contributions||[],e),[G,e]),[ee,ne]=(0,l.useState)(!1),[te,ae]=(0,l.useState)(A.filters||{searchTerm:"",nodeTypes:[],languages:[],pathPattern:"",showNeighbors:!1}),oe=function(e){const[n,t]=(0,l.useState)(e);return(0,l.useEffect)(()=>{const n=setTimeout(()=>{t(e)},200);return()=>{clearTimeout(n)}},[e,200]),n}(te),[re,Ae]=(0,l.useState)(null),[le,ie]=(0,l.useState)({x:0,y:0}),[se,ce]=(0,l.useState)(null),[de,ue]=(0,l.useState)({x:0,y:0}),[pe,me]=(0,l.useState)(null),[Ce,fe]=(0,l.useState)(new Set),[ge,Be]=(0,l.useState)([]),[he,be]=(0,l.useState)(""),[Ie,xe]=(0,l.useState)(!0),[ye,ve]=(0,l.useState)(A.layoutType||"hierarchical"),[Ee,ke]=(0,l.useState)(!1),[we,Ne]=(0,l.useState)(!1);(0,l.useEffect)(()=>{a.setState({filters:te,layoutType:ye})},[te,ye,a]);const[Se,_e]=(0,l.useState)([]),[ze,Oe]=(0,l.useState)({}),[Me,Pe]=(0,l.useState)(!1),[je,Te]=(0,l.useState)(null),[De,qe]=(0,l.useState)(!1),[Ye,Le]=(0,l.useState)(!1),[$e,Re]=(0,l.useState)(!1),[Fe,We]=(0,l.useState)(!1),[Ue,Ze]=(0,l.useState)(!1),Qe=(0,l.useRef)(null),Ve=(0,l.useRef)(null),Xe=(0,l.useRef)(null),[He,Ge]=(0,l.useState)(!1),[Ke,Je]=(0,l.useState)(null),[en,nn]=(0,l.useState)("http://localhost:8080"),tn=(0,s.useReactFlow)(),an=(0,h.useZoomPan)({minZoom:.1,maxZoom:4});(0,h.useZoomPanKeyboard)(an);const{handleMiniMapNodeClick:on}=(0,B.useMiniMapNavigation)(e=>{H(e);const n=u.find(n=>n.id===e);n&&tn.setCenter(n.position.x+90,n.position.y+20,{zoom:1,duration:300})}),rn=(0,l.useCallback)(e=>_(n=>(0,s.addEdge)(e,n)),[_]),An=(0,l.useCallback)((e,n)=>{H(n.id),ce(null),o.current&&"directory"!==n.data.type&&o.current.postMessage({command:"openFile",filePath:n.data.filePath||n.id,lineNumber:n.data.lineNumber})},[]),ln=(0,l.useCallback)((e,n)=>{e.preventDefault(),ce(n),ue({x:e.clientX,y:e.clientY})},[]),sn=(0,l.useCallback)((e,n)=>{Ae(n),ie({x:e.clientX,y:e.clientY})},[]),cn=(0,l.useCallback)(()=>{Ae(null)},[]),dn=(0,l.useCallback)(e=>{if(!se||!o.current)return;const n=se.data.filePath||se.id,t=se.data.lineNumber;switch(e){case"open":o.current.postMessage({command:"openFile",filePath:n,lineNumber:t});break;case"goToDefinition":o.current.postMessage({command:"goToDefinition",filePath:n,lineNumber:t});break;case"findReferences":o.current.postMessage({command:"findReferences",filePath:n,lineNumber:t});break;case"revealInExplorer":o.current.postMessage({command:"revealInExplorer",filePath:n});break;case"copyPath":o.current.postMessage({command:"copyPath",filePath:n});break;case"analyzeImpact":if(pe){const e=[],n=new Set,t=[{id:se.id,distance:0}];for(n.add(se.id);t.length>0;){const a=t.shift();a.distance>0&&e.push({nodeId:a.id,distance:a.distance,impactType:1===a.distance?"direct":"indirect"}),a.distance<3&&pe.edges.forEach(e=>{const o=e.source===a.id?e.target:e.target===a.id?e.source:null;o&&!n.has(o)&&(n.add(o),t.push({id:o,distance:a.distance+1}))})}Te({sourceNodeId:se.id,affectedNodes:e,maxDepth:Math.max(0,...e.map(e=>e.distance)),totalImpact:e.length}),qe(!0)}break;case"showRelationships":H(se.id),Re(!0)}ce(null)},[se,pe]),un=(0,l.useCallback)(()=>{if(0===Ce.size)return;const e=u.filter(e=>Ce.has(e.id));e.length>0&&tn.fitView({nodes:e,padding:.3,duration:500})},[Ce,u,tn]),pn=(0,l.useCallback)(()=>{Ze(e=>!e)},[]);(0,l.useEffect)(()=>{const e=e=>{(e.ctrlKey||e.metaKey)&&"f"===e.key&&(e.preventDefault(),ne(e=>!e)),(e.ctrlKey||e.metaKey)&&"l"===e.key&&(e.preventDefault(),ke(e=>!e)),(e.ctrlKey||e.metaKey)&&"e"===e.key&&(e.preventDefault(),We(e=>!e)),"F11"===e.key&&(e.preventDefault(),pn()),"Escape"===e.key&&(Ue?pn():(ne(!1),ce(null),ke(!1),We(!1)))};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[pn,Ue]),(0,l.useEffect)(()=>{if(!pe)return;const{nodes:e,edges:n}=pe;(async()=>{Ne(!0);try{const{layoutedNodes:t,matchingNodeIds:a}=await M(ye,e,n,oe,X),o=P(n,X,a);m(t),_(o),fe(a)}catch(e){console.error("Layout calculation failed:",e)}finally{Ne(!1)}})()},[oe,X,pe,ye,m,_]),(0,l.useEffect)(()=>{const e=e=>{const n=e.data;if("loading"===n.command)return R(!0),W(n.message||"Loading..."),void Z(null);if("error"===n.command)return R(!1),void Z(n.message||"An error occurred");if("noData"===n.command)return R(!1),Z(null),void m([]);if("architectureData"===n.command){Z(null);const e=n.data;me(e),V(e.source||"local");const t=e.repo_id||e.repoId;t&&Je(t);const{nodes:a,edges:o,stats:r}=e;(async()=>{try{const{layoutedNodes:e,matchingNodeIds:n}=await M(ye,a,o,oe,X),t=P(o,X,n);m(e),_(t),L(r),fe(n),R(!1)}catch(e){console.error("Initial layout failed:",e),R(!1)}})()}if("config"===n.command&&n.data?.backendUrl&&nn(n.data.backendUrl),"impactAnalysis"===n.command&&console.log("Impact analysis data:",n.data),"localData"===n.command){const{symbols:e,fileName:t}=n.data;Be(e),be(t),xe(!0)}};return window.addEventListener("message",e),a.postMessage({command:"requestArchitecture"}),a.postMessage({command:"requestConfig"}),()=>{window.removeEventListener("message",e)}},[m,_,a,oe,ye,X]),(0,l.useEffect)(()=>{if(!Ke||"off"===e)return void K(null);let n=!0;return(async()=>{try{const e=await r.getContributions(Ke);n&&K(e)}catch(e){n&&K(null)}})(),()=>{n=!1}},[r,Ke,e]),(0,l.useEffect)(()=>{u.length&&m(t=>t.map(t=>function(e,t,a){if("clusterNode"===e.type)return e;if(!e.data)return e;const o=e.data.filePath||e.id,r="off"===a?void 0:t.entries.get((0,v.normalizePath)(o)),A=r?r.color:function(e){const t=(a=e.data,a?.status&&"unchanged"!==a.status&&k[a.status]?k[a.status]:"directory"===a?.type?n.NODE_COLORS.directory:"function"===a?.type?n.NODE_COLORS.function:"class"===a?.type?n.NODE_COLORS.class:"module"===a?.type?n.NODE_COLORS.module:a?.language&&n.NODE_COLORS[a.language]||n.NODE_COLORS.default);var a;const o=e.data?.type;return"directory"===o?`${t}20`:"var(--am-panel-bg)"}(e);return{...e,data:{...e.data,heatmapTooltip:r?r.tooltip:void 0},style:{...e.style,background:A}}}(t,J,e)))},[e,J,m,u.length]),(0,l.useEffect)(()=>{t.length&&m(e=>e.map(e=>({...e,selected:t.includes(e.id)})))},[t,m]),(0,l.useEffect)(()=>{if(!Ke)return;const e=new c.ArchMindWebSocketClient("repo",Ke,en);Xe.current=e;const n=e.subscribeAll(e=>{if(console.log("üì° WebSocket update received:",e),"graph_update"===e.type)a.postMessage({command:"requestArchitecture"}),a.postMessage({command:"showNotification",message:`Architecture updated: ${e.changed_nodes?.length||0} nodes changed`,type:"info"});else if("graph_patch"===e.type){const n=e.result_summary?.graph_patch;n&&(me(e=>e?S(e,n):e),a.postMessage({command:"showNotification",message:`Graph patch applied: ${n.changed_files?.length||0} files updated`,type:"info"}))}else if("graph_updated"===e.type){const n=e.result_summary?.graph_patch;n&&me(e=>e?S(e,n):e);const t=`Architecture updated: ${n?.changed_files?.length||e.changed_nodes?.length||0} files changed`;a.postMessage({command:"graphUpdated",changedNodes:e.changed_nodes||n?.nodes?.map(e=>e.id)||[],changedEdges:e.changed_edges||n?.edges?.map(e=>e.id)||[],changedFiles:n?.changed_files||[]}),window.dispatchEvent(new CustomEvent("archmind:graphUpdated",{detail:{message:t}}))}else"progress"===e.type?void 0!==e.progress&&(W(`Analyzing repository... ${e.progress}%`),e.progress>0&&e.progress<100?R(!0):100===e.progress&&R(!1)):"status"===e.type?"COMPLETED"===e.status?(R(!1),a.postMessage({command:"requestArchitecture"})):"FAILED"===e.status&&(R(!1),Z(e.error||"Analysis failed")):"error"===e.type&&Z(e.error||"Unknown error occurred")});return e.connect(),Ge(!0),()=>{n(),e.disconnect(),Xe.current=null,Ge(!1)}},[Ke,en,a]),(0,l.useCallback)(e=>"directory"===e.data?.type?n.NODE_COLORS.directory:"function"===e.data?.type?n.NODE_COLORS.function:"class"===e.data?.type?n.NODE_COLORS.class:e.data?.language&&n.NODE_COLORS[e.data.language]||n.NODE_COLORS.default,[]),(0,l.useEffect)(()=>{if(!pe||pe.nodes.length<20)return _e([]),void Pe(!1);const e=(0,p.clusterNodesByDirectory)(pe.nodes,5,3);_e(e),Pe(e.length>0)},[pe]),(0,l.useCallback)(e=>{Oe(n=>(0,p.toggleCluster)(e,n))},[]);const mn=(0,l.useCallback)(e=>{if(!pe)return[];const n=[];return pe.edges.forEach(t=>{t.source===e&&n.push(t.target),t.target===e&&n.push(t.source)}),n},[pe]),Cn=(0,l.useCallback)(e=>{if(o.current){const n=pe?.nodes.find(n=>n.id===e);n&&"directory"!==n.type&&o.current.postMessage({command:"openFile",filePath:n.filePath||n.id,lineNumber:n.lineNumber})}},[pe]);(0,g.useKeyboardNavigation)({nodes:pe?.nodes||[],onNodeSelect:e=>{H(e);const n=u.find(n=>n.id===e);n&&tn.setCenter(n.position.x+90,n.position.y+20,{zoom:1,duration:300})},onNodeActivate:Cn,getCurrentNodeId:()=>X,getConnectedNodes:mn,onFocusSearch:()=>ne(!0),onShowHelp:()=>Le(!0)});const fn=(0,l.useMemo)(()=>pe?pe.nodes.map(e=>({id:e.id,type:e.type,parentId:e.parentId,filePath:e.filePath})):[],[pe]),gn=(0,l.useMemo)(()=>pe?pe.edges.map(e=>({id:e.id,source:e.source,target:e.target,type:e.type})):[],[pe]),Bn=(0,l.useCallback)(()=>{o.current&&(Z(null),R(!0),W("Retrying..."),o.current.postMessage({command:"requestArchitecture"}))},[]),hn=(0,l.useCallback)(()=>{o.current&&(Z(null),o.current.postMessage({command:"analyzeRepository"}))},[]),bn=(0,l.useMemo)(()=>O&&O.filesByLanguage?Object.keys(O.filesByLanguage).sort():[],[O]);return $||U||0!==u.length?U?l.default.createElement("div",{className:"error-container"},l.default.createElement("div",{className:"error-icon"},"‚ö†Ô∏è"),l.default.createElement("h3",null,"Error"),l.default.createElement("p",{className:"error-message"},U),l.default.createElement("div",{className:"error-actions"},l.default.createElement("button",{className:"retry-button",onClick:Bn},"Retry Local Analysis"),l.default.createElement("button",{className:"backend-button",onClick:hn},"Analyze with Backend"))):$?l.default.createElement("div",{className:"loading-container"},l.default.createElement("div",{className:"loading-spinner"}),l.default.createElement("p",null,F)):l.default.createElement("div",{ref:e=>{e&&(Ve.current=e,Qe.current=e)},style:{width:"100%",height:"100%",position:"relative"},className:Ue?"fullscreen-graph":""},l.default.createElement(j,{stats:O,source:Q}),"off"!==e&&J.maxMetric>0&&l.default.createElement("div",{className:"heatmap-legend-floating"},l.default.createElement(y.HeatmapLegend,{mode:e,minMetric:J.minMetric,maxMetric:J.maxMetric})),l.default.createElement(T,{filters:te,onFiltersChange:ae,matchCount:Ce.size>0?Ce.size:te.searchTerm||te.nodeTypes.length>0||te.languages.length>0||te.pathPattern?0:pe?.nodes.length||0,totalCount:pe?.nodes.length||0,onFocusSelection:un,isVisible:ee,onClose:()=>ne(!1),availableLanguages:bn}),!ee&&l.default.createElement("button",{className:"search-toggle-btn",onClick:()=>ne(!0),title:"Search & Filter (Ctrl+F)"},"üîç"),l.default.createElement(Y,{currentLayout:ye,onLayoutChange:ve,isLayouting:we,isVisible:Ee,onClose:()=>ke(!1)}),!Ee&&l.default.createElement("button",{className:"layout-toggle-btn",onClick:()=>ke(!0),title:"Layout Algorithm (Ctrl+L)"},"üìê"),!Fe&&l.default.createElement("button",{className:"export-toggle-btn",onClick:()=>We(!0),title:"Export Graph (Ctrl+E)"},"üì•"),l.default.createElement("button",{className:"fullscreen-toggle-btn",onClick:pn,title:Ue?"Exit Fullscreen (F11 or Esc)":"Enter Fullscreen (F11)"},Ue?"üóó":"‚õ∂"),l.default.createElement(s.default,{nodes:u,edges:N,onNodesChange:w,onEdgesChange:z,onConnect:rn,onNodeClick:An,onNodeContextMenu:ln,onNodeMouseEnter:sn,onNodeMouseLeave:cn,nodeTypes:E,fitView:!0,fitViewOptions:{padding:.2},minZoom:.1,maxZoom:2,defaultEdgeOptions:{type:"smoothstep"},style:{background:"var(--am-bg)"}},l.default.createElement(B.EnhancedMiniMap,{selectedNodeId:X,hoveredNodeId:re?.id||null,nodeColors:n.NODE_COLORS,onNodeClick:on}),l.default.createElement(s.Background,{variant:s.BackgroundVariant.Dots,gap:16,size:1,color:"var(--am-fg)",style:{opacity:.15}})),l.default.createElement(b.ZoomControls,{zoomPan:an,position:"bottom-left"}),Me&&Se.length>0&&l.default.createElement("div",{className:"cluster-controls"},l.default.createElement("span",{className:"cluster-label"},"üì¶ Clusters (",Se.length,")"),l.default.createElement("button",{className:"cluster-btn",onClick:()=>Oe((0,p.expandAllClusters)(Se)),title:"Expand All"},"‚äû"),l.default.createElement("button",{className:"cluster-btn",onClick:()=>Oe((0,p.collapseAllClusters)(Se)),title:"Collapse All"},"‚äü")),l.default.createElement(D,{node:re,position:le}),l.default.createElement(q,{node:se,position:de,onAction:dn,onClose:()=>ce(null)}),De&&l.default.createElement(C.ImpactAnalysisPanel,{data:je,onClose:()=>{qe(!1),Te(null)},onNodeClick:e=>{H(e);const n=u.find(n=>n.id===e);n&&tn.setCenter(n.position.x+90,n.position.y+20,{zoom:1,duration:300})}}),$e&&X&&l.default.createElement(I.RelationshipVisualizer,{selectedNodeId:X,nodes:fn,edges:gn,onNodeClick:e=>{H(e);const n=u.find(n=>n.id===e);n&&tn.setCenter(n.position.x+90,n.position.y+20,{zoom:1,duration:300})},onClose:()=>Re(!1)}),Ye&&l.default.createElement(g.KeyboardHelp,{onClose:()=>Le(!1)}),l.default.createElement(x.ExportModal,{isOpen:Fe,onClose:()=>We(!1),nodes:u,edges:N,rawData:pe,reactFlowWrapper:Ve.current,source:pe?.source||"local",repoId:Ke,backendUrl:en}),l.default.createElement(f.LocalOutline,{fileName:he,symbols:ge,isVisible:Ie,onClose:()=>xe(!1),onSymbolClick:e=>console.log("Jump to line",e)})):l.default.createElement("div",{className:"loading-container"},l.default.createElement("div",{style:{fontSize:"48px",marginBottom:"16px"}},"üèóÔ∏è"),l.default.createElement("h3",{style:{margin:0,fontSize:"18px"}},"No Architecture Data"),l.default.createElement("p",{style:{opacity:.8,maxWidth:"400px",textAlign:"center"}},"Run analysis to visualize the codebase."),l.default.createElement("div",{className:"error-actions"},l.default.createElement("button",{className:"backend-button",onClick:hn},"Analyze Repository")))};n.default=({heatmapMode:e})=>l.default.createElement(s.ReactFlowProvider,null,l.default.createElement(L,{heatmapMode:e}))},54825(e,n,t){var a,o=this&&this.__createBinding||(Object.create?function(e,n,t,a){void 0===a&&(a=t);var o=Object.getOwnPropertyDescriptor(n,t);o&&!("get"in o?!n.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return n[t]}}),Object.defineProperty(e,a,o)}:function(e,n,t,a){void 0===a&&(a=t),e[a]=n[t]}),r=this&&this.__setModuleDefault||(Object.create?function(e,n){Object.defineProperty(e,"default",{enumerable:!0,value:n})}:function(e,n){e.default=n}),A=this&&this.__importStar||(a=function(e){return a=Object.getOwnPropertyNames||function(e){var n=[];for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(n[n.length]=t);return n},a(e)},function(e){if(e&&e.__esModule)return e;var n={};if(null!=e)for(var t=a(e),A=0;A<t.length;A++)"default"!==t[A]&&o(n,e,t[A]);return r(n,e),n});Object.defineProperty(n,"__esModule",{value:!0}),n.CommunicationDiagram=void 0;const l=A(t(96540)),i=A(t(20072));t(90036);const s=t(60914),c=t(25067),d=t(33483),u=t(41176),p=t(97123),m=t(41681);function C(e,n,t,a,o,r){const A={endpoint:{background:"#0ea5e9",color:"#0f172a"},rpc:{background:"#f472b6",color:"#0f172a"},queue:{background:"#f59e0b",color:"#0f172a"},service:{background:"#22c55e",color:"#0f172a"},file:{background:"#1e293b",color:"#e2e8f0"}},l=A[t]||A.file;return{id:e,type:"heatmapNode",data:{label:n,type:t,heatmapTooltip:o},position:{x:0,y:0},style:{padding:"8px 10px",borderRadius:"8px",border:r?"2px solid #f97316":"1px solid #0f172a",boxShadow:r?"0 0 0 2px rgba(249, 115, 22, 0.6)":void 0,fontSize:11,background:a||l.background,color:l.color},width:200}}function f(e){const n={http:"#38bdf8",rpc:"#f472b6",queue:"#f59e0b"}[e.type];return{id:e.id,source:e.source,target:e.target,label:e.label,labelStyle:{fill:n,fontSize:12},style:{stroke:n,strokeWidth:1.6},markerEnd:{type:i.MarkerType.ArrowClosed,color:n},markerStart:e.bidirectional?{type:i.MarkerType.ArrowClosed,color:n}:void 0,data:{details:{type:e.type,label:e.label,meta:e.details}}}}n.CommunicationDiagram=({heatmapMode:e,highlightNodeIds:n=[]})=>{const t=(0,l.useMemo)(()=>(0,m.getVsCodeApi)(),[]),a=(0,l.useMemo)(()=>new c.ArchMindWebviewApiClient,[]),[o,r]=(0,l.useState)(null),[A,g]=(0,l.useState)(!1),[B,h]=(0,l.useState)(null),[b,I]=(0,l.useState)(null),[x,y]=(0,l.useState)(null),[v,E]=(0,l.useState)([]),[k,w]=(0,l.useState)([]),[N,S]=(0,l.useState)(null),[_,z]=(0,l.useState)(!1),[O,M]=(0,l.useState)(""),[P,j]=(0,l.useState)({http:!0,rpc:!0,queues:!0,compose:!0}),T=(0,l.useMemo)(()=>(0,p.buildHeatmap)(x?.contributions||[],e),[x,e]),D=(0,l.useMemo)(()=>new Set(n.map(e=>(0,p.normalizePath)(e.replace(/^file:/,"")))),[n]);return(0,l.useEffect)(()=>{const e=e=>{const n=e.data;if("architectureData"===n?.command){const e=n.data?.repo_id||n.data?.repoId;e&&r(e)}};return window.addEventListener("message",e),t.postMessage({command:"requestArchitecture"}),()=>window.removeEventListener("message",e)},[t]),(0,l.useEffect)(()=>{if(!o)return;let e=!0;return(async()=>{try{g(!0),h(null);const n=await a.getCommunication(o);if(!e)return;I(n)}catch(n){if(!e)return;h(n instanceof Error?n.message:"Failed to load communication data")}finally{e&&g(!1)}})(),()=>{e=!1}},[a,o]),(0,l.useEffect)(()=>{if(!o||"off"===e)return void y(null);let n=!0;return(async()=>{try{const e=await a.getContributions(o);n&&y(e)}catch{n&&y(null)}})(),()=>{n=!1}},[a,o,e]),(0,l.useEffect)(()=>{if(!b)return;const e=new Map,n=[],t=b.compose_services||[],a=t.map(e=>e.name);if(!O&&a.length>0){const e=a.find(e=>e.toLowerCase().includes("gateway"))||a[0];M(e)}P.compose&&t.forEach(n=>{const t=`service:${n.name}`;e.set(t,C(t,`${n.name} (${n.ports.join(", ")||"no ports"})`,"service"))}),P.http&&b.endpoints.forEach(t=>{const a=`endpoint:${t.method}:${t.url}`;e.set(a,C(a,`${t.method} ${t.url}`,"endpoint")),t.callers.forEach(o=>{const r=`file:${o}`,A=T.entries.get((0,p.normalizePath)(o)),l=D.has((0,p.normalizePath)(o));e.set(r,C(r,o,"file",A?.color,A?.tooltip,l)),n.push(f({id:`${r}->${a}`,source:r,target:a,type:"http",label:"‚Üí",details:[`${t.method} ${t.url}`]}))}),t.services.forEach(o=>{const r=`service:${o}`;e.set(r,C(r,o,"service")),n.push(f({id:`${a}->${r}`,source:a,target:r,type:"http",label:"‚Üí",details:[`${t.method} ${t.url}`]}))})}),P.rpc&&b.rpc_services.forEach(t=>{const a=`rpc:${t.name}`;e.set(a,C(a,t.name,"rpc")),t.callers.forEach(o=>{const r=`file:${o}`,A=T.entries.get((0,p.normalizePath)(o)),l=D.has((0,p.normalizePath)(o));e.set(r,C(r,o,"file",A?.color,A?.tooltip,l)),n.push(f({id:`${r}->${a}`,source:r,target:a,type:"rpc",label:"‚áí",details:[`RPC service: ${t.name}`]}))})}),P.queues&&b.queues.forEach(t=>{const a=`queue:${t.topic}`;e.set(a,C(a,t.topic,"queue")),t.publishers.forEach(o=>{const r=`file:${o}`,A=T.entries.get((0,p.normalizePath)(o)),l=D.has((0,p.normalizePath)(o));e.set(r,C(r,o,"file",A?.color,A?.tooltip,l)),n.push(f({id:`${r}->${a}`,source:r,target:a,type:"queue",label:"‚áÑ",details:[`Queue topic: ${t.topic}`,`Publisher: ${o}`],bidirectional:!0}))}),t.consumers.forEach(o=>{const r=`file:${o}`,A=T.entries.get((0,p.normalizePath)(o)),l=D.has((0,p.normalizePath)(o));e.set(r,C(r,o,"file",A?.color,A?.tooltip,l)),n.push(f({id:`${a}->${r}`,source:a,target:r,type:"queue",label:"‚áÑ",details:[`Queue topic: ${t.topic}`,`Consumer: ${o}`],bidirectional:!0}))})});let o=Array.from(e.values()),r=n;if(_&&O){const e=function(e,n){const t=new Map;n.forEach(e=>{t.has(e.source)||t.set(e.source,new Set),t.has(e.target)||t.set(e.target,new Set),t.get(e.source)?.add(e.target),t.get(e.target)?.add(e.source)});const a=new Set,o=[e];for(a.add(e);o.length>0;){const e=o.shift();if(!e)break;t.get(e)?.forEach(e=>{a.has(e)||(a.add(e),o.push(e))})}return a}(`service:${O}`,n);o=o.filter(n=>e.has(n.id)),r=n.filter(n=>e.has(n.source)&&e.has(n.target))}const A=o.map(e=>({id:e.id,width:200,height:50})),l=r.map(e=>({id:e.id,source:e.source,target:e.target}));(async()=>{const{nodes:e}=await(0,s.elkLayout)(A,l,"force"),n=o.map(n=>({...n,position:e.get(n.id)||{x:0,y:0}}));E(n),w(r)})()},[b,P,T,_,O,D]),l.default.createElement("div",{className:"diagram-container"},l.default.createElement("div",{className:"diagram-header"},l.default.createElement("div",null,l.default.createElement("h2",null,"Communication Diagram"),l.default.createElement("p",null,"Service calls across HTTP, RPC, and queues with compose boundaries.")),l.default.createElement("div",{className:"diagram-filters"},l.default.createElement("label",null,l.default.createElement("input",{type:"checkbox",checked:P.http,onChange:()=>j(e=>({...e,http:!e.http}))}),"HTTP"),l.default.createElement("label",null,l.default.createElement("input",{type:"checkbox",checked:P.rpc,onChange:()=>j(e=>({...e,rpc:!e.rpc}))}),"RPC"),l.default.createElement("label",null,l.default.createElement("input",{type:"checkbox",checked:P.queues,onChange:()=>j(e=>({...e,queues:!e.queues}))}),"Queue"),l.default.createElement("label",null,l.default.createElement("input",{type:"checkbox",checked:P.compose,onChange:()=>j(e=>({...e,compose:!e.compose}))}),"Compose")),l.default.createElement("div",{className:"diagram-filters"},l.default.createElement("label",{className:"diagram-toggle"},l.default.createElement("input",{type:"checkbox",checked:_,onChange:()=>z(e=>!e)}),"API Flow"),_&&b?.compose_services?.length?l.default.createElement("select",{className:"diagram-select",value:O,onChange:e=>M(e.target.value)},b.compose_services.map(e=>l.default.createElement("option",{key:e.name,value:e.name},e.name))):null)),"off"!==e&&T.maxMetric>0&&l.default.createElement(d.HeatmapLegend,{mode:e,minMetric:T.minMetric,maxMetric:T.maxMetric}),A&&l.default.createElement("div",{className:"diagram-state"},"Loading communication data..."),B&&l.default.createElement("div",{className:"diagram-state diagram-error"},B),!A&&!B&&l.default.createElement(i.ReactFlowProvider,null,l.default.createElement("div",{className:"diagram-flow"},l.default.createElement(i.default,{nodes:v,edges:k,nodeTypes:{heatmapNode:u.HeatmapNode},fitView:!0,fitViewOptions:{padding:.2},onEdgeClick:(e,n)=>{const t=n.data?.details;t&&S(t)}},l.default.createElement(i.Background,{variant:i.BackgroundVariant.Dots,gap:16,size:.8})))),N&&l.default.createElement("div",{className:"edge-details"},l.default.createElement("div",{className:"edge-details-header"},l.default.createElement("span",null,N.label),l.default.createElement("button",{onClick:()=>S(null)},"√ó")),l.default.createElement("ul",null,N.meta.map(e=>l.default.createElement("li",{key:e},e)))))}},58908(e,n,t){var a,o=this&&this.__createBinding||(Object.create?function(e,n,t,a){void 0===a&&(a=t);var o=Object.getOwnPropertyDescriptor(n,t);o&&!("get"in o?!n.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return n[t]}}),Object.defineProperty(e,a,o)}:function(e,n,t,a){void 0===a&&(a=t),e[a]=n[t]}),r=this&&this.__setModuleDefault||(Object.create?function(e,n){Object.defineProperty(e,"default",{enumerable:!0,value:n})}:function(e,n){e.default=n}),A=this&&this.__importStar||(a=function(e){return a=Object.getOwnPropertyNames||function(e){var n=[];for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(n[n.length]=t);return n},a(e)},function(e){if(e&&e.__esModule)return e;var n={};if(null!=e)for(var t=a(e),A=0;A<t.length;A++)"default"!==t[A]&&o(n,e,t[A]);return r(n,e),n});Object.defineProperty(n,"__esModule",{value:!0}),n.WebhookSetup=void 0;const l=A(t(96540)),i=["push","pull_request"];n.WebhookSetup=({backendUrl:e})=>{const n=(0,l.useMemo)(()=>acquireVsCodeApi(),[]),[t,a]=(0,l.useState)(""),[o,r]=(0,l.useState)(""),[A,c]=(0,l.useState)(i),[d,u]=(0,l.useState)(!1),[p,m]=(0,l.useState)(null),[C,f]=(0,l.useState)(null),[g,B]=(0,l.useState)([]),h=(0,l.useMemo)(()=>new s(e),[e]);(0,l.useEffect)(()=>{n.postMessage({command:"requestConfig"})},[n]),(0,l.useEffect)(()=>{b()},[h]);const b=async()=>{try{f(null);const e=await h.listWebhooks();B(e.webhooks)}catch(e){f(e instanceof Error?e.message:"Failed to load webhooks")}};return l.default.createElement("div",{className:"diagram-container webhook-setup"},l.default.createElement("div",{className:"diagram-header"},l.default.createElement("div",null,l.default.createElement("h2",null,"Webhook Setup"),l.default.createElement("p",null,"Configure GitHub webhooks for live architecture updates."))),l.default.createElement("div",{className:"webhook-form"},l.default.createElement("label",null,"GitHub Repository URL",l.default.createElement("input",{type:"text",value:t,onChange:e=>a(e.target.value),placeholder:"https://github.com/org/repo.git"})),l.default.createElement("div",{className:"webhook-row"},l.default.createElement("label",null,"Webhook Secret",l.default.createElement("input",{type:"text",value:o,onChange:e=>r(e.target.value),placeholder:"Generate or paste secret"})),l.default.createElement("button",{className:"diagram-pill",onClick:()=>{const e=function(){const e=new Uint8Array(24);return window.crypto.getRandomValues(e),Array.from(e).map(e=>e.toString(16).padStart(2,"0")).join("")}();r(e)}},"Generate")),l.default.createElement("div",{className:"webhook-events"},l.default.createElement("span",null,"Events"),["push","pull_request"].map(e=>l.default.createElement("label",{key:e},l.default.createElement("input",{type:"checkbox",checked:A.includes(e),onChange:()=>c(n=>n.includes(e)?n.filter(n=>n!==e):[...n,e])}),e))),l.default.createElement("div",{className:"webhook-actions"},l.default.createElement("button",{className:"diagram-pill active",onClick:async()=>{if(t){u(!0),m(null),f(null);try{const n={repo_url:t,url:`${e}/webhooks/github`,secret:o,events:A};await h.createWebhook(n),m("Webhook saved successfully"),await b()}catch(e){f(e instanceof Error?e.message:"Failed to save webhook")}finally{u(!1)}}else f("Repository URL is required")},disabled:d},d?"Saving...":"Save Webhook")),l.default.createElement("div",{className:"webhook-instructions"},"Add this URL and secret to GitHub repo settings ‚Üí Webhooks.")),p&&l.default.createElement("div",{className:"diagram-state"},p),C&&l.default.createElement("div",{className:"diagram-state diagram-error"},C),l.default.createElement("div",{className:"webhook-list"},l.default.createElement("h3",null,"Existing Webhooks"),0===g.length?l.default.createElement("div",{className:"diagram-state"},"No webhooks configured yet."):l.default.createElement("table",null,l.default.createElement("thead",null,l.default.createElement("tr",null,l.default.createElement("th",null,"ID"),l.default.createElement("th",null,"Repo"),l.default.createElement("th",null,"URL"),l.default.createElement("th",null,"Events"),l.default.createElement("th",null,"Actions"))),l.default.createElement("tbody",null,g.map(e=>l.default.createElement("tr",{key:e.id},l.default.createElement("td",null,e.id),l.default.createElement("td",null,e.repo_url||e.repo_id),l.default.createElement("td",null,e.url),l.default.createElement("td",null,(e.events||[]).join(", ")),l.default.createElement("td",null,l.default.createElement("button",{className:"diagram-pill",onClick:()=>(async e=>{try{m(null),f(null),await h.pingWebhook(e),m("Webhook ping succeeded")}catch(e){f(e instanceof Error?e.message:"Webhook ping failed")}})(e.id)},"Ping"),l.default.createElement("button",{className:"diagram-pill",onClick:()=>(async e=>{try{m(null),f(null),await h.deleteWebhook(e),m("Webhook deleted"),await b()}catch(e){f(e instanceof Error?e.message:"Failed to delete webhook")}})(e.id)},"Delete"))))))))};class s{constructor(e){this.baseUrl=e}async request(e,n={}){const t=await fetch(`${this.baseUrl}${e}`,{...n,headers:{"Content-Type":"application/json",...n.headers||{}}});if(!t.ok){const e=await t.text();throw new Error(e||t.statusText)}return t.json()}listWebhooks(){return this.request("/api/v1/webhooks")}createWebhook(e){return this.request("/api/v1/webhooks",{method:"POST",body:JSON.stringify(e)})}deleteWebhook(e){return this.request(`/api/v1/webhooks/${e}`,{method:"DELETE"})}pingWebhook(e){return this.request(`/api/v1/webhooks/${e}/ping`,{method:"POST"})}}},60914(e,n,t){var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.LAYOUT_OPTIONS=void 0,n.dagreLayout=r,n.elkLayout=async function(e,n,t="layered"){const a={id:"root",layoutOptions:{"elk.algorithm":"layered"===t?"layered":"force","elk.direction":"DOWN","elk.spacing.nodeNode":"60","elk.layered.spacing.nodeNodeBetweenLayers":"80","elk.force.iterations":"300"},children:e.map(e=>({id:e.id,width:e.width||180,height:e.height||40})),edges:n.map(e=>({id:e.id,sources:[e.source],targets:[e.target]}))},o=await A.layout(a),r=new Map;return o.children?.forEach(e=>{r.set(e.id,{x:e.x||0,y:e.y||0})}),{nodes:r}},n.byFileLayout=function(e,n){const t=new Map,a=new Map,o=[];e.forEach(e=>{if("file"===e.type||"directory"===e.type)o.push(e);else{const n=e.parentId||e.filePath||"orphan",t=a.get(n)||[];t.push(e),a.set(n,t)}});let r=0;return o.forEach(e=>{t.set(e.id,{x:0,y:r}),r+=60,(a.get(e.id)||[]).forEach(e=>{t.set(e.id,{x:40,y:r}),r+=50}),r+=100}),{nodes:t}},n.byModuleLayout=function(e,n){const t=new Map,a={name:"root",files:[],subModules:new Map};e.forEach(e=>{if("file"===e.type&&e.filePath){const n=e.filePath.split("/");let t=a;for(let e=0;e<n.length-1;e++){const a=n[e];t.subModules.has(a)||t.subModules.set(a,{name:a,files:[],subModules:new Map}),t=t.subModules.get(a)}t.files.push(e)}});let o=0;return function e(n,a){n.files.forEach(e=>{t.set(e.id,{x:a,y:o}),o+=60}),n.subModules.forEach(n=>{e(n,a+40)}),(n.files.length>0||n.subModules.size>0)&&(o+=100)}(a,0),{nodes:t}},n.dependencyOnlyLayout=function(e,n){return r(e,n.filter(e=>"calls"===e.type||"imports"===e.type||"CALLS"===e.type||"IMPORTS"===e.type),"LR")},n.forceDirectedLayout=function(e,n,t=300){const a=new Map,o=new Map;e.forEach(e=>{o.set(e.id,{x:1e3*Math.random(),y:1e3*Math.random(),vx:0,vy:0})});for(let a=0;a<t;a++)e.forEach(n=>{const t=o.get(n.id);e.forEach(e=>{if(n.id===e.id)return;const a=o.get(e.id),r=t.x-a.x,A=t.y-a.y,l=Math.sqrt(r*r+A*A)||1;if(l<300){const e=1e4/(l*l);t.vx+=r/l*e,t.vy+=A/l*e}})}),n.forEach(e=>{const n=o.get(e.source),t=o.get(e.target);if(!n||!t)return;const a=t.x-n.x,r=t.y-n.y,A=Math.sqrt(a*a+r*r)||1,l=.01*A;n.vx+=a/A*l,n.vy+=r/A*l,t.vx-=a/A*l,t.vy-=r/A*l}),e.forEach(e=>{const n=o.get(e.id);n.x+=n.vx,n.y+=n.vy,n.vx*=.85,n.vy*=.85});return o.forEach((e,n)=>{a.set(n,{x:e.x,y:e.y})}),{nodes:a}};const o=a(t(76246));function r(e,n,t="TB"){const a=new o.default.graphlib.Graph;a.setGraph({rankdir:t,nodesep:50,ranksep:80,edgesep:20,marginx:20,marginy:20}),a.setDefaultEdgeLabel(()=>({})),e.forEach(e=>{a.setNode(e.id,{width:e.width||180,height:e.height||40})}),n.forEach(e=>{a.setEdge(e.source,e.target)}),o.default.layout(a);const r=new Map;return a.nodes().forEach(e=>{const n=a.node(e);n&&r.set(e,{x:n.x-(n.width||180)/2,y:n.y-(n.height||40)/2})}),{nodes:r}}const A=new(a(t(62954)).default);n.LAYOUT_OPTIONS=[{value:"hierarchical",label:"üìä Hierarchical",description:"Tree-like layout based on file depth"},{value:"by-file",label:"üìÑ By File",description:"Functions grouped under their files"},{value:"by-module",label:"üì¶ By Module",description:"Files grouped under modules/directories"},{value:"dependency-only",label:"üîó Dependencies Only",description:"Show only CALLS/IMPORTS edges"},{value:"dagre-tb",label:"‚¨áÔ∏è Dagre (Top-Bottom)",description:"Directed graph layout, top to bottom"},{value:"dagre-lr",label:"‚û°Ô∏è Dagre (Left-Right)",description:"Directed graph layout, left to right"},{value:"elk-layered",label:"üìê ELK Layered",description:"Advanced layered layout with edge routing"},{value:"force-directed",label:"üåÄ Force-Directed",description:"Physics-based clustering layout"}]},61239(e,n){Object.defineProperty(n,"__esModule",{value:!0}),n.initializeExportListener=function(){"undefined"!=typeof window&&window.addEventListener("message",e=>{const n=e.data;"fileSaveSuccess"!==n.command&&"fileSaveError"!==n.command&&"fileSaveCancelled"!==n.command||(t.forEach(({resolve:e,reject:t},a)=>{"fileSaveSuccess"===n.command?e(n.path||"File saved successfully"):"fileSaveError"===n.command?t(new Error(n.error||"Export failed")):"fileSaveCancelled"===n.command&&t(new Error("Export cancelled by user"))}),t.clear())})},n.saveFileInVSCode=function(e,n,a){return new Promise((o,r)=>{if("function"!=typeof acquireVsCodeApi)return void r(new Error("Not in VS Code webview context"));const A=acquireVsCodeApi();t.set(n,{resolve:o,reject:r}),A.postMessage({command:"saveFile",data:e,filename:n,mimeType:a}),setTimeout(()=>{t.has(n)&&(t.delete(n),r(new Error("Export timeout - no response from extension")))},3e4)})},n.isVSCodeWebview=function(){return"function"==typeof acquireVsCodeApi};let t=new Map},72926(e,n,t){var a,o=this&&this.__createBinding||(Object.create?function(e,n,t,a){void 0===a&&(a=t);var o=Object.getOwnPropertyDescriptor(n,t);o&&!("get"in o?!n.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return n[t]}}),Object.defineProperty(e,a,o)}:function(e,n,t,a){void 0===a&&(a=t),e[a]=n[t]}),r=this&&this.__setModuleDefault||(Object.create?function(e,n){Object.defineProperty(e,"default",{enumerable:!0,value:n})}:function(e,n){e.default=n}),A=this&&this.__importStar||(a=function(e){return a=Object.getOwnPropertyNames||function(e){var n=[];for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(n[n.length]=t);return n},a(e)},function(e){if(e&&e.__esModule)return e;var n={};if(null!=e)for(var t=a(e),A=0;A<t.length;A++)"default"!==t[A]&&o(n,e,t[A]);return r(n,e),n});Object.defineProperty(n,"__esModule",{value:!0}),n.DependencyDiagram=void 0;const l=A(t(96540)),i=A(t(20072));t(90036);const s=t(25067),c=t(97123),d=t(33483),u=t(60914),p=t(41681),m=({heatmapMode:e,highlightNodeIds:n=[]})=>{const t=(0,l.useMemo)(()=>(0,p.getVsCodeApi)(),[]),a=(0,l.useMemo)(()=>new s.ArchMindWebviewApiClient,[]),[o,r,A]=(0,i.useNodesState)([]),[m,C,f]=(0,i.useEdgesState)([]),[g,B]=(0,l.useState)(null),[h,b]=(0,l.useState)(!1),[I,x]=(0,l.useState)(null),[y,v]=(0,l.useState)(null),[E,k]=(0,l.useState)(null),w=(0,l.useMemo)(()=>(0,c.buildHeatmap)(E?.contributions||[],e),[E,e]);return(0,l.useEffect)(()=>{const e=e=>{const n=e.data;if("architectureData"===n?.command){const e=n.data?.repo_id||n.data?.repoId;e&&B(e)}};return window.addEventListener("message",e),t.postMessage({command:"requestArchitecture"}),()=>window.removeEventListener("message",e)},[t]),(0,l.useEffect)(()=>{g&&(async()=>{try{b(!0),x(null);const e=await a.getDependencies(g);v(e)}catch(e){console.error("Failed to load dependencies:",e),x("Failed to load dependency data")}finally{b(!1)}})()},[g,a]),(0,l.useEffect)(()=>{if(!g||"off"===e)return void k(null);let n=!0;return(async()=>{try{const e=await a.getContributions(g);n&&k(e)}catch(e){console.error("Failed to load contributions:",e)}})(),()=>{n=!1}},[g,e,a]),(0,l.useEffect)(()=>{if(!y)return;const n=new Map,t=[];y.dependencies.forEach((e,a)=>{n.has(e.source_file)||n.set(e.source_file,{id:e.source_file,data:{label:e.source_file.split("/").pop(),type:"file"},position:{x:0,y:0},style:{background:"var(--am-panel-bg)",color:"var(--am-fg)",border:"1px solid var(--am-border)",borderRadius:4,padding:8,width:180}}),n.has(e.target)||n.set(e.target,{id:e.target,data:{label:e.target.split("/").pop(),type:e.target_type},position:{x:0,y:0},style:{background:"var(--am-panel-bg)",color:"var(--am-fg)",border:"1px solid var(--am-border)",borderRadius:4,padding:8,width:180}}),t.push({id:`e-${a}`,source:e.source_file,target:e.target,label:e.relationship,type:"smoothstep",markerEnd:{type:i.MarkerType.ArrowClosed},style:{stroke:"var(--am-fg)",opacity:.6}})});let a=Array.from(n.values());"off"!==e&&(a=a.map(e=>{const n=w.entries.get((0,c.normalizePath)(e.id));return n?{...e,style:{...e.style,background:n.color},data:{...e.data,heatmapTooltip:n.tooltip}}:e}));const o=a.map(e=>({id:e.id,width:180,height:40})),A=t.map(e=>({id:e.id,source:e.source,target:e.target})),l=(0,u.dagreLayout)(o,A,"TB"),s=a.map(e=>{const n=l.nodes.get(e.id)||{x:0,y:0};return{...e,position:n}});r(s),C(t)},[y,w,e,r,C]),h?l.default.createElement("div",{className:"loading-container"},l.default.createElement("div",{className:"loading-spinner"}),"Loading dependencies..."):I?l.default.createElement("div",{className:"error-container"},l.default.createElement("div",{className:"error-icon"},"‚ö†Ô∏è"),l.default.createElement("h3",null,"Error"),l.default.createElement("p",null,I),l.default.createElement("div",{className:"error-actions"},l.default.createElement("button",{className:"retry-button",onClick:()=>window.location.reload()},"Retry"))):h||I||y&&0!==y.total_dependencies?l.default.createElement("div",{style:{width:"100%",height:"100%"}},"off"!==e&&w.maxMetric>0&&l.default.createElement("div",{className:"heatmap-legend-floating"},l.default.createElement(d.HeatmapLegend,{mode:e,minMetric:w.minMetric,maxMetric:w.maxMetric})),l.default.createElement(i.default,{nodes:o,edges:m,onNodesChange:A,onEdgesChange:f,fitView:!0},l.default.createElement(i.Background,{color:"var(--am-border)",gap:16}))):l.default.createElement("div",{className:"loading-container"},l.default.createElement("div",{style:{fontSize:"48px",marginBottom:"16px"}},"üîó"),l.default.createElement("h3",{style:{margin:0,fontSize:"18px"}},"No Dependencies Found"),l.default.createElement("p",{style:{opacity:.8,maxWidth:"400px",textAlign:"center"}},"Run analysis to detect dependencies."))};n.DependencyDiagram=e=>l.default.createElement(i.ReactFlowProvider,null,l.default.createElement(m,{...e}))},72980(e,n){function t(e,n,t,a="local"){const o={version:"1.0",exportDate:(new Date).toISOString(),metadata:{totalNodes:e.length,totalEdges:n.length,source:a},nodes:e.map(e=>({id:e.id,label:e.data?.label||e.id,type:e.data?.type||"default",position:e.position,data:e.data,style:e.style})),edges:n.map(e=>({id:e.id,source:e.source,target:e.target,type:e.type,label:"string"==typeof e.label?e.label:void 0})),rawData:t};return JSON.stringify(o,null,2)}Object.defineProperty(n,"__esModule",{value:!0}),n.exportAsJSON=t,n.downloadJSON=function(e,n,a="graph-export.json",o,r="local"){const A=t(e,n,o,r);if("function"==typeof acquireVsCodeApi)acquireVsCodeApi().postMessage({command:"saveFile",data:A,filename:a,mimeType:"application/json"});else{const e=new Blob([A],{type:"application/json"}),n=URL.createObjectURL(e),t=document.createElement("a");t.href=n,t.download=a,document.body.appendChild(t),t.click(),document.body.removeChild(t),URL.revokeObjectURL(n)}},n.parseImportedJSON=function(e){try{const n=JSON.parse(e);if(!n.version||!n.nodes||!n.edges)throw new Error("Invalid export file format");return n}catch(e){throw new Error(`Failed to parse JSON: ${e instanceof Error?e.message:"Unknown error"}`)}},n.convertToReactFlowFormat=function(e){return{nodes:e.nodes.map(e=>({id:e.id,position:e.position,data:e.data,type:"default"===e.type?void 0:e.type,style:e.style})),edges:e.edges.map(e=>({id:e.id,source:e.source,target:e.target,type:e.type,label:e.label}))}},n.getJSONSize=function(e,n,a){const o=t(e,n,a);return new Blob([o]).size},n.formatFileSize=function(e){return e<1024?`${e} B`:e<1048576?`${(e/1024).toFixed(2)} KB`:`${(e/1048576).toFixed(2)} MB`}},83569(e,n,t){var a,o=this&&this.__createBinding||(Object.create?function(e,n,t,a){void 0===a&&(a=t);var o=Object.getOwnPropertyDescriptor(n,t);o&&!("get"in o?!n.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return n[t]}}),Object.defineProperty(e,a,o)}:function(e,n,t,a){void 0===a&&(a=t),e[a]=n[t]}),r=this&&this.__setModuleDefault||(Object.create?function(e,n){Object.defineProperty(e,"default",{enumerable:!0,value:n})}:function(e,n){e.default=n}),A=this&&this.__importStar||(a=function(e){return a=Object.getOwnPropertyNames||function(e){var n=[];for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(n[n.length]=t);return n},a(e)},function(e){if(e&&e.__esModule)return e;var n={};if(null!=e)for(var t=a(e),A=0;A<t.length;A++)"default"!==t[A]&&o(n,e,t[A]);return r(n,e),n}),l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});const i=A(t(96540)),s=l(t(52915)),c=t(47053),d=t(51225),u=t(72926),p=t(54825),m=t(58908),C=t(10918),f=t(8575),g=t(61239),B=t(15651),h=()=>((0,C.useThemeKeyboard)(),null),b=()=>i.default.createElement("header",{className:"app-header"},i.default.createElement("div",{className:"header-content"},i.default.createElement("h1",{className:"header-title"},i.default.createElement("span",{className:"header-icon"},"üèóÔ∏è"),"ArchMind"),i.default.createElement("span",{className:"header-subtitle"},"Architecture Intelligence")),i.default.createElement("div",{className:"header-actions"},i.default.createElement(f.CompactThemeToggle,null)));n.default=()=>{(0,i.useEffect)(()=>{(0,g.initializeExportListener)()},[]);const[e,n]=(0,i.useState)("graph"),[t,a]=(0,i.useState)("off"),[o,r]=(0,i.useState)(null),[A,l]=(0,i.useState)([]),[f,I]=(0,i.useState)([]);return(0,i.useEffect)(()=>{const e=e=>{const t=e.data;"switchView"===t?.command&&t.view&&n(t.view),"toggleHeatmap"===t?.command&&a(e=>{const n=["off","commit_count","last_modified","author_count"],t=n.indexOf(e);return n[(t+1)%n.length]}),"config"===t?.command&&t.data&&r(t.data),"highlightNodes"===t?.command&&l(t.nodeIds||[])};return window.addEventListener("message",e),()=>window.removeEventListener("message",e)},[]),(0,i.useEffect)(()=>{const e=e=>{const n=e.detail;n?.message&&I(e=>[{id:`${Date.now()}`,message:n.message,timestamp:(new Date).toLocaleTimeString()},...e].slice(0,8))};return window.addEventListener("archmind:graphUpdated",e),()=>window.removeEventListener("archmind:graphUpdated",e)},[]),i.default.createElement(C.ThemeProvider,null,i.default.createElement(h,null),i.default.createElement("div",{className:"app-container"},i.default.createElement(b,null),i.default.createElement("div",{className:"view-toggle"},i.default.createElement("button",{className:"graph"===e?"view-tab active":"view-tab",onClick:()=>n("graph")},"Graph"),i.default.createElement("button",{className:"boundaries"===e?"view-tab active":"view-tab",onClick:()=>n("boundaries")},"Boundaries"),i.default.createElement("button",{className:"boundary-diagram"===e?"view-tab active":"view-tab",onClick:()=>n("boundary-diagram")},"Boundary Diagram"),i.default.createElement("button",{className:"dependency-diagram"===e?"view-tab active":"view-tab",onClick:()=>n("dependency-diagram")},"Dependency Diagram"),i.default.createElement("button",{className:"communication"===e?"view-tab active":"view-tab",onClick:()=>n("communication")},"Communication"),i.default.createElement("button",{className:"webhooks"===e?"view-tab active":"view-tab",onClick:()=>n("webhooks")},"Webhooks")),i.default.createElement("div",{className:"heatmap-toolbar"},i.default.createElement("span",{className:"heatmap-label"},"Heatmap"),i.default.createElement("div",{className:"heatmap-toggle"},[{value:"off",label:"Off"},{value:"commit_count",label:"Commit Count"},{value:"last_modified",label:"Last Modified"},{value:"author_count",label:"Author Count"}].map(e=>i.default.createElement("button",{key:e.value,className:t===e.value?"heatmap-pill active":"heatmap-pill",onClick:()=>a(e.value)},e.label)))),i.default.createElement("main",{className:"app-main"},"graph"===e&&i.default.createElement(s.default,{heatmapMode:t,highlightNodeIds:A}),"boundaries"===e&&i.default.createElement(c.ModuleBoundaryDiagram,{heatmapMode:t,highlightNodeIds:A}),"boundary-diagram"===e&&i.default.createElement(d.BoundaryDiagram,{heatmapMode:t,highlightNodeIds:A}),"dependency-diagram"===e&&i.default.createElement(u.DependencyDiagram,{heatmapMode:t,highlightNodeIds:A}),"communication"===e&&i.default.createElement(p.CommunicationDiagram,{heatmapMode:t,highlightNodeIds:A}),"webhooks"===e&&i.default.createElement(m.WebhookSetup,{backendUrl:o?.backendUrl||"http://localhost:8080"})),i.default.createElement(B.NotificationHistory,{entries:f,onClear:()=>I([])})))}},88952(e,n,t){var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.DEFAULT_PDF_OPTIONS=void 0,n.exportAsPDF=A,n.exportDetailedPDF=async function(e,t,a,o="graph-detailed.pdf",r={}){return A(e,t,a,o,{...n.DEFAULT_PDF_OPTIONS,includeMetadata:!0,...r})},n.exportCustomPDF=async function(e,n,t,a){const A=new o.default({orientation:"landscape",unit:"mm",format:"a4"}),i=A.internal.pageSize.getWidth();let s=20;A.setFontSize(20),A.setTextColor(0,0,0),A.text(a.title,i/2,s,{align:"center"}),s+=10,a.subtitle&&(A.setFontSize(12),A.setTextColor(100,100,100),A.text(a.subtitle,i/2,s,{align:"center"}),s+=10);const c=e.querySelector(".react-flow__viewport");if(c){const e=await(0,r.default)(c,{backgroundColor:"#1e1e1e",scale:2,logging:!1});A.addPage();const n=e.toDataURL("image/jpeg",.95);A.addImage(n,"JPEG",10,10,i-20,180)}if(a.includeStats&&(A.addPage(),function(e,n,t){const a=e.internal.pageSize.getWidth();let o=20;e.setFontSize(14),e.text("Statistics",a/2,o,{align:"center"}),o+=15,e.setFontSize(12),e.text("Node Type Distribution",10,o),o+=7;const r=new Map;n.forEach(e=>{const n=e.data?.type||"default";r.set(n,(r.get(n)||0)+1)}),e.setFontSize(10),Array.from(r.entries()).forEach(([t,a])=>{e.text(`${t}: ${a} (${(a/n.length*100).toFixed(1)}%)`,15,o),o+=6}),o+=10,e.setFontSize(12),e.text("Connection Statistics",10,o),o+=7;const A=t.length/n.length;e.setFontSize(10),e.text(`Average connections per node: ${A.toFixed(2)}`,15,o)}(A,n,t)),a.includeNodeList&&(A.addPage(),l(A,n,t)),"function"==typeof acquireVsCodeApi){const e=A.output("blob"),n=new FileReader;n.onloadend=()=>{acquireVsCodeApi().postMessage({command:"saveFile",data:n.result,filename:a.filename,mimeType:"application/pdf"})},n.onerror=()=>{throw new Error("Failed to read PDF blob")},n.readAsDataURL(e)}else A.save(a.filename)},n.estimatePDFSize=function(e,n){return 5e4+100*e.length+50*n.length};const o=a(t(18781)),r=a(t(20354));async function A(e,t,a,A="graph.pdf",i={}){const s={...n.DEFAULT_PDF_OPTIONS,...i};try{const n=e.querySelector(".react-flow__viewport");if(!n)throw new Error("ReactFlow viewport not found");const i=await(0,r.default)(n,{backgroundColor:"#1e1e1e",scale:2,logging:!1,useCORS:!0}),c=new o.default({orientation:s.orientation,unit:"mm",format:s.format}),d=c.internal.pageSize.getWidth(),u=c.internal.pageSize.getHeight();let p=10;s.includeTitle&&s.title&&(c.setFontSize(16),c.setTextColor(0,0,0),c.text(s.title,d/2,p,{align:"center"}),p+=10),s.includeMetadata&&(c.setFontSize(10),c.setTextColor(100,100,100),[`Generated: ${(new Date).toLocaleString()}`,`Nodes: ${t.length} | Edges: ${a.length}`].forEach(e=>{c.text(e,10,p),p+=5}),p+=5);const m=i.toDataURL("image/jpeg",s.quality),C=i.width/i.height;let f=d-20,g=f/C;g>u-p-10&&(g=u-p-10,f=g*C);const B=(d-f)/2;if(c.addImage(m,"JPEG",B,p,f,g),s.includeMetadata&&t.length>0&&(c.addPage(),l(c,t,a)),"function"==typeof acquireVsCodeApi){const e=c.output("blob"),n=new FileReader;n.onloadend=()=>{acquireVsCodeApi().postMessage({command:"saveFile",data:n.result,filename:A,mimeType:"application/pdf"})},n.onerror=()=>{throw new Error("Failed to read PDF blob")},n.readAsDataURL(e)}else c.save(A)}catch(e){throw new Error(`PDF export failed: ${e instanceof Error?e.message:"Unknown error"}`)}}function l(e,n,t){const a=e.internal.pageSize.getWidth(),o=e.internal.pageSize.getHeight();let r=20;e.setFontSize(14),e.setTextColor(0,0,0),e.text("Graph Details",a/2,r,{align:"center"}),r+=10,e.setFontSize(12),e.text("Summary",10,r),r+=7,e.setFontSize(10),[`Total Nodes: ${n.length}`,`Total Edges: ${t.length}`,`Node Types: ${i(n).join(", ")}`].forEach(n=>{e.text(n,15,r),r+=6}),r+=10,e.setFontSize(12),e.text("Nodes",10,r),r+=7,e.setFontSize(9),n.slice(0,50).forEach(n=>{r>o-20&&(e.addPage(),r=20);const t=`‚Ä¢ ${n.data?.label||n.id} (${n.data?.type||"default"})`;e.text(t,15,r),r+=5}),n.length>50&&e.text(`... and ${n.length-50} more nodes`,15,r)}function i(e){const n=new Set;return e.forEach(e=>{n.add(e.data?.type||"default")}),Array.from(n)}n.DEFAULT_PDF_OPTIONS={orientation:"landscape",format:"a4",includeMetadata:!0,includeTitle:!0,title:"Architecture Graph",quality:.95}},91763(e,n,t){t.d(n,{A:()=>l});var a=t(71354),o=t.n(a),r=t(76314),A=t.n(r)()(o());A.push([e.id,'/* Base styles */\n*,\n*::before,\n*::after {\n    box-sizing: border-box;\n}\n\n\n/* Theme system: custom variables for light/dark */\n:root {\n    --am-bg: #fff;\n    --am-fg: #222;\n    --am-header-bg: #f5f5f7;\n    --am-header-fg: #222;\n    --am-border: #e0e0e0;\n    --am-panel-bg: #f9f9fa;\n    --am-panel-fg: #222;\n    --am-accent: #0078d4;\n    --am-hover: #f0f0f0;\n    --am-input-bg: #fff;\n    --am-input-fg: #222;\n    --am-input-border: #cecece;\n    --am-input-placeholder: #999;\n    --am-btn-bg: #0078d4;\n    --am-btn-fg: #fff;\n    --am-btn-hover: #005fa3;\n    --am-btn-secondary-bg: #e4e4e4;\n    --am-btn-secondary-fg: #333;\n    --am-btn-secondary-hover: #d0d0d0;\n    --am-badge-bg: #0078d4;\n    --am-badge-fg: #fff;\n    --am-kbd-bg: #eee;\n    --am-kbd-border: #ccc;\n    --am-link: #0078d4;\n    --am-desc: #666;\n    --am-icon: #555;\n    --am-error: #d32f2f;\n    --am-blockquote-bg: #f0f0f0;\n    --am-selection-bg: #0078d4;\n    --am-selection-fg: #fff;\n    --am-highlight-bg: rgba(255, 215, 0, 0.3);\n    --am-find-match-bg: rgba(255, 165, 0, 0.4);\n    --am-chart-green: #388e3c;\n}\n\n[data-theme="dark"] {\n    --am-bg: #181a1b;\n    --am-fg: #eee;\n    --am-header-bg: #23272e;\n    --am-header-fg: #eee;\n    --am-border: #333;\n    --am-panel-bg: #23272e;\n    --am-panel-fg: #eee;\n    --am-accent: #4fc3f7;\n    --am-hover: #2a2e35;\n    --am-input-bg: #1e2127;\n    --am-input-fg: #eee;\n    --am-input-border: #444;\n    --am-input-placeholder: #777;\n    --am-btn-bg: #4fc3f7;\n    --am-btn-fg: #111;\n    --am-btn-hover: #39a8db;\n    --am-btn-secondary-bg: #333;\n    --am-btn-secondary-fg: #ccc;\n    --am-btn-secondary-hover: #444;\n    --am-badge-bg: #4fc3f7;\n    --am-badge-fg: #111;\n    --am-kbd-bg: #333;\n    --am-kbd-border: #555;\n    --am-link: #4fc3f7;\n    --am-desc: #999;\n    --am-icon: #aaa;\n    --am-error: #f44747;\n    --am-blockquote-bg: #1e2127;\n    --am-selection-bg: #4fc3f7;\n    --am-selection-fg: #111;\n    --am-highlight-bg: rgba(255, 215, 0, 0.25);\n    --am-find-match-bg: rgba(255, 165, 0, 0.35);\n    --am-chart-green: #4caf50;\n}\n\n[data-theme="light"] {\n    --am-bg: #fff;\n    --am-fg: #222;\n    --am-header-bg: #f5f5f7;\n    --am-header-fg: #222;\n    --am-border: #e0e0e0;\n    --am-panel-bg: #f9f9fa;\n    --am-panel-fg: #222;\n    --am-accent: #0078d4;\n    --am-hover: #f0f0f0;\n    --am-input-bg: #fff;\n    --am-input-fg: #222;\n    --am-input-border: #cecece;\n    --am-input-placeholder: #999;\n    --am-btn-bg: #0078d4;\n    --am-btn-fg: #fff;\n    --am-btn-hover: #005fa3;\n    --am-btn-secondary-bg: #e4e4e4;\n    --am-btn-secondary-fg: #333;\n    --am-btn-secondary-hover: #d0d0d0;\n    --am-badge-bg: #0078d4;\n    --am-badge-fg: #fff;\n    --am-kbd-bg: #eee;\n    --am-kbd-border: #ccc;\n    --am-link: #0078d4;\n    --am-desc: #666;\n    --am-icon: #555;\n    --am-error: #d32f2f;\n    --am-blockquote-bg: #f0f0f0;\n    --am-selection-bg: #0078d4;\n    --am-selection-fg: #fff;\n    --am-highlight-bg: rgba(255, 215, 0, 0.3);\n    --am-find-match-bg: rgba(255, 165, 0, 0.4);\n    --am-chart-green: #388e3c;\n}\n\nbody {\n    margin: 0;\n    padding: 0;\n    font-family: var(--vscode-font-family, \'Segoe UI\', Arial, sans-serif);\n    font-size: var(--vscode-font-size, 13px);\n    font-weight: var(--vscode-font-weight, 400);\n    background-color: var(--am-bg);\n    color: var(--am-fg);\n    transition: background-color 0.3s, color 0.3s;\n    overflow: hidden;\n}\n\nhtml, body, #root {\n    width: 100%;\n    height: 100%;\n    overflow: hidden;\n}\n\n/* App layout */\n.app-container {\n    width: 100vw;\n    height: 100vh;\n    display: flex;\n    flex-direction: column;\n    overflow: hidden;\n    background: var(--am-bg);\n    color: var(--am-fg);\n}\n\n.app-header {\n    padding: 8px 16px;\n    border-bottom: 1px solid var(--am-border);\n    background-color: var(--am-header-bg);\n    color: var(--am-header-fg);\n    flex-shrink: 0;\n}\n\n.header-content {\n    display: flex;\n    align-items: center;\n    gap: 12px;\n    flex: 1;\n}\n\n.header-title {\n    margin: 0;\n    font-size: 14px;\n    font-weight: 600;\n    display: flex;\n    align-items: center;\n    gap: 6px;\n}\n\n.header-icon {\n    font-size: 16px;\n}\n\n.header-subtitle {\n    font-size: 12px;\n    opacity: 0.7;\n}\n\n.app-header {\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n}\n\n.view-toggle {\n    display: flex;\n    gap: 6px;\n    padding: 6px 12px;\n    border-bottom: 1px solid var(--am-border);\n    background: var(--am-panel-bg);\n}\n\n.view-tab {\n    padding: 6px 12px;\n    border-radius: 999px;\n    border: 1px solid transparent;\n    background: transparent;\n    color: var(--am-fg);\n    font-size: 12px;\n    cursor: pointer;\n}\n\n.view-tab:hover {\n    background: var(--am-hover);\n}\n\n.view-tab.active {\n    background: var(--am-btn-bg);\n    color: var(--am-btn-fg);\n    border-color: var(--am-btn-bg);\n}\n\n.heatmap-toolbar {\n    display: flex;\n    align-items: center;\n    gap: 10px;\n    padding: 6px 12px;\n    border-bottom: 1px solid var(--am-border);\n    background: var(--am-bg);\n}\n\n.heatmap-label {\n    font-size: 12px;\n    color: var(--am-desc);\n}\n\n.heatmap-toggle {\n    display: flex;\n    flex-wrap: wrap;\n    gap: 6px;\n}\n\n.heatmap-pill {\n    padding: 4px 10px;\n    border-radius: 999px;\n    border: 1px solid var(--am-border);\n    background: var(--am-panel-bg);\n    color: var(--am-fg);\n    cursor: pointer;\n    font-size: 11px;\n}\n\n.heatmap-pill.active {\n    background: var(--am-btn-bg);\n    color: var(--am-btn-fg);\n    border-color: var(--am-btn-bg);\n}\n\n.diagram-container {\n    display: flex;\n    flex-direction: column;\n    height: 100%;\n    padding: 16px;\n    gap: 12px;\n    position: relative;\n}\n\n.diagram-header {\n    display: flex;\n    flex-wrap: wrap;\n    align-items: center;\n    justify-content: space-between;\n    gap: 12px;\n}\n\n.diagram-header h2 {\n    margin: 0;\n    font-size: 16px;\n}\n\n.diagram-header p {\n    margin: 4px 0 0;\n    font-size: 12px;\n    color: var(--am-desc);\n}\n\n.diagram-filters {\n    display: flex;\n    flex-wrap: wrap;\n    gap: 10px;\n    align-items: center;\n    font-size: 11px;\n    color: var(--am-desc);\n}\n\n.diagram-filters label {\n    display: flex;\n    gap: 4px;\n    align-items: center;\n}\n\n.diagram-pill {\n    padding: 4px 8px;\n    border-radius: 999px;\n    border: 1px solid var(--am-border);\n    background: var(--am-panel-bg);\n    color: var(--am-fg);\n    cursor: pointer;\n    font-size: 11px;\n}\n\n.diagram-pill.active {\n    background: var(--am-btn-bg);\n    color: var(--am-btn-fg);\n    border-color: var(--am-btn-bg);\n}\n\n.diagram-state {\n    padding: 12px;\n    background: var(--am-panel-bg);\n    border-radius: 8px;\n    color: var(--am-desc);\n}\n\n.diagram-error {\n    background: rgba(211, 47, 47, 0.12);\n    color: var(--am-error);\n}\n\n.diagram-flow {\n    flex: 1;\n    min-height: 400px;\n    border: 1px solid var(--am-border);\n    border-radius: 12px;\n    overflow: hidden;\n    background: var(--am-panel-bg);\n}\n\n.diagram-select {\n    padding: 4px 8px;\n    border-radius: 6px;\n    border: 1px solid var(--am-border);\n    background: var(--am-panel-bg);\n    color: var(--am-fg);\n    font-size: 11px;\n}\n\n.diagram-toggle {\n    display: flex;\n    gap: 6px;\n    align-items: center;\n}\n\n.heatmap-legend {\n    display: flex;\n    flex-direction: column;\n    gap: 8px;\n    padding: 8px 12px;\n    border-radius: 10px;\n    background: var(--am-panel-bg);\n    border: 1px solid var(--am-border);\n    font-size: 11px;\n}\n\n.heatmap-legend-floating {\n    position: absolute;\n    top: 16px;\n    right: 16px;\n    z-index: 5;\n}\n\n.heatmap-legend-title {\n    font-weight: 600;\n}\n\n.heatmap-legend-scale {\n    display: flex;\n    gap: 12px;\n    flex-wrap: wrap;\n}\n\n.heatmap-legend-step {\n    display: flex;\n    align-items: center;\n    gap: 6px;\n}\n\n.heatmap-legend-swatch {\n    width: 14px;\n    height: 14px;\n    border-radius: 4px;\n    border: 1px solid var(--am-border);\n}\n\n.heatmap-node {\n    font-size: 11px;\n}\n\n.edge-details {\n    position: absolute;\n    right: 24px;\n    bottom: 24px;\n    background: var(--am-panel-bg);\n    border: 1px solid var(--am-border);\n    border-radius: 12px;\n    padding: 12px;\n    width: 260px;\n    box-shadow: 0 12px 30px rgba(0, 0, 0, 0.15);\n    font-size: 11px;\n    color: var(--am-fg);\n}\n\n.edge-details-header {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    margin-bottom: 8px;\n    font-weight: 600;\n}\n\n.edge-details-header button {\n    background: transparent;\n    border: none;\n    color: var(--am-fg);\n    cursor: pointer;\n    font-size: 14px;\n}\n\n.boundary-diagram-node {\n    background: var(--am-bg);\n    border: 2px solid var(--am-border);\n    border-radius: 12px;\n    padding: 10px;\n    font-size: 11px;\n    color: var(--am-fg);\n    width: 100%;\n    height: 100%;\n}\n\n.boundary-node-header {\n    display: flex;\n    justify-content: space-between;\n    font-weight: 600;\n    margin-bottom: 4px;\n}\n\n.boundary-node-path {\n    font-size: 10px;\n    color: var(--am-desc);\n    word-break: break-word;\n}\n\n.boundary-node-meta {\n    font-size: 10px;\n    color: var(--am-desc);\n    margin-top: 6px;\n}\n\n.boundary-layer-pill {\n    padding: 2px 6px;\n    border-radius: 999px;\n    background: var(--am-panel-bg);\n    border: 1px solid var(--am-border);\n    font-size: 9px;\n    text-transform: uppercase;\n}\n\n.boundary-file-dot {\n    width: 6px;\n    height: 6px;\n    border-radius: 50%;\n    background: var(--am-accent);\n    opacity: 0.7;\n}\n\n.boundary-view {\n    padding: 16px;\n    height: 100%;\n    overflow: auto;\n}\n\n.boundary-header {\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n    gap: 12px;\n    margin-bottom: 12px;\n}\n\n.boundary-title {\n    margin: 0;\n    font-size: 16px;\n}\n\n.boundary-subtitle {\n    margin: 4px 0 0;\n    font-size: 12px;\n    color: var(--am-desc);\n}\n\n.boundary-actions {\n    display: flex;\n    align-items: center;\n    gap: 8px;\n}\n\n.boundary-refresh {\n    padding: 6px 12px;\n    border-radius: 6px;\n    border: 1px solid var(--am-border);\n    background: var(--am-btn-secondary-bg);\n    color: var(--am-btn-secondary-fg);\n    cursor: pointer;\n}\n\n.boundary-refresh:disabled {\n    opacity: 0.6;\n    cursor: not-allowed;\n}\n\n.boundary-state {\n    margin: 12px 0;\n    padding: 12px;\n    border-radius: 8px;\n    background: var(--am-panel-bg);\n    color: var(--am-desc);\n}\n\n.boundary-error {\n    background: rgba(211, 47, 47, 0.12);\n    color: var(--am-error);\n}\n\n.boundary-summary {\n    display: flex;\n    gap: 8px;\n    margin-bottom: 16px;\n    flex-wrap: wrap;\n}\n\n.boundary-pill {\n    padding: 4px 10px;\n    border-radius: 999px;\n    background: var(--am-badge-bg);\n    color: var(--am-badge-fg);\n    font-size: 11px;\n}\n\n.boundary-pill.muted {\n    background: var(--am-panel-bg);\n    color: var(--am-desc);\n}\n\n.boundary-grid {\n    display: grid;\n    grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));\n    gap: 16px;\n}\n\n.boundary-column {\n    background: var(--am-panel-bg);\n    border: 1px solid var(--am-border);\n    border-radius: 12px;\n    padding: 12px;\n    min-height: 200px;\n}\n\n.boundary-column-header h3 {\n    margin: 0;\n    font-size: 14px;\n}\n\n.boundary-column-header p {\n    margin: 4px 0 12px;\n    font-size: 11px;\n    color: var(--am-desc);\n}\n\n.boundary-cards {\n    display: flex;\n    flex-direction: column;\n    gap: 10px;\n}\n\n.boundary-card {\n    border: 1px solid var(--am-border);\n    border-radius: 10px;\n    padding: 10px;\n    background: var(--am-bg);\n}\n\n.boundary-card-header {\n    display: flex;\n    justify-content: space-between;\n    gap: 8px;\n    align-items: flex-start;\n}\n\n.boundary-name {\n    font-weight: 600;\n    font-size: 13px;\n}\n\n.boundary-path {\n    font-size: 11px;\n    color: var(--am-desc);\n    word-break: break-word;\n}\n\n.boundary-card-meta {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    margin-top: 8px;\n    font-size: 11px;\n    color: var(--am-desc);\n}\n\n.boundary-toggle {\n    border: none;\n    background: transparent;\n    color: var(--am-link);\n    cursor: pointer;\n    font-size: 11px;\n}\n\n.boundary-files {\n    margin: 8px 0 0;\n    padding-left: 16px;\n    font-size: 11px;\n    color: var(--am-desc);\n}\n\n.boundary-more {\n    color: var(--am-desc);\n    font-style: italic;\n}\n\n.layer-pill {\n    padding: 2px 8px;\n    border-radius: 999px;\n    font-size: 10px;\n    text-transform: uppercase;\n    letter-spacing: 0.4px;\n}\n\n.layer-presentation {\n    background: rgba(79, 195, 247, 0.2);\n    color: #0277bd;\n}\n\n.layer-business {\n    background: rgba(255, 167, 38, 0.2);\n    color: #ef6c00;\n}\n\n.layer-data {\n    background: rgba(76, 175, 80, 0.2);\n    color: #2e7d32;\n}\n\n.layer-infra {\n    background: rgba(156, 39, 176, 0.2);\n    color: #6a1b9a;\n}\n\n.layer-unknown {\n    background: rgba(120, 144, 156, 0.2);\n    color: #455a64;\n}\n\n.header-actions {\n    display: flex;\n    align-items: center;\n    gap: 8px;\n    margin-right: 8px;\n}\n\n/* Cluster Controls */\n.cluster-controls {\n    position: absolute;\n    bottom: 10px;\n    left: 10px;\n    display: flex;\n    align-items: center;\n    gap: 6px;\n    background: var(--am-panel-bg);\n    color: var(--am-panel-fg);\n    border: 1px solid var(--am-border);\n    border-radius: 6px;\n    padding: 4px 10px;\n    z-index: 10;\n    font-size: 12px;\n}\n\n.cluster-label {\n    opacity: 0.8;\n}\n\n.cluster-btn {\n    background: none;\n    border: 1px solid var(--am-border);\n    color: var(--am-fg);\n    border-radius: 3px;\n    padding: 2px 6px;\n    cursor: pointer;\n    font-size: 12px;\n}\n\n.cluster-btn:hover {\n    background: var(--am-hover);\n}\n\n.app-main {\n    flex: 1;\n    position: relative;\n    overflow: hidden;\n    background: var(--am-bg);\n    color: var(--am-fg);\n}\n\n/* Loading state */\n.loading-container {\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    justify-content: center;\n    height: 100%;\n    gap: 16px;\n    color: var(--am-fg);\n}\n\n.loading-spinner {\n    width: 32px;\n    height: 32px;\n    border: 3px solid var(--am-border);\n    border-top-color: var(--am-accent);\n    border-radius: 50%;\n    animation: spin 1s linear infinite;\n}\n\n@keyframes spin {\n    to {\n        transform: rotate(360deg);\n    }\n}\n\n/* Error state */\n.error-container {\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    justify-content: center;\n    height: 100%;\n    gap: 16px;\n    color: var(--am-fg);\n    background: var(--am-bg);\n    padding: 20px;\n    text-align: center;\n}\n\n.error-icon {\n    font-size: 48px;\n}\n\n.error-container h3 {\n    margin: 0;\n    font-size: 18px;\n    color: var(--am-error);\n}\n\n.error-message {\n    margin: 0;\n    font-size: 14px;\n    opacity: 0.8;\n    max-width: 400px;\n    line-height: 1.5;\n}\n\n.error-actions {\n    display: flex;\n    gap: 12px;\n    margin-top: 8px;\n}\n\n.retry-button,\n.backend-button {\n    padding: 8px 16px;\n    border-radius: 4px;\n    font-size: 13px;\n    cursor: pointer;\n    border: none;\n    transition: background-color 0.2s;\n}\n\n.retry-button {\n    background-color: var(--am-btn-secondary-bg);\n    color: var(--am-btn-secondary-fg);\n}\n\n.retry-button:hover {\n    background-color: var(--am-btn-secondary-hover);\n}\n\n.backend-button {\n    background-color: var(--am-btn-bg);\n    color: var(--am-btn-fg);\n}\n\n.backend-button:hover {\n    background-color: var(--am-btn-hover);\n}\n\n/* Stats panel */\n.stats-panel {\n    position: absolute;\n    top: 10px;\n    left: 10px;\n    z-index: 10;\n    background-color: var(--am-panel-bg);\n    color: var(--am-panel-fg);\n    border: 1px solid var(--am-border);\n    border-radius: 6px;\n    padding: 12px;\n    font-size: 12px;\n    min-width: 150px;\n    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);\n}\n\n.source-badge {\n    display: inline-block;\n    padding: 3px 8px;\n    border-radius: 4px;\n    font-size: 10px;\n    font-weight: 600;\n    color: white;\n    margin-bottom: 10px;\n}\n\n.stat-item {\n    display: flex;\n    justify-content: space-between;\n    margin-bottom: 6px;\n}\n\n.stat-label {\n    opacity: 0.8;\n}\n\n.stat-value {\n    font-weight: 600;\n}\n\n.stat-languages {\n    display: flex;\n    flex-wrap: wrap;\n    gap: 4px;\n    margin-top: 8px;\n    padding-top: 8px;\n    border-top: 1px solid var(--am-border);\n}\n\n.language-badge {\n    padding: 2px 6px;\n    border-radius: 3px;\n    font-size: 10px;\n    color: white;\n    font-weight: 500;\n}\n\n/* ReactFlow node styles */\n.react-flow__node {\n    background: var(--am-panel-bg);\n    color: var(--am-panel-fg);\n    border: 1px solid var(--am-border);\n    border-radius: 4px;\n    padding: 8px 12px;\n    font-size: 12px;\n    font-family: var(--vscode-font-family, \'Segoe UI\', Arial, sans-serif);\n    transition: box-shadow 0.15s ease, transform 0.15s ease;\n}\n\n.react-flow__node:hover {\n    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);\n    transform: translateY(-1px);\n}\n\n.react-flow__node.selected {\n    box-shadow: 0 0 0 2px var(--am-accent);\n}\n\n/* ReactFlow edge styles */\n.react-flow__edge-path {\n    stroke: var(--am-fg);\n    stroke-width: 1;\n}\n\n.react-flow__edge:hover .react-flow__edge-path {\n    stroke-width: 2;\n}\n\n/* ReactFlow controls */\n.react-flow__controls {\n    background-color: var(--am-panel-bg);\n    color: var(--am-panel-fg);\n    border: 1px solid var(--am-border);\n    border-radius: 6px;\n    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);\n}\n\n.react-flow__controls-button {\n    background-color: transparent;\n    border: none;\n    color: var(--am-fg);\n}\n\n.react-flow__controls-button:hover {\n    background-color: var(--am-hover);\n}\n\n.react-flow__controls-button svg {\n    fill: var(--am-fg);\n}\n\n/* Enhanced ReactFlow minimap (Issue #19) */\n.react-flow__minimap {\n    background-color: var(--am-panel-bg);\n    border: 1px solid var(--am-border);\n    border-radius: 6px;\n    box-shadow: 0 2px 12px rgba(0, 0, 0, 0.25);\n}\n\n/* Mini-map node colors by type */\n.minimap-node-file {\n    fill: #3498db !important;\n}\n\n.minimap-node-directory {\n    fill: #9b59b6 !important;\n}\n\n.minimap-node-function {\n    fill: #2ecc71 !important;\n}\n\n.minimap-node-class {\n    fill: #e67e22 !important;\n}\n\n.minimap-node-module {\n    fill: #1abc9c !important;\n}\n\n/* Selected node in minimap */\n.minimap-node-selected {\n    fill: #f39c12 !important;\n    stroke: #f39c12 !important;\n    stroke-width: 3px !important;\n    filter: drop-shadow(0 0 4px #f39c12);\n}\n\n/* Hovered node in minimap */\n.minimap-node-hovered {\n    fill: #e74c3c !important;\n    stroke: #e74c3c !important;\n    stroke-width: 2px !important;\n}\n\n/* Minimap mask (viewport indicator) */\n.react-flow__minimap-mask {\n    fill: rgba(0, 150, 255, 0.1);\n    stroke: var(--am-accent);\n    stroke-width: 2px;\n}\n\n/* Dark theme minimap adjustments */\n[data-theme="dark"] .react-flow__minimap {\n    background-color: rgba(30, 30, 30, 0.95);\n    border-color: rgba(255, 255, 255, 0.1);\n}\n\n[data-theme="dark"] .react-flow__minimap-mask {\n    fill: rgba(100, 150, 255, 0.15);\n}\n\n/* Search Panel Styles */\n.search-panel {\n    position: absolute;\n    top: 10px;\n    right: 10px;\n    z-index: 20;\n    background-color: var(--am-panel-bg);\n    color: var(--am-panel-fg);\n    border: 1px solid var(--am-border);\n    border-radius: 8px;\n    padding: 16px;\n    font-size: 12px;\n    min-width: 280px;\n    max-width: 320px;\n    box-shadow: 0 4px 16px rgba(0, 0, 0, 0.3);\n}\n\n.search-header {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    margin-bottom: 12px;\n    padding-bottom: 8px;\n    border-bottom: 1px solid var(--am-border);\n}\n\n.search-title {\n    font-weight: 600;\n    font-size: 13px;\n}\n\n.search-close {\n    background: none;\n    border: none;\n    color: var(--am-fg);\n    font-size: 18px;\n    cursor: pointer;\n    padding: 2px 6px;\n    border-radius: 4px;\n    opacity: 0.7;\n}\n\n.search-close:hover {\n    background-color: var(--am-hover);\n    opacity: 1;\n}\n\n.search-field {\n    margin-bottom: 12px;\n}\n\n.search-field label {\n    display: block;\n    margin-bottom: 4px;\n    font-size: 11px;\n    opacity: 0.8;\n}\n\n.search-input {\n    width: 100%;\n    padding: 6px 10px;\n    border: 1px solid var(--am-input-border);\n    border-radius: 4px;\n    background-color: var(--am-input-bg);\n    color: var(--am-input-fg);\n    font-size: 12px;\n    outline: none;\n}\n\n.search-input:focus {\n    border-color: var(--am-accent);\n}\n\n.search-input::placeholder {\n    color: var(--am-input-placeholder);\n}\n\n.search-select {\n    width: 100%;\n    padding: 6px 10px;\n    border: 1px solid var(--am-input-border);\n    border-radius: 4px;\n    background-color: var(--am-input-bg);\n    color: var(--am-input-fg);\n    font-size: 12px;\n    outline: none;\n    cursor: pointer;\n}\n\n.search-select:focus {\n    border-color: var(--am-accent);\n}\n\n.search-results {\n    padding: 8px 0;\n    border-top: 1px solid var(--am-border);\n    margin-top: 8px;\n}\n\n.result-count {\n    font-size: 11px;\n    opacity: 0.9;\n}\n\n.result-count strong {\n    color: var(--am-link);\n}\n\n.search-actions {\n    display: flex;\n    gap: 8px;\n    margin-top: 12px;\n}\n\n.search-btn {\n    flex: 1;\n    padding: 6px 12px;\n    border: none;\n    border-radius: 4px;\n    background-color: var(--am-btn-bg);\n    color: var(--am-btn-fg);\n    font-size: 11px;\n    cursor: pointer;\n    transition: background-color 0.15s;\n}\n\n.search-btn:hover:not(:disabled) {\n    background-color: var(--am-btn-hover);\n}\n\n.search-btn:disabled {\n    opacity: 0.5;\n    cursor: not-allowed;\n}\n\n.search-btn.secondary {\n    background-color: var(--am-btn-secondary-bg);\n    color: var(--am-btn-secondary-fg);\n}\n\n.search-btn.secondary:hover:not(:disabled) {\n    background-color: var(--am-btn-secondary-hover);\n}\n\n.search-hint {\n    margin-top: 12px;\n    padding-top: 8px;\n    border-top: 1px solid var(--am-border);\n    font-size: 10px;\n    opacity: 0.6;\n    text-align: center;\n}\n\n.search-hint kbd {\n    background-color: var(--am-kbd-bg);\n    border: 1px solid var(--am-kbd-border);\n    border-radius: 3px;\n    padding: 1px 4px;\n    font-size: 10px;\n    font-family: inherit;\n}\n\n/* Search Toggle Button */\n.search-toggle-btn {\n    position: absolute;\n    top: 10px;\n    right: 10px;\n    z-index: 15;\n    width: 36px;\n    height: 36px;\n    border: 1px solid var(--am-border);\n    border-radius: 6px;\n    background-color: var(--am-panel-bg);\n    color: var(--am-panel-fg);\n    font-size: 16px;\n    cursor: pointer;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);\n    transition: all 0.15s;\n}\n\n.search-toggle-btn:hover {\n    background-color: var(--am-hover);\n    transform: scale(1.05);\n}\n\n/* Node Tooltip Styles */\n.node-tooltip {\n    position: fixed;\n    z-index: 1000;\n    background-color: var(--am-panel-bg);\n    color: var(--am-panel-fg);\n    border: 1px solid var(--am-border);\n    border-radius: 6px;\n    padding: 10px 12px;\n    font-size: 11px;\n    max-width: 350px;\n    box-shadow: 0 4px 16px rgba(0, 0, 0, 0.4);\n    pointer-events: none;\n}\n\n.tooltip-header {\n    display: flex;\n    align-items: center;\n    gap: 6px;\n    margin-bottom: 8px;\n    padding-bottom: 6px;\n    border-bottom: 1px solid var(--am-border);\n}\n\n.tooltip-icon {\n    font-size: 14px;\n}\n\n.tooltip-label {\n    font-weight: 600;\n    font-size: 12px;\n    color: var(--am-fg);\n}\n\n.tooltip-details {\n    display: flex;\n    flex-direction: column;\n    gap: 4px;\n}\n\n.tooltip-row {\n    display: flex;\n    gap: 8px;\n}\n\n.tooltip-key {\n    color: var(--am-desc);\n    min-width: 60px;\n}\n\n.tooltip-value {\n    color: var(--am-fg);\n    word-break: break-all;\n}\n\n.tooltip-hint {\n    margin-top: 8px;\n    padding-top: 6px;\n    border-top: 1px solid var(--am-border);\n    font-size: 10px;\n    opacity: 0.6;\n    text-align: center;\n}\n\n/* Context Menu Styles */\n.context-menu {\n    position: fixed;\n    z-index: 1001;\n    background-color: var(--am-panel-bg);\n    color: var(--am-panel-fg);\n    border: 1px solid var(--am-border);\n    border-radius: 6px;\n    padding: 4px 0;\n    min-width: 180px;\n    box-shadow: 0 4px 16px rgba(0, 0, 0, 0.4);\n}\n\n.context-menu-header {\n    padding: 6px 12px;\n    font-size: 11px;\n    font-weight: 600;\n    color: var(--am-fg);\n    opacity: 0.8;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n}\n\n.context-menu-divider {\n    height: 1px;\n    background-color: var(--am-border);\n    margin: 4px 0;\n}\n\n.context-menu-item {\n    display: flex;\n    align-items: center;\n    gap: 8px;\n    width: 100%;\n    padding: 6px 12px;\n    border: none;\n    background: none;\n    color: var(--am-fg);\n    font-size: 12px;\n    text-align: left;\n    cursor: pointer;\n    transition: background-color 0.1s;\n}\n\n.context-menu-item:hover {\n    background-color: var(--am-hover);\n    color: var(--am-fg);\n}\n\n/* Node highlighting states */\n.react-flow__node.matching-node {\n    transition: all 0.2s ease;\n}\n\n.react-flow__node.dimmed-node {\n    transition: all 0.2s ease;\n}\n\n.react-flow__node.selected {\n    box-shadow: 0 0 0 3px var(--am-accent) !important;\n}\n\n/* Layout Panel Styles */\n.layout-panel {\n    position: absolute;\n    top: 10px;\n    right: 105px;\n    z-index: 20;\n    background-color: var(--am-panel-bg);\n    color: var(--am-panel-fg);\n    border: 1px solid var(--am-border);\n    border-radius: 8px;\n    padding: 16px;\n    font-size: 12px;\n    min-width: 240px;\n    max-width: 280px;\n    box-shadow: 0 4px 16px rgba(0, 0, 0, 0.3);\n}\n\n.layout-header {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    margin-bottom: 12px;\n    padding-bottom: 8px;\n    border-bottom: 1px solid var(--am-border);\n}\n\n.layout-title {\n    font-weight: 600;\n    font-size: 13px;\n}\n\n.layout-close {\n    background: none;\n    border: none;\n    color: var(--am-fg);\n    font-size: 18px;\n    cursor: pointer;\n    padding: 2px 6px;\n    border-radius: 4px;\n    opacity: 0.7;\n}\n\n.layout-close:hover {\n    background-color: var(--am-hover);\n    opacity: 1;\n}\n\n.layout-options {\n    display: flex;\n    flex-direction: column;\n    gap: 4px;\n}\n\n.layout-option {\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n    width: 100%;\n    padding: 8px 12px;\n    border: 1px solid transparent;\n    border-radius: 6px;\n    background-color: transparent;\n    color: var(--am-fg);\n    font-size: 12px;\n    text-align: left;\n    cursor: pointer;\n    transition: all 0.15s;\n}\n\n.layout-option:hover:not(:disabled) {\n    background-color: var(--am-hover);\n    border-color: var(--am-border);\n}\n\n.layout-option.active {\n    background-color: var(--am-selection-bg);\n    color: var(--am-selection-fg);\n    border-color: var(--am-accent);\n}\n\n.layout-option:disabled {\n    opacity: 0.5;\n    cursor: not-allowed;\n}\n\n.layout-option-label {\n    display: flex;\n    align-items: center;\n    gap: 6px;\n}\n\n.layout-check {\n    font-size: 14px;\n    color: var(--am-chart-green);\n}\n\n.layout-loading {\n    display: flex;\n    align-items: center;\n    gap: 8px;\n    padding: 10px 0;\n    margin-top: 8px;\n    border-top: 1px solid var(--am-border);\n    font-size: 11px;\n    color: var(--am-desc);\n}\n\n.loading-spinner-small {\n    width: 16px;\n    height: 16px;\n    border: 2px solid var(--am-border);\n    border-top-color: var(--am-accent);\n    border-radius: 50%;\n    animation: spin 1s linear infinite;\n}\n\n.layout-hint {\n    margin-top: 12px;\n    padding-top: 8px;\n    border-top: 1px solid var(--am-border);\n    font-size: 10px;\n    opacity: 0.6;\n    text-align: center;\n}\n\n.layout-hint kbd {\n    background-color: var(--am-kbd-bg);\n    border: 1px solid var(--am-kbd-border);\n    border-radius: 3px;\n    padding: 1px 4px;\n    font-size: 10px;\n    font-family: inherit;\n}\n\n/* Layout Toggle Button */\n.layout-toggle-btn {\n    position: absolute;\n    top: 10px;\n    right: 105px;\n    z-index: 15;\n    width: 36px;\n    height: 36px;\n    border: 1px solid var(--am-border);\n    border-radius: 6px;\n    background-color: var(--am-panel-bg);\n    color: var(--am-panel-fg);\n    font-size: 16px;\n    cursor: pointer;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);\n    transition: all 0.15s;\n}\n\n.layout-toggle-btn:hover {\n    background-color: var(--am-hover);\n    transform: scale(1.05);\n}\n\n/* Export Toggle Button */\n.export-toggle-btn {\n    position: absolute;\n    top: 10px;\n    right: 150px;\n    z-index: 15;\n    width: 36px;\n    height: 36px;\n    border: 1px solid var(--am-border);\n    border-radius: 6px;\n    background-color: var(--am-panel-bg);\n    color: var(--am-panel-fg);\n    font-size: 16px;\n    cursor: pointer;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);\n    transition: all 0.15s;\n}\n\n.export-toggle-btn:hover {\n    background-color: var(--am-hover);\n    transform: scale(1.05);\n}\n\n/* Fullscreen Toggle Button */\n.fullscreen-toggle-btn {\n    position: absolute;\n    top: 10px;\n    right: 55px;\n    z-index: 15;\n    width: 36px;\n    height: 36px;\n    border: 1px solid var(--am-border);\n    border-radius: 6px;\n    background-color: var(--am-panel-bg);\n    color: var(--am-panel-fg);\n    font-size: 18px;\n    cursor: pointer;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);\n    transition: all 0.15s;\n}\n\n.fullscreen-toggle-btn:hover {\n    background-color: var(--am-hover);\n    transform: scale(1.05);\n}\n\n/* Fullscreen Graph Styles */\n.fullscreen-graph {\n    position: fixed !important;\n    top: 0 !important;\n    left: 0 !important;\n    right: 0 !important;\n    bottom: 0 !important;\n    width: 100vw !important;\n    height: 100vh !important;\n    z-index: 99999 !important;\n    background: var(--am-bg);\n    margin: 0 !important;\n    padding: 0 !important;\n    overflow: hidden !important;\n}\n\n.fullscreen-graph .react-flow {\n    width: 100% !important;\n    height: 100% !important;\n}\n\n.fullscreen-graph .react-flow__viewport {\n    width: 100% !important;\n    height: 100% !important;\n}\n\n/* Make all parent containers allow fullscreen */\nbody:has(.fullscreen-graph),\nhtml:has(.fullscreen-graph),\n.app-container:has(.fullscreen-graph) {\n    overflow: hidden !important;\n}\n\n/* Hide header in fullscreen mode */\n.app-container:has(.fullscreen-graph) .app-header {\n    display: none !important;\n}\n\n/* Adjust stats display visibility in fullscreen */\n.fullscreen-graph .stats-display {\n    opacity: 0.85;\n    background: rgba(var(--am-panel-bg-rgb, 249, 249, 250), 0.95);\n}\n\n.fullscreen-graph .stats-display:hover {\n    opacity: 1;\n}\n\n/* Ensure all controls are accessible in fullscreen */\n.fullscreen-graph .search-toggle-btn,\n.fullscreen-graph .layout-toggle-btn,\n.fullscreen-graph .export-toggle-btn,\n.fullscreen-graph .fullscreen-toggle-btn,\n.fullscreen-graph .search-panel,\n.fullscreen-graph .layout-panel,\n.fullscreen-graph .export-menu {\n    z-index: 100000 !important;\n}\n\n/* Cluster Node Styles (Issue #11) */\n.cluster-node {\n    background: var(--am-panel-bg);\n    color: var(--am-panel-fg);\n    border: 2px dashed var(--am-border);\n    border-radius: 8px;\n    padding: 12px;\n    min-width: 200px;\n    max-width: 300px;\n    box-shadow: 0 2px 12px rgba(0, 0, 0, 0.25);\n}\n\n.cluster-header {\n    display: flex;\n    align-items: center;\n    gap: 8px;\n    margin-bottom: 10px;\n    padding-bottom: 8px;\n    border-bottom: 1px solid var(--am-border);\n}\n\n.cluster-icon {\n    font-size: 18px;\n}\n\n.cluster-title {\n    font-weight: 600;\n    font-size: 13px;\n    color: var(--am-fg);\n}\n\n.cluster-metrics {\n    display: flex;\n    flex-direction: column;\n    gap: 4px;\n    margin-bottom: 10px;\n    font-size: 11px;\n}\n\n.metric {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n}\n\n.metric-label {\n    opacity: 0.7;\n}\n\n.metric-value {\n    font-weight: 600;\n    color: var(--am-link);\n}\n\n.cluster-expand-button {\n    width: 100%;\n    padding: 6px 12px;\n    border: 1px solid var(--am-border);\n    border-radius: 4px;\n    background-color: var(--am-btn-bg);\n    color: var(--am-btn-fg);\n    font-size: 11px;\n    font-weight: 500;\n    cursor: pointer;\n    transition: all 0.15s;\n}\n\n.cluster-expand-button:hover {\n    background-color: var(--am-btn-hover);\n    transform: translateY(-1px);\n    box-shadow: 0 2px 6px rgba(0, 0, 0, 0.2);\n}\n\n.cluster-expand-button:active {\n    transform: translateY(0);\n}\n\n/* Cluster controls in stats panel */\n.cluster-controls {\n    margin-top: 12px;\n    padding-top: 12px;\n    border-top: 1px solid var(--am-border);\n}\n\n.cluster-controls-title {\n    font-size: 11px;\n    font-weight: 600;\n    margin-bottom: 8px;\n    opacity: 0.8;\n}\n\n.cluster-buttons {\n    display: flex;\n    gap: 6px;\n}\n\n.cluster-btn {\n    flex: 1;\n    padding: 4px 8px;\n    border: 1px solid var(--am-border);\n    border-radius: 4px;\n    background-color: var(--am-btn-secondary-bg);\n    color: var(--am-btn-secondary-fg);\n    font-size: 10px;\n    cursor: pointer;\n    transition: background-color 0.15s;\n}\n\n.cluster-btn:hover {\n    background-color: var(--am-btn-secondary-hover);\n}\n\n.cluster-info {\n    margin-top: 8px;\n    padding: 6px;\n    background-color: var(--am-blockquote-bg);\n    border-left: 3px solid var(--am-link);\n    border-radius: 3px;\n    font-size: 10px;\n    line-height: 1.4;\n}\n\n/* Enhanced Search Bar Styles (Issue #23) */\n.search-bar-container {\n    position: absolute;\n    top: 60px;\n    right: 10px;\n    z-index: 30;\n    background-color: var(--am-panel-bg);\n    border: 1px solid var(--am-border);\n    border-radius: 8px;\n    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);\n    min-width: 400px;\n    max-width: 500px;\n    max-height: 600px;\n    display: flex;\n    flex-direction: column;\n}\n\n.search-bar-header {\n    padding: 12px;\n    border-bottom: 1px solid var(--am-border);\n}\n\n.search-input-wrapper {\n    display: flex;\n    align-items: center;\n    gap: 8px;\n    background-color: var(--am-input-bg);\n    border: 1px solid var(--am-input-border);\n    border-radius: 6px;\n    padding: 8px 12px;\n}\n\n.search-input-wrapper:focus-within {\n    border-color: var(--am-accent);\n}\n\n.search-icon {\n    font-size: 16px;\n    opacity: 0.6;\n}\n\n.search-bar-input {\n    flex: 1;\n    background: none;\n    border: none;\n    outline: none;\n    color: var(--am-input-fg);\n    font-size: 13px;\n    font-family: var(--vscode-font-family);\n}\n\n.search-bar-input::placeholder {\n    color: var(--am-input-placeholder);\n}\n\n.search-clear-btn,\n.search-close-btn {\n    background: none;\n    border: none;\n    color: var(--am-icon);\n    font-size: 14px;\n    cursor: pointer;\n    padding: 2px 6px;\n    border-radius: 3px;\n    opacity: 0.6;\n    transition: all 0.15s;\n}\n\n.search-clear-btn:hover,\n.search-close-btn:hover {\n    background-color: var(--am-hover);\n    opacity: 1;\n}\n\n.search-bar-stats {\n    margin-top: 8px;\n    font-size: 11px;\n    color: var(--am-desc);\n}\n\n.result-count {\n    font-weight: 500;\n}\n\n/* Search Results */\n.search-results-container {\n    max-height: 400px;\n    overflow-y: auto;\n    overflow-x: hidden;\n}\n\n.search-result-item {\n    display: flex;\n    align-items: flex-start;\n    gap: 10px;\n    padding: 10px 12px;\n    border-bottom: 1px solid var(--am-border);\n    cursor: pointer;\n    transition: background-color 0.15s;\n}\n\n.search-result-item:hover {\n    background-color: var(--am-hover);\n}\n\n.search-result-item.selected {\n    background-color: var(--am-selection-bg);\n    color: var(--am-selection-fg);\n}\n\n.result-icon {\n    font-size: 16px;\n    margin-top: 2px;\n}\n\n.result-content {\n    flex: 1;\n    min-width: 0;\n}\n\n.result-label {\n    font-size: 13px;\n    font-weight: 500;\n    margin-bottom: 4px;\n    word-break: break-word;\n}\n\n.result-path {\n    font-size: 11px;\n    color: var(--am-desc);\n    margin-bottom: 4px;\n    word-break: break-all;\n}\n\n.result-meta {\n    display: flex;\n    align-items: center;\n    gap: 6px;\n    font-size: 10px;\n    color: var(--am-desc);\n}\n\n.result-type {\n    text-transform: capitalize;\n    padding: 2px 6px;\n    background-color: var(--am-badge-bg);\n    color: var(--am-badge-fg);\n    border-radius: 3px;\n}\n\n.result-language {\n    opacity: 0.8;\n}\n\n.result-score {\n    opacity: 0.7;\n}\n\n.meta-separator {\n    opacity: 0.5;\n}\n\n.result-indicator {\n    font-size: 12px;\n    color: var(--am-selection-fg);\n    margin-top: 4px;\n}\n\n/* Search Highlighting */\n.search-highlight {\n    background-color: var(--am-highlight-bg);\n    color: var(--am-fg);\n    padding: 1px 2px;\n    border-radius: 2px;\n    font-weight: 600;\n}\n\n.search-result-item.selected .search-highlight {\n    background-color: var(--am-find-match-bg);\n}\n\n/* No Results */\n.search-no-results {\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    justify-content: center;\n    padding: 40px 20px;\n    color: var(--am-desc);\n    text-align: center;\n    gap: 12px;\n}\n\n.no-results-icon {\n    font-size: 36px;\n    opacity: 0.5;\n}\n\n.no-results-text {\n    font-size: 13px;\n}\n\n/* Search Hints */\n.search-bar-hints {\n    display: flex;\n    justify-content: center;\n    gap: 16px;\n    padding: 8px 12px;\n    border-top: 1px solid var(--am-border);\n    font-size: 10px;\n    color: var(--am-desc);\n}\n\n.hint {\n    display: flex;\n    align-items: center;\n    gap: 4px;\n}\n\n.hint kbd {\n    background-color: var(--am-kbd-bg);\n    border: 1px solid var(--am-kbd-border);\n    border-radius: 3px;\n    padding: 2px 6px;\n    font-size: 9px;\n    font-family: inherit;\n}\n\n/* Zoom Controls Styles (Issue #20) */\n.zoom-controls {\n    position: absolute;\n    z-index: 25;\n    display: flex;\n    flex-direction: column;\n    gap: 8px;\n}\n\n.zoom-controls-bottom-right {\n    bottom: 60px;\n    right: 10px;\n}\n\n.zoom-controls-bottom-left {\n    bottom: 60px;\n    left: 10px;\n}\n\n.zoom-controls-top-right {\n    top: 60px;\n    right: 10px;\n}\n\n.zoom-controls-top-left {\n    top: 60px;\n    left: 10px;\n}\n\n.zoom-level-indicator {\n    display: flex;\n    align-items: center;\n    gap: 6px;\n    padding: 8px 12px;\n    background-color: var(--am-panel-bg);\n    border: 1px solid var(--am-border);\n    border-radius: 6px;\n    cursor: pointer;\n    transition: all 0.15s;\n    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);\n}\n\n.zoom-level-indicator:hover {\n    background-color: var(--am-hover);\n    transform: translateY(-1px);\n    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);\n}\n\n.zoom-icon {\n    font-size: 14px;\n}\n\n.zoom-value {\n    font-size: 13px;\n    font-weight: 600;\n    min-width: 45px;\n    text-align: center;\n}\n\n.zoom-dropdown-icon {\n    font-size: 10px;\n    opacity: 0.6;\n}\n\n.zoom-presets-dropdown {\n    display: flex;\n    flex-direction: column;\n    gap: 2px;\n    padding: 4px;\n    background-color: var(--am-panel-bg);\n    border: 1px solid var(--am-border);\n    border-radius: 6px;\n    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);\n}\n\n.zoom-preset-btn {\n    display: flex;\n    align-items: center;\n    gap: 8px;\n    padding: 6px 12px;\n    background: none;\n    border: none;\n    border-radius: 4px;\n    color: var(--am-fg);\n    font-size: 12px;\n    cursor: pointer;\n    transition: background-color 0.15s;\n    text-align: left;\n}\n\n.zoom-preset-btn:hover {\n    background-color: var(--am-hover);\n}\n\n.preset-icon {\n    font-size: 14px;\n    width: 20px;\n}\n\n.preset-label {\n    flex: 1;\n}\n\n.zoom-quick-controls {\n    display: flex;\n    gap: 4px;\n    background-color: var(--am-panel-bg);\n    border: 1px solid var(--am-border);\n    border-radius: 6px;\n    padding: 4px;\n    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);\n}\n\n.zoom-btn {\n    width: 32px;\n    height: 32px;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    background: none;\n    border: none;\n    border-radius: 4px;\n    color: var(--am-fg);\n    font-size: 16px;\n    font-weight: 600;\n    cursor: pointer;\n    transition: all 0.15s;\n}\n\n.zoom-btn:hover:not(:disabled) {\n    background-color: var(--am-hover);\n    transform: scale(1.1);\n}\n\n.zoom-btn:disabled {\n    opacity: 0.3;\n    cursor: not-allowed;\n}\n\n.zoom-shortcuts-hint {\n    padding: 8px 12px;\n    background-color: var(--am-panel-bg);\n    border: 1px solid var(--am-border);\n    border-radius: 6px;\n    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);\n    font-size: 10px;\n    color: var(--am-desc);\n    display: flex;\n    flex-direction: column;\n    gap: 4px;\n}\n\n.shortcut-line {\n    display: flex;\n    align-items: center;\n    gap: 4px;\n}\n\n.zoom-shortcuts-hint kbd {\n    background-color: var(--am-kbd-bg);\n    border: 1px solid var(--am-kbd-border);\n    border-radius: 3px;\n    padding: 1px 4px;\n    font-size: 9px;\n    font-family: inherit;\n}\n\n/* Impact Analysis Styles (Issue #15) */\n.impact-analysis-panel {\n    position: absolute;\n    top: 10px;\n    left: 10px;\n    z-index: 30;\n    background-color: var(--am-panel-bg);\n    border: 1px solid var(--am-border);\n    border-radius: 8px;\n    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);\n    min-width: 320px;\n    max-width: 400px;\n    max-height: 80vh;\n    display: flex;\n    flex-direction: column;\n}\n\n.impact-header {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    padding: 12px 16px;\n    border-bottom: 1px solid var(--am-border);\n}\n\n.impact-title {\n    display: flex;\n    align-items: center;\n    gap: 8px;\n    font-weight: 600;\n    font-size: 14px;\n}\n\n.impact-icon {\n    font-size: 18px;\n}\n\n.impact-close-btn {\n    background: none;\n    border: none;\n    color: var(--am-icon);\n    font-size: 16px;\n    cursor: pointer;\n    padding: 4px 8px;\n    border-radius: 4px;\n    opacity: 0.7;\n    transition: all 0.15s;\n}\n\n.impact-close-btn:hover {\n    background-color: var(--am-hover);\n    opacity: 1;\n}\n\n.impact-summary {\n    padding: 12px 16px;\n    background-color: var(--am-blockquote-bg);\n    border-bottom: 1px solid var(--am-border);\n}\n\n.impact-stat {\n    display: flex;\n    justify-content: space-between;\n    margin-bottom: 6px;\n    font-size: 12px;\n}\n\n.impact-stat:last-child {\n    margin-bottom: 0;\n}\n\n.stat-label {\n    color: var(--am-desc);\n}\n\n.stat-value {\n    font-weight: 600;\n    color: var(--am-link);\n}\n\n.impact-legend {\n    padding: 12px 16px;\n    border-bottom: 1px solid var(--am-border);\n}\n\n.legend-title {\n    font-size: 11px;\n    font-weight: 600;\n    margin-bottom: 8px;\n    opacity: 0.8;\n}\n\n.legend-items {\n    display: flex;\n    flex-direction: column;\n    gap: 6px;\n}\n\n.legend-item {\n    display: flex;\n    align-items: center;\n    gap: 8px;\n    font-size: 11px;\n}\n\n.legend-color {\n    width: 16px;\n    height: 16px;\n    border-radius: 3px;\n}\n\n.impact-levels {\n    flex: 1;\n    overflow-y: auto;\n    overflow-x: hidden;\n    padding: 8px 0;\n}\n\n.impact-level {\n    border-bottom: 1px solid var(--am-border);\n}\n\n.impact-level:last-child {\n    border-bottom: none;\n}\n\n.impact-level-header {\n    display: flex;\n    align-items: center;\n    gap: 12px;\n    padding: 10px 16px;\n    cursor: pointer;\n    transition: background-color 0.15s;\n}\n\n.impact-level-header:hover {\n    background-color: var(--am-hover);\n}\n\n.level-indicator {\n    width: 8px;\n    height: 8px;\n    border-radius: 50%;\n}\n\n.level-info {\n    flex: 1;\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n}\n\n.level-distance {\n    font-size: 12px;\n    font-weight: 600;\n}\n\n.level-count {\n    font-size: 11px;\n    color: var(--am-desc);\n}\n\n.level-toggle {\n    font-size: 10px;\n    opacity: 0.6;\n}\n\n.impact-level-nodes {\n    padding: 4px 16px 8px 36px;\n    display: flex;\n    flex-direction: column;\n    gap: 4px;\n}\n\n.impact-node-item {\n    display: flex;\n    align-items: center;\n    gap: 8px;\n    padding: 6px 10px;\n    background-color: var(--am-input-bg);\n    border: 1px solid var(--am-input-border);\n    border-radius: 4px;\n    font-size: 11px;\n    cursor: pointer;\n    transition: all 0.15s;\n}\n\n.impact-node-item:hover {\n    background-color: var(--am-hover);\n    border-color: var(--am-accent);\n}\n\n.node-type-badge {\n    font-size: 14px;\n    opacity: 0.7;\n}\n\n.node-id {\n    flex: 1;\n    word-break: break-all;\n}\n\n.impact-actions {\n    padding: 12px 16px;\n    border-top: 1px solid var(--am-border);\n    display: flex;\n    justify-content: flex-end;\n}\n\n.impact-btn {\n    padding: 6px 16px;\n    border: none;\n    border-radius: 4px;\n    background-color: var(--am-btn-bg);\n    color: var(--am-btn-fg);\n    font-size: 12px;\n    cursor: pointer;\n    transition: background-color 0.15s;\n}\n\n.impact-btn:hover {\n    background-color: var(--am-btn-hover);\n}\n\n/* Impact visualization on nodes */\n.react-flow__node.impact-node {\n    transition: all 0.3s ease;\n}\n\n.react-flow__node.impact-distance-1 {\n    box-shadow: 0 0 0 3px #e74c3c !important;\n    background-color: rgba(231, 76, 60, 0.1) !important;\n}\n\n.react-flow__node.impact-distance-2 {\n    box-shadow: 0 0 0 3px #e67e22 !important;\n    background-color: rgba(230, 126, 34, 0.1) !important;\n}\n\n.react-flow__node.impact-distance-3 {\n    box-shadow: 0 0 0 3px #f39c12 !important;\n    background-color: rgba(243, 156, 18, 0.1) !important;\n}\n\n.react-flow__node.impact-distance-4 {\n    box-shadow: 0 0 0 3px #3498db !important;\n    background-color: rgba(52, 152, 219, 0.1) !important;\n}\n\n@keyframes impactPulse {\n\n    0%,\n    100% {\n        transform: scale(1);\n        opacity: 1;\n    }\n\n    50% {\n        transform: scale(1.05);\n        opacity: 0.8;\n    }\n}\n\n.react-flow__node.impact-animating {\n    animation: impactPulse 0.6s ease-in-out;\n}\n\n/* Theme System Styles (Issue #22) */\n:root {\n    --theme-transition-duration: 0.3s;\n}\n\n/* Smooth transitions for theme changes */\n* {\n    transition: background-color var(--theme-transition-duration) ease,\n        color var(--theme-transition-duration) ease,\n        border-color var(--theme-transition-duration) ease,\n        box-shadow var(--theme-transition-duration) ease;\n}\n\n/* Theme Toggle Component */\n.theme-toggle {\n    position: absolute;\n    z-index: 35;\n    background-color: var(--am-panel-bg);\n    color: var(--am-panel-fg);\n    border: 1px solid var(--am-border);\n    border-radius: 8px;\n    padding: 12px;\n    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);\n    display: flex;\n    flex-direction: column;\n    gap: 8px;\n    min-width: 180px;\n}\n\n.theme-toggle-top-right {\n    top: 10px;\n    right: 10px;\n}\n\n.theme-toggle-top-left {\n    top: 10px;\n    left: 10px;\n}\n\n.theme-toggle-bottom-right {\n    bottom: 10px;\n    right: 10px;\n}\n\n.theme-toggle-bottom-left {\n    bottom: 10px;\n    left: 10px;\n}\n\n.theme-toggle-label {\n    font-size: 11px;\n    font-weight: 600;\n    color: var(--am-desc);\n    margin-bottom: 4px;\n}\n\n.toggle-label-text {\n    text-transform: uppercase;\n    letter-spacing: 0.5px;\n}\n\n.theme-options {\n    display: flex;\n    gap: 6px;\n}\n\n.theme-option {\n    flex: 1;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    gap: 4px;\n    padding: 8px 12px;\n    background-color: var(--am-btn-secondary-bg);\n    color: var(--am-btn-secondary-fg);\n    border: 2px solid transparent;\n    border-radius: 6px;\n    font-size: 11px;\n    cursor: pointer;\n    transition: all 0.2s ease;\n}\n\n.theme-option:hover {\n    background-color: var(--am-btn-secondary-hover);\n    transform: translateY(-2px);\n    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);\n}\n\n.theme-option.active {\n    background-color: var(--am-btn-bg);\n    color: var(--am-btn-fg);\n    border-color: var(--am-accent);\n    box-shadow: 0 2px 12px rgba(0, 0, 0, 0.2);\n}\n\n.option-icon {\n    font-size: 20px;\n}\n\n.option-label {\n    font-weight: 500;\n}\n\n.theme-auto-indicator {\n    margin-top: 4px;\n    padding: 6px 8px;\n    background-color: var(--am-blockquote-bg);\n    border-left: 3px solid var(--am-link);\n    border-radius: 4px;\n}\n\n.auto-hint {\n    font-size: 10px;\n    color: var(--am-desc);\n}\n\n/* Compact Theme Toggle */\n.compact-theme-toggle {\n    width: 40px;\n    height: 40px;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    background-color: var(--am-panel-bg);\n    border: 1px solid var(--am-border);\n    border-radius: 50%;\n    cursor: pointer;\n    transition: all 0.2s ease;\n    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);\n}\n\n.compact-theme-toggle:hover {\n    background-color: var(--am-hover);\n    transform: scale(1.1);\n    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);\n}\n\n.compact-theme-toggle:active {\n    transform: scale(0.95);\n}\n\n.compact-icon {\n    font-size: 20px;\n}\n\n/* Dark theme enhancements */\n[data-theme="dark"] {\n    /* Enhance contrast for dark theme */\n}\n\n[data-theme="dark"] .react-flow__node {\n    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.5);\n}\n\n[data-theme="dark"] .react-flow__edge-path {\n    opacity: 0.8;\n}\n\n[data-theme="dark"] .stats-panel,\n[data-theme="dark"] .search-bar-container,\n[data-theme="dark"] .zoom-controls,\n[data-theme="dark"] .impact-analysis-panel {\n    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.5);\n}\n\n/* Light theme enhancements */\n[data-theme="light"] {\n    /* Enhance contrast for light theme */\n}\n\n[data-theme="light"] .react-flow__node {\n    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);\n}\n\n[data-theme="light"] .react-flow__edge-path {\n    opacity: 0.9;\n}\n\n/* Theme transition animation */\n@keyframes themeTransition {\n    0% {\n        opacity: 0.8;\n    }\n\n    100% {\n        opacity: 1;\n    }\n}\n\n.theme-transitioning {\n    animation: themeTransition 0.3s ease;\n}\n\n/* Relationship Visualizer Styles (Issue #21) */\n.relationship-visualizer {\n    position: absolute;\n    top: 10px;\n    right: 10px;\n    z-index: 30;\n    background-color: var(--am-panel-bg);\n    border: 1px solid var(--am-border);\n    border-radius: 8px;\n    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);\n    min-width: 350px;\n    max-width: 450px;\n    max-height: 80vh;\n    display: flex;\n    flex-direction: column;\n}\n\n.relationship-header {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    padding: 12px 16px;\n    border-bottom: 1px solid var(--am-border);\n}\n\n.relationship-title {\n    display: flex;\n    align-items: center;\n    gap: 8px;\n    font-weight: 600;\n    font-size: 14px;\n}\n\n.relationship-icon {\n    font-size: 18px;\n}\n\n.relationship-close-btn {\n    background: none;\n    border: none;\n    color: var(--am-icon);\n    font-size: 16px;\n    cursor: pointer;\n    padding: 4px 8px;\n    border-radius: 4px;\n    opacity: 0.7;\n    transition: all 0.15s;\n}\n\n.relationship-close-btn:hover {\n    background-color: var(--am-hover);\n    opacity: 1;\n}\n\n.relationship-summary {\n    padding: 12px 16px;\n    background-color: var(--am-blockquote-bg);\n    border-bottom: 1px solid var(--am-border);\n}\n\n.selected-node-info {\n    display: flex;\n    align-items: center;\n    gap: 10px;\n    margin-bottom: 8px;\n}\n\n.node-type-icon {\n    font-size: 24px;\n}\n\n.node-details {\n    flex: 1;\n}\n\n.node-name {\n    font-size: 13px;\n    font-weight: 600;\n    word-break: break-word;\n}\n\n.node-type-label {\n    font-size: 11px;\n    color: var(--am-desc);\n    text-transform: capitalize;\n}\n\n.relationship-count {\n    font-size: 12px;\n    color: var(--am-link);\n    font-weight: 500;\n}\n\n.relationship-sections {\n    flex: 1;\n    overflow-y: auto;\n    overflow-x: hidden;\n    padding: 8px 0;\n}\n\n.relationship-section {\n    border-bottom: 1px solid var(--am-border);\n    padding: 12px 0;\n}\n\n.relationship-section:last-child {\n    border-bottom: none;\n}\n\n.section-header {\n    display: flex;\n    align-items: center;\n    gap: 8px;\n    padding: 0 16px 8px;\n    font-size: 12px;\n    font-weight: 600;\n}\n\n.section-icon {\n    font-size: 16px;\n}\n\n.section-title {\n    flex: 1;\n}\n\n.section-badge {\n    padding: 2px 8px;\n    background-color: var(--am-badge-bg);\n    color: var(--am-badge-fg);\n    border-radius: 12px;\n    font-size: 10px;\n    font-weight: 600;\n}\n\n.strength-indicator {\n    padding: 2px 8px;\n    border-radius: 12px;\n    font-size: 9px;\n    font-weight: 600;\n    text-transform: uppercase;\n}\n\n.strength-indicator.strength-weak {\n    background-color: #3498db;\n    color: white;\n}\n\n.strength-indicator.strength-medium {\n    background-color: #f39c12;\n    color: white;\n}\n\n.strength-indicator.strength-strong {\n    background-color: #e74c3c;\n    color: white;\n}\n\n.relationship-items {\n    display: flex;\n    flex-direction: column;\n    gap: 4px;\n    padding: 0 16px;\n}\n\n.relationship-node {\n    display: flex;\n    align-items: center;\n    gap: 10px;\n    padding: 8px 12px;\n    background-color: var(--am-input-bg);\n    border: 1px solid var(--am-input-border);\n    border-radius: 6px;\n    cursor: pointer;\n    transition: all 0.15s;\n    position: relative;\n}\n\n.relationship-node:hover {\n    background-color: var(--am-hover);\n    border-color: var(--am-accent);\n    transform: translateX(4px);\n}\n\n.rel-node-connector {\n    position: absolute;\n    left: 0;\n    top: 50%;\n    width: 3px;\n    height: 100%;\n    transform: translateY(-50%);\n    border-radius: 2px;\n}\n\n.relationship-parent .rel-node-connector {\n    background-color: #9b59b6;\n}\n\n.relationship-child .rel-node-connector {\n    background-color: #3498db;\n}\n\n.relationship-sibling .rel-node-connector {\n    background-color: #2ecc71;\n}\n\n.relationship-ancestor .rel-node-connector {\n    background-color: #e67e22;\n}\n\n.relationship-descendant .rel-node-connector {\n    background-color: #1abc9c;\n}\n\n.rel-node-icon {\n    font-size: 18px;\n}\n\n.rel-node-content {\n    flex: 1;\n    min-width: 0;\n}\n\n.rel-node-name {\n    font-size: 12px;\n    font-weight: 500;\n    word-break: break-all;\n}\n\n.rel-node-type {\n    font-size: 10px;\n    color: var(--am-desc);\n    text-transform: capitalize;\n}\n\n.rel-node-depth {\n    font-size: 10px;\n    padding: 2px 6px;\n    background-color: var(--am-badge-bg);\n    color: var(--am-badge-fg);\n    border-radius: 8px;\n}\n\n.more-items {\n    padding: 8px 12px;\n    text-align: center;\n    font-size: 11px;\n    color: var(--am-desc);\n    font-style: italic;\n}\n\n.no-relationships {\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    justify-content: center;\n    padding: 40px 20px;\n    gap: 12px;\n}\n\n.no-rel-icon {\n    font-size: 36px;\n    opacity: 0.5;\n}\n\n.no-rel-text {\n    font-size: 13px;\n    color: var(--am-desc);\n}\n\n/* Relationship visualization on graph */\n.react-flow__node.has-parent {\n    border-top: 3px solid #9b59b6 !important;\n}\n\n.react-flow__node.has-children {\n    border-bottom: 3px solid #3498db !important;\n}\n\n.react-flow__node.has-siblings {\n    border-left: 3px solid #2ecc71 !important;\n}\n\n/* Relationship edge highlighting */\n.react-flow__edge.relationship-edge {\n    stroke-width: 2px;\n}\n\n.react-flow__edge.parent-child-edge {\n    stroke: #9b59b6;\n}\n\n.react-flow__edge.sibling-edge {\n    stroke: #2ecc71;\n    stroke-dasharray: 5, 5;\n}\n\n@keyframes relationshipPulse {\n\n    0%,\n    100% {\n        opacity: 1;\n        transform: scale(1);\n    }\n\n    50% {\n        opacity: 0.7;\n        transform: scale(1.02);\n    }\n}\n\n.relationship-node.highlighted {\n    animation: relationshipPulse 1s ease-in-out infinite;\n}\n\n/* Keyboard Help Overlay (Issue #18) */\n.keyboard-help-overlay {\n    position: fixed;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    background-color: rgba(0, 0, 0, 0.5);\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    z-index: 1000;\n}\n\n.keyboard-help-panel {\n    background-color: var(--am-panel-bg);\n    border: 1px solid var(--am-border);\n    border-radius: 12px;\n    box-shadow: 0 8px 32px rgba(0, 0, 0, 0.4);\n    max-width: 600px;\n    max-height: 80vh;\n    overflow-y: auto;\n    display: flex;\n    flex-direction: column;\n}\n\n.help-header {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    padding: 20px 24px;\n    border-bottom: 1px solid var(--am-border);\n}\n\n.help-title {\n    margin: 0;\n    font-size: 18px;\n    font-weight: 600;\n}\n\n.help-close-btn {\n    background: none;\n    border: none;\n    color: var(--am-icon);\n    font-size: 20px;\n    cursor: pointer;\n    padding: 4px 8px;\n    border-radius: 4px;\n    opacity: 0.7;\n    transition: all 0.15s;\n}\n\n.help-close-btn:hover {\n    background-color: var(--am-hover);\n    opacity: 1;\n}\n\n.help-sections {\n    padding: 20px 24px;\n}\n\n.help-section {\n    margin-bottom: 24px;\n}\n\n.help-section:last-child {\n    margin-bottom: 0;\n}\n\n.help-section-title {\n    margin: 0 0 12px 0;\n    font-size: 14px;\n    font-weight: 600;\n    color: var(--am-link);\n}\n\n.help-shortcuts {\n    display: flex;\n    flex-direction: column;\n    gap: 10px;\n}\n\n.help-shortcut {\n    display: flex;\n    align-items: center;\n    gap: 12px;\n    padding: 8px 12px;\n    background-color: var(--am-input-bg);\n    border: 1px solid var(--am-input-border);\n    border-radius: 6px;\n    font-size: 13px;\n}\n\n.help-shortcut kbd {\n    background-color: var(--am-kbd-bg);\n    border: 1px solid var(--am-kbd-border);\n    border-radius: 4px;\n    padding: 4px 8px;\n    font-size: 12px;\n    font-family: var(--vscode-font-family);\n    font-weight: 600;\n    min-width: 28px;\n    text-align: center;\n}\n\n.help-shortcut span {\n    flex: 1;\n    color: var(--am-fg);\n}\n\n.help-footer {\n    padding: 16px 24px;\n    border-top: 1px solid var(--am-border);\n    display: flex;\n    justify-content: center;\n}\n\n.help-close-button {\n    padding: 8px 24px;\n    border: none;\n    border-radius: 6px;\n    background-color: var(--am-btn-bg);\n    color: var(--am-btn-fg);\n    font-size: 13px;\n    font-weight: 600;\n    cursor: pointer;\n    transition: background-color 0.15s;\n}\n\n.help-close-button:hover {\n    background-color: var(--am-btn-hover);\n}\n\n/* Focus indicator for keyboard navigation */\n.react-flow__node.keyboard-focused {\n    outline: 3px solid var(--am-accent);\n    outline-offset: 2px;\n}\n\n/* Screen reader only text */\n.sr-only {\n    position: absolute;\n    width: 1px;\n    height: 1px;\n    padding: 0;\n    margin: -1px;\n    overflow: hidden;\n    clip: rect(0, 0, 0, 0);\n    white-space: nowrap;\n    border-width: 0;\n}',"",{version:3,sources:["webpack://./src/webview/index.css"],names:[],mappings:"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",sourceRoot:""}]);const l=A},97123(e,n){function t(e,n){return n<=0?"var(--am-panel-bg)":`hsl(${120-120*Math.min(e/n,1)}, 70%, 50%)`}function a(e){return e.replace(/\\/g,"/").toLowerCase()}function o(e,n){switch(n){case"commit_count":return e.commit_count||0;case"author_count":return e.contributor_count||e.contributors?.length||0;case"last_modified":return function(e){if(!e)return 0;const n=Date.parse(e);return Number.isNaN(n)?0:n}(e.last_commit_date);default:return 0}}function r(e){const n=e.commit_count||0;if(n<=0)return"No commits recorded";const t=(e.contributors||[]).slice().sort((e,n)=>n.commit_count-e.commit_count);if(0===t.length&&e.primary_author)return`${n} commits by ${e.primary_author} (100%)`;const a=t.slice(0,2).map(e=>{const t=Math.round(e.commit_count/n*100);return`${e.email||e.name||"unknown"} (${t}%)`}),o=t.length>2?`, +${t.length-2} more`:"";return`${n} commits by ${a.join(", ")}${o}`}Object.defineProperty(n,"__esModule",{value:!0}),n.buildHeatmap=function(e,n){if("off"===n)return{mode:n,entries:new Map,maxMetric:0,minMetric:0};let A=0,l=Number.POSITIVE_INFINITY;const i=new Map;return e.forEach(e=>{const t=o(e,n);A=Math.max(A,t),l=Math.min(l,t)}),Number.isFinite(l)||(l=0),e.forEach(e=>{const l=o(e,n),s=l>0?t(l,A):"var(--am-panel-bg)";i.set(a(e.file_path),{metric:l,color:s,tooltip:r(e),contribution:e})}),{mode:n,entries:i,maxMetric:A,minMetric:l}},n.getHeatmapColor=t,n.normalizePath=a,n.getMetric=o,n.formatHeatmapTooltip=r,n.formatHeatmapMetric=function(e,n){return"last_modified"===e?n?new Date(n).toISOString().split("T")[0]:"Unknown":Math.round(n).toString()}},98348(e,n,t){var a,o=this&&this.__createBinding||(Object.create?function(e,n,t,a){void 0===a&&(a=t);var o=Object.getOwnPropertyDescriptor(n,t);o&&!("get"in o?!n.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return n[t]}}),Object.defineProperty(e,a,o)}:function(e,n,t,a){void 0===a&&(a=t),e[a]=n[t]}),r=this&&this.__setModuleDefault||(Object.create?function(e,n){Object.defineProperty(e,"default",{enumerable:!0,value:n})}:function(e,n){e.default=n}),A=this&&this.__importStar||(a=function(e){return a=Object.getOwnPropertyNames||function(e){var n=[];for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(n[n.length]=t);return n},a(e)},function(e){if(e&&e.__esModule)return e;var n={};if(null!=e)for(var t=a(e),A=0;A<t.length;A++)"default"!==t[A]&&o(n,e,t[A]);return r(n,e),n}),l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});const i=A(t(96540)),s=t(5338),c=l(t(83569));t(2088);class d extends i.Component{constructor(e){super(e),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,n){console.error("Uncaught error:",e,n),this.setState({error:e,errorInfo:n})}render(){return this.state.hasError?i.default.createElement("div",{style:{padding:20,color:"red",fontFamily:"monospace"}},i.default.createElement("h1",null,"UI Crash Report"),i.default.createElement("h2",null,this.state.error?.toString()),i.default.createElement("pre",{style:{whiteSpace:"pre-wrap"}},this.state.errorInfo?.componentStack)):this.props.children}}const u=document.getElementById("root");u&&(0,s.createRoot)(u).render(i.default.createElement(d,null,i.default.createElement(c.default,null)))},99225(e,n){Object.defineProperty(n,"__esModule",{value:!0}),n.ArchMindWebSocketClient=void 0,n.ArchMindWebSocketClient=class{constructor(e,n,t="http://localhost:8080"){this.ws=null,this.reconnectAttempts=0,this.maxReconnectAttempts=5,this.reconnectDelay=1e3,this.reconnectTimer=null,this.listeners=new Map,this.globalListeners=new Set,this.isIntentionallyClosed=!1,this.type=e,this.id=n;const a=t.startsWith("https")?"wss":"ws",o=t.replace(/^https?:\/\//,"");this.url=`${a}://${o}/ws/${e}/${n}`}connect(){if(!this.ws||this.ws.readyState!==WebSocket.OPEN){this.isIntentionallyClosed=!1;try{this.ws=new WebSocket(this.url),this.ws.onopen=()=>{this.reconnectAttempts=0,this.reconnectDelay=1e3},this.ws.onmessage=e=>{try{const n=JSON.parse(e.data);this.handleUpdate(n)}catch(e){console.error("Failed to parse WebSocket message:",e)}},this.ws.onerror=e=>{console.error("WebSocket error:",e)},this.ws.onclose=()=>{this.ws=null,this.isIntentionallyClosed||this.scheduleReconnect()}}catch(e){console.error("Failed to create WebSocket connection:",e),this.scheduleReconnect()}}}scheduleReconnect(){if(this.isIntentionallyClosed||this.reconnectAttempts>=this.maxReconnectAttempts)return;this.reconnectTimer&&clearTimeout(this.reconnectTimer),this.reconnectAttempts++;const e=Math.min(this.reconnectDelay*Math.pow(2,this.reconnectAttempts-1),3e4);this.reconnectTimer=setTimeout(()=>{this.connect()},e)}handleUpdate(e){const n=e.job_id||e.repo_id;if(n){const t=this.listeners.get(n);t&&t.forEach(n=>{try{n(e)}catch(e){console.error("Error in WebSocket listener:",e)}})}this.globalListeners.forEach(n=>{try{n(e)}catch(e){console.error("Error in WebSocket listener:",e)}})}subscribe(e,n){return this.listeners.has(e)||this.listeners.set(e,new Set),this.listeners.get(e)?.add(n),()=>{this.listeners.get(e)?.delete(n)}}subscribeAll(e){return this.globalListeners.add(e),()=>{this.globalListeners.delete(e)}}disconnect(){this.isIntentionallyClosed=!0,this.reconnectTimer&&clearTimeout(this.reconnectTimer),this.ws&&(this.ws.close(),this.ws=null)}}}},o={};function r(e){var n=o[e];if(void 0!==n)return n.exports;var t=o[e]={id:e,loaded:!1,exports:{}};return a[e].call(t.exports,t,t.exports,r),t.loaded=!0,t.exports}r.m=a,e=[],r.O=(n,t,a,o)=>{if(!t){var A=1/0;for(c=0;c<e.length;c++){for(var[t,a,o]=e[c],l=!0,i=0;i<t.length;i++)(!1&o||A>=o)&&Object.keys(r.O).every(e=>r.O[e](t[i]))?t.splice(i--,1):(l=!1,o<A&&(A=o));if(l){e.splice(c--,1);var s=a();void 0!==s&&(n=s)}}return n}o=o||0;for(var c=e.length;c>0&&e[c-1][2]>o;c--)e[c]=e[c-1];e[c]=[t,a,o]},r.n=e=>{var n=e&&e.__esModule?()=>e.default:()=>e;return r.d(n,{a:n}),n},t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,r.t=function(e,a){if(1&a&&(e=this(e)),8&a)return e;if("object"==typeof e&&e){if(4&a&&e.__esModule)return e;if(16&a&&"function"==typeof e.then)return e}var o=Object.create(null);r.r(o);var A={};n=n||[null,t({}),t([]),t(t)];for(var l=2&a&&e;("object"==typeof l||"function"==typeof l)&&!~n.indexOf(l);l=t(l))Object.getOwnPropertyNames(l).forEach(n=>A[n]=()=>e[n]);return A.default=()=>e,r.d(o,A),o},r.d=(e,n)=>{for(var t in n)r.o(n,t)&&!r.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:n[t]})},r.e=()=>Promise.resolve(),r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),r.o=(e,n)=>Object.prototype.hasOwnProperty.call(e,n),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),(()=>{var e={792:0};r.O.j=n=>0===e[n];var n=(n,t)=>{var a,o,[A,l,i]=t,s=0;if(A.some(n=>0!==e[n])){for(a in l)r.o(l,a)&&(r.m[a]=l[a]);if(i)var c=i(r)}for(n&&n(t);s<A.length;s++)o=A[s],r.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return r.O(c)},t=self.webpackChunkarchmind_vscode_extension=self.webpackChunkarchmind_vscode_extension||[];t.forEach(n.bind(null,0)),t.push=n.bind(null,t.push.bind(t))})(),r.nc=void 0;var A=r.O(void 0,[96],()=>r(98348));A=r.O(A)})();
//# sourceMappingURL=main.bundle.js.map