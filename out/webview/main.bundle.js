(()=>{"use strict";var e,n,t,a={2088(e,n,t){t.r(n),t.d(n,{default:()=>g});var a=t(85072),o=t.n(a),A=t(97825),r=t.n(A),l=t(77659),i=t.n(l),s=t(55056),c=t.n(s),d=t(10540),u=t.n(d),p=t(41113),m=t.n(p),C=t(91763),f={};f.styleTagTransform=m(),f.setAttributes=c(),f.insert=i().bind(null,"head"),f.domAPI=r(),f.insertStyleElement=u(),o()(C.A,f);const g=C.A&&C.A.locals?C.A.locals:void 0},2240(e,n){function t(e){if("directory"===e.type)return e.id;if(e.filePath){const n=e.filePath.replace(/\\/g,"/").split("/");return n.pop(),n.join("/")||"/"}if(e.id.includes("::")){const n=e.id.split("::")[0].replace(/\\/g,"/").split("/");return n.pop(),n.join("/")||"/"}const n=e.id.replace(/\\/g,"/").split("/");return n.pop(),n.join("/")||"/"}function a(e){return{nodeCount:e.length,fileCount:e.filter(e=>"file"===e.type).length,functionCount:e.filter(e=>"function"===e.type).length,classCount:e.filter(e=>"class"===e.type).length}}function o(e){return"/"===e||""===e?0:e.split("/").filter(e=>e.length>0).length}Object.defineProperty(n,"__esModule",{value:!0}),n.clusterNodesByDirectory=function(e,n=5,A=3){const r=new Map;e.forEach(e=>{const n=t(e);if(o(n)>A)return;const a=r.get(n)||[];a.push(e),r.set(n,a)});const l=[];return r.forEach((e,t)=>{if(e.length>=n){const n=t.split("/").filter(e=>e.length>0),A=n[n.length-1]||"root";l.push({id:`cluster-${t}`,label:A,path:t,nodes:e,metrics:a(e),depth:o(t)})}}),l.sort((e,n)=>e.depth!==n.depth?e.depth-n.depth:e.path.localeCompare(n.path)),l},n.filterByClusterState=function(e,n,a,o){const A=new Set,r=[],l=new Map;a.forEach(e=>{l.set(e.id,e)}),e.forEach(e=>{const n=`cluster-${t(e)}`,a=l.get(n);a?!0===o[n]?A.add(e.id):!1===o[n]?r.find(e=>e.id===n)||r.push(a):A.add(e.id):A.add(e.id)});return{nodes:e.filter(e=>A.has(e.id)),edges:n.filter(e=>A.has(e.source)&&A.has(e.target)),clusterNodes:r}},n.loadClusterState=function(e){const n=`archmind-cluster-state-${e}`,t=localStorage.getItem(n);if(t)try{return JSON.parse(t)}catch(e){console.error("Failed to parse cluster state:",e)}return{}},n.saveClusterState=function(e,n){const t=`archmind-cluster-state-${e}`;localStorage.setItem(t,JSON.stringify(n))},n.toggleCluster=function(e,n){const t=n[e];return{...n,[e]:!1===t}},n.expandAllClusters=function(e){const n={};return e.forEach(e=>{n[e.id]=!0}),n},n.collapseAllClusters=function(e){const n={};return e.forEach(e=>{n[e.id]=!1}),n}},7431(e,n,t){var a,o=this&&this.__createBinding||(Object.create?function(e,n,t,a){void 0===a&&(a=t);var o=Object.getOwnPropertyDescriptor(n,t);o&&!("get"in o?!n.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return n[t]}}),Object.defineProperty(e,a,o)}:function(e,n,t,a){void 0===a&&(a=t),e[a]=n[t]}),A=this&&this.__setModuleDefault||(Object.create?function(e,n){Object.defineProperty(e,"default",{enumerable:!0,value:n})}:function(e,n){e.default=n}),r=this&&this.__importStar||(a=function(e){return a=Object.getOwnPropertyNames||function(e){var n=[];for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(n[n.length]=t);return n},a(e)},function(e){if(e&&e.__esModule)return e;var n={};if(null!=e)for(var t=a(e),r=0;r<t.length;r++)"default"!==t[r]&&o(n,e,t[r]);return A(n,e),n});Object.defineProperty(n,"__esModule",{value:!0}),n.EnhancedMiniMap=void 0,n.useMiniMapNavigation=function(e){return{handleMiniMapNodeClick:l.default.useCallback((n,t)=>{n.preventDefault(),e?.(t.id)},[e])}};const l=r(t(96540)),i=t(20072),s={file:"#3498db",directory:"#9b59b6",function:"#2ecc71",class:"#e67e22",module:"#1abc9c",default:"#95a5a6"};n.EnhancedMiniMap=({selectedNodeId:e,hoveredNodeId:n,nodeColors:t,position:a="bottom-right",onNodeClick:o})=>{const A=(0,l.useMemo)(()=>({...s,...t}),[t]),r=(0,l.useMemo)(()=>t=>{if(t.id===e)return"#f39c12";if(t.id===n)return"#e74c3c";const a=t.data;if("directory"===a?.type)return A.directory||s.directory;if("function"===a?.type)return A.function||s.function;if("class"===a?.type)return A.class||s.class;if("module"===a?.type)return A.module||s.module;if(a?.language&&A[a.language])return A[a.language];const o=a?.type||t.type||"default";return A[o]||A.default},[e,n,A]),c=(0,l.useMemo)(()=>t=>{const a=["minimap-node"];t.id===e&&a.push("minimap-node-selected"),t.id===n&&a.push("minimap-node-hovered");const o=t.data,A=o?.type||t.type||"default";return a.push(`minimap-node-${A}`),a.join(" ")},[e,n]),d=(0,l.useMemo)(()=>{switch(a){case"top-left":return{top:10,left:10};case"top-right":return{top:10,right:10};case"bottom-left":return{bottom:10,left:10};default:return{bottom:10,right:10}}},[a]);return l.default.createElement(i.MiniMap,{nodeColor:r,nodeClassName:c,nodeBorderRadius:3,nodeStrokeWidth:2,maskColor:"rgba(0, 0, 0, 0.15)",style:{backgroundColor:"var(--am-panel-bg)",border:"1px solid var(--am-border)",borderRadius:"6px",...d},pannable:!0,zoomable:!0,onNodeClick:o})}},8504(e,n,t){var a,o=this&&this.__createBinding||(Object.create?function(e,n,t,a){void 0===a&&(a=t);var o=Object.getOwnPropertyDescriptor(n,t);o&&!("get"in o?!n.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return n[t]}}),Object.defineProperty(e,a,o)}:function(e,n,t,a){void 0===a&&(a=t),e[a]=n[t]}),A=this&&this.__setModuleDefault||(Object.create?function(e,n){Object.defineProperty(e,"default",{enumerable:!0,value:n})}:function(e,n){e.default=n}),r=this&&this.__importStar||(a=function(e){return a=Object.getOwnPropertyNames||function(e){var n=[];for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(n[n.length]=t);return n},a(e)},function(e){if(e&&e.__esModule)return e;var n={};if(null!=e)for(var t=a(e),r=0;r<t.length;r++)"default"!==t[r]&&o(n,e,t[r]);return A(n,e),n});Object.defineProperty(n,"__esModule",{value:!0}),n.RelationshipVisualizer=void 0;const l=r(t(96540));function i(e){return{file:"üìÑ",directory:"üìÅ",function:"∆í",class:"‚óÜ",module:"üì¶"}[e]||"‚Ä¢"}function s(e){return e>=5?"strong":e>=2?"medium":"weak"}n.RelationshipVisualizer=({selectedNodeId:e,nodes:n,edges:t,onNodeClick:a,onClose:o})=>{const A=(0,l.useMemo)(()=>e?function(e,n){const t=new Map(n.map(e=>[e.id,e])),a=t.get(e);if(!a)return{children:[],siblings:[],ancestors:[],descendants:[]};const o=a.parentId?t.get(a.parentId):void 0,A=n.filter(n=>n.parentId===e),r=a.parentId?n.filter(n=>n.parentId===a.parentId&&n.id!==e):[],l=[];let i=a.parentId;for(;i;){const e=t.get(i);if(!e)break;l.push(e),i=e.parentId}const s=[],c=new Set,d=e=>{n.filter(n=>n.parentId===e).forEach(e=>{c.has(e.id)||(c.add(e.id),s.push(e),d(e.id))})};return d(e),{parent:o,children:A,siblings:r,ancestors:l,descendants:s}}(e,n):null,[e,n,t]),r=(0,l.useMemo)(()=>n.find(n=>n.id===e),[e,n]);if(!e||!A||!r)return null;const{parent:d,children:u,siblings:p,ancestors:m,descendants:C}=A,f=(d?1:0)+u.length+p.length+m.length+C.length;return l.default.createElement("div",{className:"relationship-visualizer"},l.default.createElement("div",{className:"relationship-header"},l.default.createElement("div",{className:"relationship-title"},l.default.createElement("span",{className:"relationship-icon"},"üîó"),l.default.createElement("span",null,"Relationships")),l.default.createElement("button",{className:"relationship-close-btn",onClick:o,title:"Close"},"‚úï")),l.default.createElement("div",{className:"relationship-summary"},l.default.createElement("div",{className:"selected-node-info"},l.default.createElement("span",{className:"node-type-icon"},i(r.type)),l.default.createElement("div",{className:"node-details"},l.default.createElement("div",{className:"node-name"},r.id),l.default.createElement("div",{className:"node-type-label"},r.type))),l.default.createElement("div",{className:"relationship-count"},f," relationship",1!==f?"s":"")),l.default.createElement("div",{className:"relationship-sections"},d&&l.default.createElement("div",{className:"relationship-section"},l.default.createElement("div",{className:"section-header"},l.default.createElement("span",{className:"section-icon"},"‚¨ÜÔ∏è"),l.default.createElement("span",{className:"section-title"},"Parent"),l.default.createElement("span",{className:"section-badge"},"1")),l.default.createElement("div",{className:"relationship-items"},l.default.createElement(c,{node:d,relationshipType:"parent",onClick:a}))),u.length>0&&l.default.createElement("div",{className:"relationship-section"},l.default.createElement("div",{className:"section-header"},l.default.createElement("span",{className:"section-icon"},"‚¨áÔ∏è"),l.default.createElement("span",{className:"section-title"},"Children"),l.default.createElement("span",{className:"section-badge"},u.length),l.default.createElement("span",{className:`strength-indicator strength-${s(u.length)}`},s(u.length))),l.default.createElement("div",{className:"relationship-items"},u.map(e=>l.default.createElement(c,{key:e.id,node:e,relationshipType:"child",onClick:a})))),p.length>0&&l.default.createElement("div",{className:"relationship-section"},l.default.createElement("div",{className:"section-header"},l.default.createElement("span",{className:"section-icon"},"‚ÜîÔ∏è"),l.default.createElement("span",{className:"section-title"},"Siblings"),l.default.createElement("span",{className:"section-badge"},p.length)),l.default.createElement("div",{className:"relationship-items"},p.map(e=>l.default.createElement(c,{key:e.id,node:e,relationshipType:"sibling",onClick:a})))),m.length>0&&l.default.createElement("div",{className:"relationship-section"},l.default.createElement("div",{className:"section-header"},l.default.createElement("span",{className:"section-icon"},"‚è´"),l.default.createElement("span",{className:"section-title"},"Ancestors"),l.default.createElement("span",{className:"section-badge"},m.length)),l.default.createElement("div",{className:"relationship-items"},m.map((e,n)=>l.default.createElement(c,{key:e.id,node:e,relationshipType:"ancestor",depth:n+1,onClick:a})))),C.length>0&&l.default.createElement("div",{className:"relationship-section"},l.default.createElement("div",{className:"section-header"},l.default.createElement("span",{className:"section-icon"},"‚è¨"),l.default.createElement("span",{className:"section-title"},"Descendants"),l.default.createElement("span",{className:"section-badge"},C.length),l.default.createElement("span",{className:`strength-indicator strength-${s(C.length)}`},s(C.length))),l.default.createElement("div",{className:"relationship-items"},C.slice(0,10).map(e=>l.default.createElement(c,{key:e.id,node:e,relationshipType:"descendant",onClick:a})),C.length>10&&l.default.createElement("div",{className:"more-items"},"+",C.length-10," more..."))),0===f&&l.default.createElement("div",{className:"no-relationships"},l.default.createElement("span",{className:"no-rel-icon"},"üîç"),l.default.createElement("span",{className:"no-rel-text"},"No relationships found"))))};const c=({node:e,relationshipType:n,depth:t,onClick:a})=>{const o=t?12*t:0;return l.default.createElement("div",{className:`relationship-node relationship-${n}`,style:{marginLeft:`${o}px`},onClick:()=>{a?.(e.id)}},l.default.createElement("div",{className:"rel-node-connector"}),l.default.createElement("span",{className:"rel-node-icon"},i(e.type)),l.default.createElement("div",{className:"rel-node-content"},l.default.createElement("div",{className:"rel-node-name"},e.id),l.default.createElement("div",{className:"rel-node-type"},e.type)),t&&l.default.createElement("span",{className:"rel-node-depth"},"Level ",t))}},8575(e,n,t){var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.CompactThemeToggle=n.ThemeToggle=void 0;const o=a(t(96540)),A=t(10918);n.ThemeToggle=({position:e="top-right",showLabel:n=!0})=>{const{theme:t,resolvedTheme:a,setTheme:r}=(0,A.useTheme)(),l=e=>{switch(e){case"light":return"Light";case"dark":return"Dark";case"auto":return"Auto"}};return o.default.createElement("div",{className:`theme-toggle theme-toggle-${e}`,title:"auto"===t?`Auto (Currently: ${a}) ‚Ä¢ Ctrl+Shift+T`:`${l(t)} Mode ‚Ä¢ Ctrl+Shift+T`},o.default.createElement("div",{className:"theme-toggle-label"},n&&o.default.createElement("span",{className:"toggle-label-text"},"Theme:")),o.default.createElement("div",{className:"theme-options"},["auto","light","dark"].map(e=>o.default.createElement("button",{key:e,className:"theme-option "+(t===e?"active":""),onClick:()=>r(e),title:l(e)},o.default.createElement("span",{className:"option-icon"},(e=>{switch(e){case"light":return"‚òÄÔ∏è";case"dark":return"üåô";case"auto":return"üîÑ"}})(e)),n&&o.default.createElement("span",{className:"option-label"},l(e))))),"auto"===t&&o.default.createElement("div",{className:"theme-auto-indicator"},o.default.createElement("span",{className:"auto-hint"},"Following system (",a,")")))},n.CompactThemeToggle=()=>{const{theme:e,toggleTheme:n}=(0,A.useTheme)();return o.default.createElement("button",{className:"compact-theme-toggle",onClick:n,title:"Toggle Theme (Ctrl+Shift+T)"},o.default.createElement("span",{className:"compact-icon"},(()=>{switch(e){case"light":return"‚òÄÔ∏è";case"dark":return"üåô";case"auto":return"üîÑ"}})()))}},10918(e,n,t){var a,o=this&&this.__createBinding||(Object.create?function(e,n,t,a){void 0===a&&(a=t);var o=Object.getOwnPropertyDescriptor(n,t);o&&!("get"in o?!n.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return n[t]}}),Object.defineProperty(e,a,o)}:function(e,n,t,a){void 0===a&&(a=t),e[a]=n[t]}),A=this&&this.__setModuleDefault||(Object.create?function(e,n){Object.defineProperty(e,"default",{enumerable:!0,value:n})}:function(e,n){e.default=n}),r=this&&this.__importStar||(a=function(e){return a=Object.getOwnPropertyNames||function(e){var n=[];for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(n[n.length]=t);return n},a(e)},function(e){if(e&&e.__esModule)return e;var n={};if(null!=e)for(var t=a(e),r=0;r<t.length;r++)"default"!==t[r]&&o(n,e,t[r]);return A(n,e),n});Object.defineProperty(n,"__esModule",{value:!0}),n.ThemeProvider=void 0,n.useTheme=d,n.useThemeKeyboard=function(){const{toggleTheme:e}=d();(0,l.useEffect)(()=>{const n=n=>{(n.ctrlKey||n.metaKey)&&n.shiftKey&&"t"===n.key&&(n.preventDefault(),e())};return window.addEventListener("keydown",n),()=>window.removeEventListener("keydown",n)},[e])};const l=r(t(96540)),i=(0,l.createContext)(void 0),s="archmind-theme";function c(e,n){return"auto"===e?n:e}function d(){const e=(0,l.useContext)(i);if(void 0===e)throw new Error("useTheme must be used within a ThemeProvider");return e}n.ThemeProvider=({children:e})=>{const[n,t]=(0,l.useState)("auto"),[a,o]=(0,l.useState)("light"),[A,r]=(0,l.useState)("light");(0,l.useEffect)(()=>{const e=function(){if("undefined"==typeof window)return"auto";const e=localStorage.getItem(s);return"light"===e||"dark"===e||"auto"===e?e:"auto"}(),n="undefined"==typeof window?"light":window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";t(e),o(n),r(c(e,n))},[]),(0,l.useEffect)(()=>{if("undefined"==typeof window)return;const e=window.matchMedia("(prefers-color-scheme: dark)"),t=e=>{const t=e.matches?"dark":"light";o(t),"auto"===n&&r(t)};return e.addEventListener?(e.addEventListener("change",t),()=>e.removeEventListener("change",t)):e.addListener?(e.addListener(t),()=>e.removeListener(t)):void 0},[n]),(0,l.useEffect)(()=>{if("undefined"==typeof document)return;const e=document.documentElement;e.classList.remove("theme-light","theme-dark"),e.classList.add(`theme-${A}`),e.setAttribute("data-theme",A)},[A]);const d=e=>{t(e),localStorage.setItem(s,e);const n=c(e,a);r(n)};return l.default.createElement(i.Provider,{value:{theme:n,resolvedTheme:A,setTheme:d,toggleTheme:()=>{d("auto"===n?"light":"light"===n?"dark":"auto")}}},e)}},10969(e,n,t){var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.ZoomControls=void 0;const o=a(t(96540));n.ZoomControls=({zoomPan:e,position:n="bottom-right"})=>{const{zoomPercent:t,zoomIn:a,zoomOut:A,resetZoom:r,zoomToFit:l,presets:i,applyPreset:s,canZoomIn:c,canZoomOut:d}=e,[u,p]=o.default.useState(!1);return o.default.createElement("div",{className:`zoom-controls zoom-controls-${n}`},o.default.createElement("div",{className:"zoom-level-indicator",onClick:()=>p(!u),title:"Click to show zoom presets"},o.default.createElement("span",{className:"zoom-icon"},"üîç"),o.default.createElement("span",{className:"zoom-value"},t,"%"),o.default.createElement("span",{className:"zoom-dropdown-icon"},u?"‚ñ≤":"‚ñº")),u&&o.default.createElement("div",{className:"zoom-presets-dropdown"},i.map((e,n)=>o.default.createElement("button",{key:n,className:"zoom-preset-btn",onClick:()=>{s(e),p(!1)}},e.icon&&o.default.createElement("span",{className:"preset-icon"},e.icon),o.default.createElement("span",{className:"preset-label"},e.label)))),o.default.createElement("div",{className:"zoom-quick-controls"},o.default.createElement("button",{className:"zoom-btn",onClick:A,disabled:!d,title:"Zoom Out (Ctrl+‚àí)"},"‚àí"),o.default.createElement("button",{className:"zoom-btn",onClick:r,title:"Reset Zoom (Ctrl+1)"},"‚äô"),o.default.createElement("button",{className:"zoom-btn",onClick:a,disabled:!c,title:"Zoom In (Ctrl++)"},"+"),o.default.createElement("button",{className:"zoom-btn",onClick:l,title:"Fit to Screen (Ctrl+0)"},"‚ä°")),o.default.createElement("div",{className:"zoom-shortcuts-hint"},o.default.createElement("div",{className:"shortcut-line"},o.default.createElement("kbd",null,"Ctrl"),"+",o.default.createElement("kbd",null,"+"),"/",o.default.createElement("kbd",null,"‚àí")," Zoom"),o.default.createElement("div",{className:"shortcut-line"},o.default.createElement("kbd",null,"Ctrl"),"+",o.default.createElement("kbd",null,"0")," Fit"),o.default.createElement("div",{className:"shortcut-line"},o.default.createElement("kbd",null,"Shift"),"+Drag Pan")))}},15286(e,n,t){var a,o=this&&this.__createBinding||(Object.create?function(e,n,t,a){void 0===a&&(a=t);var o=Object.getOwnPropertyDescriptor(n,t);o&&!("get"in o?!n.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return n[t]}}),Object.defineProperty(e,a,o)}:function(e,n,t,a){void 0===a&&(a=t),e[a]=n[t]}),A=this&&this.__setModuleDefault||(Object.create?function(e,n){Object.defineProperty(e,"default",{enumerable:!0,value:n})}:function(e,n){e.default=n}),r=this&&this.__importStar||(a=function(e){return a=Object.getOwnPropertyNames||function(e){var n=[];for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(n[n.length]=t);return n},a(e)},function(e){if(e&&e.__esModule)return e;var n={};if(null!=e)for(var t=a(e),r=0;r<t.length;r++)"default"!==t[r]&&o(n,e,t[r]);return A(n,e),n});Object.defineProperty(n,"__esModule",{value:!0}),n.ExportModal=void 0;const l=r(t(96540)),i=t(72980),s=t(51887),c=t(88952),d=t(25375);n.ExportModal=({isOpen:e,onClose:n,nodes:t,edges:a,rawData:o,reactFlowWrapper:A,source:r="local"})=>{const[m,C]=(0,l.useState)("idle"),[f,g]=(0,l.useState)(""),[B,h]=(0,l.useState)(new Set),[I,b]=(0,l.useState)(!1),[x,y]=(0,l.useState)({scale:2,quality:.95}),[v,E]=(0,l.useState)({includeMetadata:!0,includeTitle:!0}),[k,w]=(0,l.useState)({format:"mermaid",includeStats:!0}),N=(0,l.useRef)(null);if((0,l.useEffect)(()=>{const t=t=>{"Escape"===t.key&&e&&n()};return window.addEventListener("keydown",t),()=>window.removeEventListener("keydown",t)},[e,n]),(0,l.useEffect)(()=>{const t=e=>{N.current&&e.target instanceof HTMLElement&&!N.current.contains(e.target)&&n()};return e&&document.addEventListener("mousedown",t),()=>document.removeEventListener("mousedown",t)},[e,n]),!e)return null;const z=async e=>{C("exporting"),g(`Exporting as ${e.toUpperCase()}...`);try{switch(e){case"json":(0,i.downloadJSON)(t,a,`graph-export-${Date.now()}.json`,o,r);break;case"png":if(!A)throw new Error("Graph element not found");await(0,s.exportAsPNG)(A,`graph-${Date.now()}.png`,x);break;case"jpeg":if(!A)throw new Error("Graph element not found");await(0,s.exportAsJPEG)(A,`graph-${Date.now()}.jpg`,x);break;case"webp":if(!A)throw new Error("Graph element not found");await(0,s.exportAsWebP)(A,`graph-${Date.now()}.webp`,x);break;case"svg":(0,s.exportAsSVG)(t,a,`graph-${Date.now()}.svg`);break;case"pdf":if(!A)throw new Error("Graph element not found");await(0,c.exportAsPDF)(A,t,a,`graph-${Date.now()}.pdf`,v);break;case"markdown":(0,d.exportAsMarkdown)(t,a,`graph-${Date.now()}.md`,k)}C("success"),g(`Successfully exported as ${e.toUpperCase()}!`),setTimeout(()=>{C("idle"),g("")},2e3)}catch(e){C("error"),g(`Export failed: ${e instanceof Error?e.message:"Unknown error"}`),setTimeout(()=>{C("idle"),g("")},3e3)}},S=(0,i.formatFileSize)((0,i.getJSONSize)(t,a,o)),_=(0,i.formatFileSize)((0,c.estimatePDFSize)(t,a)),O=(0,i.formatFileSize)((0,d.getMarkdownSize)(t,a)),M=(0,s.estimateImageSize)(t,x.scale||2);return l.default.createElement("div",{className:"export-modal-overlay"},l.default.createElement("div",{className:"export-modal",ref:N},l.default.createElement("div",{className:"export-modal-header"},l.default.createElement("h2",null,"üì• Export Graph"),l.default.createElement("button",{className:"close-btn",onClick:n,"aria-label":"Close"},"√ó")),l.default.createElement("div",{className:"export-modal-body"},l.default.createElement("p",{className:"export-description"},"Export your architecture graph in multiple formats for documentation, sharing, and analysis."),l.default.createElement("section",{className:"export-section"},l.default.createElement("h3",null,"Quick Export"),l.default.createElement("div",{className:"export-grid"},l.default.createElement(u,{icon:"üíæ",title:"JSON",description:"Complete data",size:S,onClick:()=>z("json"),disabled:"exporting"===m}),l.default.createElement(u,{icon:"üñºÔ∏è",title:"PNG",description:"High-quality image",size:(0,i.formatFileSize)(M.estimatedBytes),onClick:()=>z("png"),disabled:"exporting"===m||!A}),l.default.createElement(u,{icon:"üìÑ",title:"PDF",description:"Document format",size:_,onClick:()=>z("pdf"),disabled:"exporting"===m||!A}),l.default.createElement(u,{icon:"üìù",title:"Markdown",description:"Documentation",size:O,onClick:()=>z("markdown"),disabled:"exporting"===m}))),l.default.createElement("section",{className:"export-section"},l.default.createElement("h3",null,"Bulk Export"),l.default.createElement("p",{className:"section-hint"},"Select multiple formats to export at once"),l.default.createElement("div",{className:"format-checkboxes"},["json","png","jpeg","webp","svg","pdf","markdown"].map(e=>l.default.createElement("label",{key:e,className:"format-checkbox"},l.default.createElement("input",{type:"checkbox",checked:B.has(e),onChange:()=>(e=>{const n=new Set(B);n.has(e)?n.delete(e):n.add(e),h(n)})(e),disabled:"exporting"===m}),l.default.createElement("span",null,e.toUpperCase())))),l.default.createElement("button",{className:"bulk-export-btn",onClick:async()=>{if(0===B.size)return void g("Please select at least one format");C("exporting"),g(`Exporting ${B.size} formats...`);const e=[];for(const n of Array.from(B))try{await z(n),await new Promise(e=>setTimeout(e,500))}catch(t){e.push(`${n}: ${t instanceof Error?t.message:"Failed"}`)}0===e.length?(C("success"),g(`Successfully exported ${B.size} formats!`)):(C("error"),g(`${e.length} exports failed: ${e.join(", ")}`)),setTimeout(()=>{C("idle"),g(""),h(new Set)},3e3)},disabled:"exporting"===m||0===B.size},"Export ",B.size>0&&`(${B.size})`," Selected")),l.default.createElement("section",{className:"export-section"},l.default.createElement("button",{className:"toggle-advanced",onClick:()=>b(!I)},I?"‚ñº":"‚ñ∂"," Advanced Options"),I&&l.default.createElement("div",{className:"advanced-options"},l.default.createElement("div",{className:"options-group"},l.default.createElement("h4",null,"Image Options"),l.default.createElement("label",null,"Quality:",l.default.createElement("input",{type:"range",min:"0.1",max:"1",step:"0.05",value:x.quality||.95,onChange:e=>y({...x,quality:parseFloat(e.target.value)})}),l.default.createElement("span",null,Math.round(100*(x.quality||.95)),"%")),l.default.createElement("label",null,"Scale:",l.default.createElement("select",{value:x.scale||2,onChange:e=>y({...x,scale:parseInt(e.target.value)})},l.default.createElement("option",{value:"1"},"1x"),l.default.createElement("option",{value:"2"},"2x (Recommended)"),l.default.createElement("option",{value:"3"},"3x")))),l.default.createElement("div",{className:"options-group"},l.default.createElement("h4",null,"PDF Options"),l.default.createElement("label",null,l.default.createElement("input",{type:"checkbox",checked:v.includeMetadata??!0,onChange:e=>E({...v,includeMetadata:e.target.checked})}),"Include Metadata"),l.default.createElement("label",null,l.default.createElement("input",{type:"checkbox",checked:v.includeTitle??!0,onChange:e=>E({...v,includeTitle:e.target.checked})}),"Include Title")),l.default.createElement("div",{className:"options-group"},l.default.createElement("h4",null,"Markdown Options"),l.default.createElement("label",null,"Format:",l.default.createElement("select",{value:k.format||"mermaid",onChange:e=>w({...k,format:e.target.value})},l.default.createElement("option",{value:"mermaid"},"Mermaid Diagram"),l.default.createElement("option",{value:"github"},"GitHub"),l.default.createElement("option",{value:"standard"},"Standard"))),l.default.createElement("label",null,l.default.createElement("input",{type:"checkbox",checked:k.includeStats??!0,onChange:e=>w({...k,includeStats:e.target.checked})}),"Include Statistics")))),l.default.createElement("section",{className:"export-section"},l.default.createElement("h3",null,"Additional Actions"),l.default.createElement("div",{className:"action-buttons"},l.default.createElement("button",{className:"action-btn",onClick:async()=>{if(A){C("exporting"),g("Copying to clipboard...");try{await(0,s.copyToClipboard)(A),C("success"),g("Copied to clipboard!"),setTimeout(()=>{C("idle"),g("")},2e3)}catch(e){C("error"),g("Failed to copy to clipboard"),setTimeout(()=>{C("idle"),g("")},2e3)}}},disabled:!A||"exporting"===m},"üìã Copy to Clipboard"),l.default.createElement("button",{className:"action-btn",onClick:()=>(0,s.exportAsSVG)(t,a,`graph-${Date.now()}.svg`),disabled:"exporting"===m},"üé® Export SVG"),l.default.createElement("button",{className:"action-btn",onClick:()=>(0,d.exportAsREADME)(t,a,"Project","ARCHITECTURE.md"),disabled:"exporting"===m},"üìñ Export as README"))),f&&l.default.createElement("div",{className:`status-message status-${m}`},f),l.default.createElement("div",{className:"graph-info"},l.default.createElement("span",null,t.length," nodes"),l.default.createElement("span",null,"‚Ä¢"),l.default.createElement("span",null,a.length," edges"),l.default.createElement("span",null,"‚Ä¢"),l.default.createElement("span",null,"Source: ",r))),l.default.createElement("style",null,p)))};const u=({icon:e,title:n,description:t,size:a,onClick:o,disabled:A})=>l.default.createElement("button",{className:"export-btn",onClick:o,disabled:A},l.default.createElement("span",{className:"export-icon"},e),l.default.createElement("div",{className:"export-info"},l.default.createElement("div",{className:"export-title"},n),l.default.createElement("div",{className:"export-desc"},t),l.default.createElement("div",{className:"export-size"},"~",a))),p='\n    .export-modal-overlay {\n        position: fixed;\n        top: 0;\n        left: 0;\n        right: 0;\n        bottom: 0;\n        background: rgba(0, 0, 0, 0.7);\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        z-index: 10000;\n        backdrop-filter: blur(4px);\n    }\n\n    .export-modal {\n        background: var(--am-panel-bg);\n        border-radius: 12px;\n        width: 90%;\n        max-width: 700px;\n        max-height: 90vh;\n        overflow-y: auto;\n        box-shadow: 0 8px 32px rgba(0, 0, 0, 0.5);\n        animation: modalSlideIn 0.3s ease-out;\n    }\n\n    @keyframes modalSlideIn {\n        from {\n            opacity: 0;\n            transform: translateY(-20px);\n        }\n        to {\n            opacity: 1;\n            transform: translateY(0);\n        }\n    }\n\n    .export-modal-header {\n        display: flex;\n        justify-content: space-between;\n        align-items: center;\n        padding: 20px 24px;\n        border-bottom: 1px solid var(--am-border);\n    }\n\n    .export-modal-header h2 {\n        margin: 0;\n        font-size: 20px;\n        color: var(--am-panel-fg);\n    }\n\n    .close-btn {\n        background: none;\n        border: none;\n        font-size: 28px;\n        color: var(--am-panel-fg);\n        cursor: pointer;\n        padding: 0;\n        width: 32px;\n        height: 32px;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        border-radius: 4px;\n        transition: background 0.2s;\n    }\n\n    .close-btn:hover {\n        background: var(--am-hover);\n    }\n\n    .export-modal-body {\n        padding: 24px;\n    }\n\n    .export-description {\n        margin: 0 0 24px 0;\n        color: var(--am-desc);\n        font-size: 14px;\n        line-height: 1.5;\n    }\n\n    .export-section {\n        margin-bottom: 24px;\n    }\n\n    .export-section h3 {\n        margin: 0 0 12px 0;\n        font-size: 16px;\n        font-weight: 600;\n        color: var(--am-panel-fg);\n    }\n\n    .section-hint {\n        margin: 0 0 12px 0;\n        font-size: 13px;\n        color: var(--am-desc);\n    }\n\n    .export-grid {\n        display: grid;\n        grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));\n        gap: 12px;\n    }\n\n    .export-btn {\n        background: var(--am-bg-lighter, #2d2d2d);\n        border: 1px solid var(--am-border);\n        border-radius: 8px;\n        padding: 16px;\n        cursor: pointer;\n        transition: all 0.2s;\n        text-align: left;\n    }\n\n    .export-btn:hover:not(:disabled) {\n        background: var(--am-hover);\n        border-color: var(--am-accent);\n        transform: translateY(-2px);\n    }\n\n    .export-btn:disabled {\n        opacity: 0.5;\n        cursor: not-allowed;\n    }\n\n    .export-icon {\n        font-size: 32px;\n        display: block;\n        margin-bottom: 8px;\n    }\n\n    .export-info {\n        display: flex;\n        flex-direction: column;\n        gap: 4px;\n    }\n\n    .export-title {\n        font-weight: 600;\n        color: var(--am-panel-fg);\n        font-size: 14px;\n    }\n\n    .export-desc {\n        font-size: 12px;\n        color: var(--am-desc);\n    }\n\n    .export-size {\n        font-size: 11px;\n        color: var(--am-accent);\n        margin-top: 4px;\n    }\n\n    .format-checkboxes {\n        display: flex;\n        flex-wrap: wrap;\n        gap: 12px;\n        margin-bottom: 16px;\n    }\n\n    .format-checkbox {\n        display: flex;\n        align-items: center;\n        gap: 6px;\n        padding: 6px 12px;\n        background: var(--am-bg-lighter, #2d2d2d);\n        border: 1px solid var(--am-border);\n        border-radius: 6px;\n        cursor: pointer;\n        transition: all 0.2s;\n    }\n\n    .format-checkbox:hover {\n        background: var(--am-hover);\n        border-color: var(--am-accent);\n    }\n\n    .format-checkbox input {\n        cursor: pointer;\n    }\n\n    .format-checkbox span {\n        font-size: 13px;\n        color: var(--am-panel-fg);\n    }\n\n    .bulk-export-btn {\n        width: 100%;\n        padding: 12px;\n        background: var(--am-btn-bg);\n        color: var(--am-btn-fg);\n        border: none;\n        border-radius: 6px;\n        font-size: 14px;\n        font-weight: 600;\n        cursor: pointer;\n        transition: background 0.2s;\n    }\n\n    .bulk-export-btn:hover:not(:disabled) {\n        background: var(--am-btn-hover);\n    }\n\n    .bulk-export-btn:disabled {\n        opacity: 0.5;\n        cursor: not-allowed;\n    }\n\n    .toggle-advanced {\n        background: none;\n        border: none;\n        color: var(--am-link);\n        font-size: 14px;\n        cursor: pointer;\n        padding: 8px 0;\n        text-align: left;\n    }\n\n    .toggle-advanced:hover {\n        text-decoration: underline;\n    }\n\n    .advanced-options {\n        margin-top: 16px;\n        padding: 16px;\n        background: var(--am-bg-lighter, #2d2d2d);\n        border-radius: 8px;\n    }\n\n    .options-group {\n        margin-bottom: 16px;\n    }\n\n    .options-group:last-child {\n        margin-bottom: 0;\n    }\n\n    .options-group h4 {\n        margin: 0 0 12px 0;\n        font-size: 14px;\n        font-weight: 600;\n        color: var(--am-panel-fg);\n    }\n\n    .options-group label {\n        display: flex;\n        align-items: center;\n        gap: 8px;\n        margin-bottom: 8px;\n        font-size: 13px;\n        color: var(--am-panel-fg);\n    }\n\n    .options-group input[type="range"] {\n        flex: 1;\n    }\n\n    .options-group select {\n        flex: 1;\n        padding: 4px 8px;\n        background: var(--am-input-bg);\n        color: var(--am-input-fg);\n        border: 1px solid var(--am-input-border);\n        border-radius: 4px;\n    }\n\n    .action-buttons {\n        display: flex;\n        flex-wrap: wrap;\n        gap: 8px;\n    }\n\n    .action-btn {\n        padding: 8px 16px;\n        background: var(--am-btn-secondary-bg);\n        color: var(--am-btn-secondary-fg);\n        border: none;\n        border-radius: 6px;\n        font-size: 13px;\n        cursor: pointer;\n        transition: background 0.2s;\n    }\n\n    .action-btn:hover:not(:disabled) {\n        background: var(--am-btn-secondary-hover);\n    }\n\n    .action-btn:disabled {\n        opacity: 0.5;\n        cursor: not-allowed;\n    }\n\n    .status-message {\n        padding: 12px;\n        border-radius: 6px;\n        margin-top: 16px;\n        font-size: 14px;\n        text-align: center;\n        animation: slideIn 0.3s ease-out;\n    }\n\n    @keyframes slideIn {\n        from {\n            opacity: 0;\n            transform: translateY(-10px);\n        }\n        to {\n            opacity: 1;\n            transform: translateY(0);\n        }\n    }\n\n    .status-idle {\n        display: none;\n    }\n\n    .status-exporting {\n        background: rgba(66, 153, 225, 0.2);\n        color: #4299e1;\n        border: 1px solid rgba(66, 153, 225, 0.3);\n    }\n\n    .status-success {\n        background: rgba(72, 187, 120, 0.2);\n        color: #48bb78;\n        border: 1px solid rgba(72, 187, 120, 0.3);\n    }\n\n    .status-error {\n        background: rgba(245, 101, 101, 0.2);\n        color: #f56565;\n        border: 1px solid rgba(245, 101, 101, 0.3);\n    }\n\n    .graph-info {\n        margin-top: 20px;\n        padding-top: 16px;\n        border-top: 1px solid var(--am-border);\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        gap: 8px;\n        font-size: 12px;\n        color: var(--am-desc);\n    }\n'},17990(e,n,t){var a,o=this&&this.__createBinding||(Object.create?function(e,n,t,a){void 0===a&&(a=t);var o=Object.getOwnPropertyDescriptor(n,t);o&&!("get"in o?!n.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return n[t]}}),Object.defineProperty(e,a,o)}:function(e,n,t,a){void 0===a&&(a=t),e[a]=n[t]}),A=this&&this.__setModuleDefault||(Object.create?function(e,n){Object.defineProperty(e,"default",{enumerable:!0,value:n})}:function(e,n){e.default=n}),r=this&&this.__importStar||(a=function(e){return a=Object.getOwnPropertyNames||function(e){var n=[];for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(n[n.length]=t);return n},a(e)},function(e){if(e&&e.__esModule)return e;var n={};if(null!=e)for(var t=a(e),r=0;r<t.length;r++)"default"!==t[r]&&o(n,e,t[r]);return A(n,e),n});Object.defineProperty(n,"__esModule",{value:!0}),n.ImpactAnalysisPanel=void 0,n.useImpactAnalysis=function(e,n=3){const[t,a]=(0,l.useState)(null),[o,A]=(0,l.useState)(!1),[r,i]=(0,l.useState)(null),s=async e=>{A(!0),i(null);try{const t=await fetch(`http://localhost:8000/api/impact/${encodeURIComponent(e)}?depth=${n}`);if(!t.ok)throw new Error(`HTTP ${t.status}: ${t.statusText}`);const o=await t.json(),A={sourceNodeId:e,affectedNodes:o.affected_nodes?.map(e=>({nodeId:e.node_id||e.id,distance:e.distance||1,impactType:1===e.distance?"direct":"indirect"}))||[],maxDepth:o.max_depth||n,totalImpact:o.total_impact||o.affected_nodes?.length||0};a(A)}catch(e){const n=e instanceof Error?e.message:"Failed to fetch impact analysis";i(n),console.error("Impact analysis error:",e)}finally{A(!1)}};return(0,l.useEffect)(()=>{e&&s(e)},[e,n]),{data:t,isLoading:o,error:r,fetchImpact:s}};const l=r(t(96540));n.ImpactAnalysisPanel=({data:e,onClose:n,onNodeClick:t})=>{const[a,o]=(0,l.useState)(null);if(!e)return null;const A=new Map;e.affectedNodes.forEach(e=>{const n=A.get(e.distance)||[];n.push(e),A.set(e.distance,n)});const r=e=>{const n=["#e74c3c","#e67e22","#f39c12","#3498db"];return n[Math.min(e-1,n.length-1)]};return l.default.createElement("div",{className:"impact-analysis-panel"},l.default.createElement("div",{className:"impact-header"},l.default.createElement("div",{className:"impact-title"},l.default.createElement("span",{className:"impact-icon"},"üí•"),l.default.createElement("span",null,"Impact Analysis")),l.default.createElement("button",{className:"impact-close-btn",onClick:n,title:"Close"},"‚úï")),l.default.createElement("div",{className:"impact-summary"},l.default.createElement("div",{className:"impact-stat"},l.default.createElement("span",{className:"stat-label"},"Total Impact:"),l.default.createElement("span",{className:"stat-value"},e.totalImpact," nodes")),l.default.createElement("div",{className:"impact-stat"},l.default.createElement("span",{className:"stat-label"},"Max Distance:"),l.default.createElement("span",{className:"stat-value"},e.maxDepth," hops"))),l.default.createElement("div",{className:"impact-legend"},l.default.createElement("div",{className:"legend-title"},"Impact Levels:"),l.default.createElement("div",{className:"legend-items"},l.default.createElement("div",{className:"legend-item"},l.default.createElement("div",{className:"legend-color",style:{backgroundColor:"#e74c3c"}}),l.default.createElement("span",null,"1 hop (Direct)")),l.default.createElement("div",{className:"legend-item"},l.default.createElement("div",{className:"legend-color",style:{backgroundColor:"#e67e22"}}),l.default.createElement("span",null,"2 hops")),l.default.createElement("div",{className:"legend-item"},l.default.createElement("div",{className:"legend-color",style:{backgroundColor:"#f39c12"}}),l.default.createElement("span",null,"3 hops")),l.default.createElement("div",{className:"legend-item"},l.default.createElement("div",{className:"legend-color",style:{backgroundColor:"#3498db"}}),l.default.createElement("span",null,"4+ hops")))),l.default.createElement("div",{className:"impact-levels"},Array.from(A.entries()).sort(([e],[n])=>e-n).map(([e,n])=>l.default.createElement("div",{key:e,className:"impact-level"},l.default.createElement("div",{className:"impact-level-header",onClick:()=>o(a===e?null:e)},l.default.createElement("div",{className:"level-indicator",style:{backgroundColor:r(e)}}),l.default.createElement("div",{className:"level-info"},l.default.createElement("span",{className:"level-distance"},e," hop",e>1?"s":""),l.default.createElement("span",{className:"level-count"},n.length," node",n.length>1?"s":"")),l.default.createElement("span",{className:"level-toggle"},a===e?"‚ñº":"‚ñ∂")),a===e&&l.default.createElement("div",{className:"impact-level-nodes"},n.map(e=>l.default.createElement("div",{key:e.nodeId,className:"impact-node-item",onClick:()=>t?.(e.nodeId)},l.default.createElement("span",{className:"node-type-badge"},"direct"===e.impactType?"‚Üí":"‚§∑"),l.default.createElement("span",{className:"node-id"},e.nodeId))))))),l.default.createElement("div",{className:"impact-actions"},l.default.createElement("button",{className:"impact-btn",onClick:n},"Close")))}},25067(e,n){Object.defineProperty(n,"__esModule",{value:!0}),n.ArchMindWebviewApiClient=void 0,n.ArchMindWebviewApiClient=class{constructor(e="http://localhost:8000",n=3e4){this.abortController=null,this.config={graphEngineUrl:e,timeout:n}}async request(e,n={}){this.abortController=new AbortController;const t=setTimeout(()=>this.abortController?.abort(),this.config.timeout),a=`${this.config.graphEngineUrl}${e}`,o={"Content-Type":"application/json",...n.headers||{}};try{const e=await fetch(a,{...n,headers:o,signal:this.abortController.signal});if(clearTimeout(t),!e.ok){const n=await e.text();let t=`HTTP ${e.status}: ${e.statusText}`;try{const e=JSON.parse(n);t=e.message||e.error||t}catch{}throw new Error(t)}return await e.json()}catch(e){if(clearTimeout(t),e instanceof Error&&"AbortError"===e.name)throw new Error("Request timed out");throw e instanceof Error?e:new Error("Unknown error occurred")}}async getModuleBoundaries(e){return this.request(`/api/graph/${encodeURIComponent(e)}/boundaries`)}async getDependencies(e){return this.request(`/api/graph/${encodeURIComponent(e)}/dependencies`)}async getCommunication(e){return this.request(`/api/graph/${encodeURIComponent(e)}/communication`)}async getArchitectureInsights(e){return this.request(`/api/analyze/${encodeURIComponent(e)}/architecture`)}}},25375(e,n){function t(e,n,t="TB"){let a="\n## Graph Diagram\n\n```mermaid\n";return a+=`graph ${t}\n`,e.forEach(e=>{const n=r(e.id),t=l(e.data?.label||e.id);let o="";switch(e.data?.type||"default"){case"directory":case"folder":case"class":o=`${n}[${t}]`;break;case"function":o=`${n}([${t}])`;break;case"file":o=`${n}(${t})`;break;default:o=`${n}{{${t}}}`}a+=`  ${o}\n`}),a+="\n",n.forEach(e=>{const n=r(e.source),t=r(e.target),o=e.label?`|${l(String(e.label))}|`:"";a+=`  ${n} --\x3e${o} ${t}\n`}),a+="```\n\n",a}function a(e,n){let t="## Metadata\n\n";return t+=`- **Generated**: ${(new Date).toLocaleString()}\n`,t+=`- **Total Nodes**: ${e.length}\n`,t+=`- **Total Edges**: ${n.length}\n`,t+="- **Export Format**: Markdown\n",t+="\n",t}function o(e,n){let t="## Statistics\n\n";const a=new Map;e.forEach(e=>{const n=e.data?.type||"default";a.set(n,(a.get(n)||0)+1)}),t+="### Node Type Distribution\n\n",t+="| Type | Count | Percentage |\n",t+="|------|-------|------------|\n",Array.from(a.entries()).sort((e,n)=>n[1]-e[1]).forEach(([n,a])=>{const o=(a/e.length*100).toFixed(1);t+=`| ${n} | ${a} | ${o}% |\n`}),t+="\n";const o=e.length>0?(n.length/e.length).toFixed(2):"0";t+="### Connection Statistics\n\n",t+=`- **Average connections per node**: ${o}\n`,t+=`- **Total connections**: ${n.length}\n`;const A=new Map;n.forEach(e=>{A.set(e.source,(A.get(e.source)||0)+1),A.set(e.target,(A.get(e.target)||0)+1)});const r=Array.from(A.entries()).sort((e,n)=>n[1]-e[1]).slice(0,5);return r.length>0&&(t+="\n### Most Connected Nodes\n\n",r.forEach(([n,a])=>{const o=e.find(e=>e.id===n);t+=`- **${o?.data?.label||n}**: ${a} connections\n`})),t+="\n",t}function A(e,n){if("function"==typeof acquireVsCodeApi)acquireVsCodeApi().postMessage({command:"saveFile",data:e,filename:n,mimeType:"text/markdown;charset=utf-8"});else{const t=new Blob([e],{type:"text/markdown;charset=utf-8"}),a=URL.createObjectURL(t),o=document.createElement("a");o.href=a,o.download=n,document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL(a)}}function r(e){const n=e.replace(/[^a-zA-Z0-9_]/g,"_");return n.match(/^[0-9]/)?`node_${n}`:n}function l(e){return e.replace(/\\/g,"\\\\").replace(/\[/g,"\\[").replace(/\]/g,"\\]").replace(/\(/g,"\\(").replace(/\)/g,"\\)").replace(/\|/g,"\\|")}Object.defineProperty(n,"__esModule",{value:!0}),n.DEFAULT_MARKDOWN_OPTIONS=void 0,n.exportAsMarkdown=function(e,r,i="graph.md",s={}){const c={...n.DEFAULT_MARKDOWN_OPTIONS,...s};let d="";switch(d+="# Architecture Graph\n\n",c.includeMetadata&&(d+=a(e,r)),c.includeStats&&(d+=o(e,r)),c.format){case"mermaid":d+=t(e,r,c.mermaidDirection);break;case"github":d+=function(e,n){let t="## Graph Structure\n\n";t+="### Nodes\n\n";const a=new Map;return e.forEach(e=>{const n=e.data?.type||"default";a.has(n)||a.set(n,[]),a.get(n).push(e)}),a.forEach((e,n)=>{t+=`#### ${n.charAt(0).toUpperCase()+n.slice(1)}\n\n`,e.forEach(e=>{const n=e.data?.label||e.id;t+=`- ${n}\n`}),t+="\n"}),t+="### Connections\n\n",n.forEach(n=>{const a=e.find(e=>e.id===n.source),o=e.find(e=>e.id===n.target),A=a?.data?.label||n.source,r=o?.data?.label||n.target;t+=`- ${A} ‚Üí ${r}\n`}),t+="\n",t}(e,r);break;case"standard":d+=function(e,n){let t="## Graph Overview\n\n";return t+=`This graph contains ${e.length} nodes and ${n.length} edges.\n\n`,t+="### Visual Representation\n\n",t+="```\n",e.slice(0,20).forEach(a=>{const o=a.data?.label||a.id;t+=`[${o}]\n`,n.filter(e=>e.source===a.id).forEach(n=>{const a=e.find(e=>e.id===n.target),o=a?.data?.label||n.target;t+=`  ‚îî‚îÄ> ${o}\n`})}),e.length>20&&(t+=`\n... and ${e.length-20} more nodes\n`),t+="```\n\n",t}(e,r)}c.includeNodeList&&(d+=function(e){let n="## Node Details\n\n";return n+="| ID | Label | Type | Position |\n",n+="|----|-------|------|----------|\n",e.forEach(e=>{const t=l(e.id),a=l(e.data?.label||e.id),o=e.data?.type||"default",A=`(${Math.round(e.position.x)}, ${Math.round(e.position.y)})`;n+=`| ${t} | ${a} | ${o} | ${A} |\n`}),n+="\n",n}(e)),c.includeEdgeList&&(d+=function(e,n){let t="## Edge Details\n\n";return t+="| Source | Target | Type |\n",t+="|--------|--------|------|\n",e.forEach(e=>{const a=n.find(n=>n.id===e.source),o=n.find(n=>n.id===e.target),A=l(a?.data?.label||e.source),r=l(o?.data?.label||e.target),i=e.type||"default";t+=`| ${A} | ${r} | ${i} |\n`}),t+="\n",t}(r,e)),A(d,i)},n.generateMermaidDiagram=t,n.exportAsREADME=function(e,n,r="Project",l="ARCHITECTURE.md"){let i=`# ${r} - Architecture\n\n`;i+="## Overview\n\n",i+=`This document describes the architecture of ${r}.\n\n`,i+=a(e,n),i+=o(e,n),i+=t(e,n,"TB"),A(i,l)},n.getMarkdownSize=function(e,n){const a=t(e,n);return new Blob([a]).size},n.DEFAULT_MARKDOWN_OPTIONS={format:"mermaid",includeMetadata:!0,includeStats:!0,includeNodeList:!1,includeEdgeList:!1,mermaidDirection:"TB"}},27527(e,n,t){var a,o=this&&this.__createBinding||(Object.create?function(e,n,t,a){void 0===a&&(a=t);var o=Object.getOwnPropertyDescriptor(n,t);o&&!("get"in o?!n.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return n[t]}}),Object.defineProperty(e,a,o)}:function(e,n,t,a){void 0===a&&(a=t),e[a]=n[t]}),A=this&&this.__setModuleDefault||(Object.create?function(e,n){Object.defineProperty(e,"default",{enumerable:!0,value:n})}:function(e,n){e.default=n}),r=this&&this.__importStar||(a=function(e){return a=Object.getOwnPropertyNames||function(e){var n=[];for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(n[n.length]=t);return n},a(e)},function(e){if(e&&e.__esModule)return e;var n={};if(null!=e)for(var t=a(e),r=0;r<t.length;r++)"default"!==t[r]&&o(n,e,t[r]);return A(n,e),n});Object.defineProperty(n,"__esModule",{value:!0}),n.KeyboardHelp=void 0,n.useKeyboardNavigation=function(e){const{nodes:n,onNodeSelect:t,onNodeActivate:a,getCurrentNodeId:o,getConnectedNodes:A,onFocusSearch:r,onShowHelp:i}=e,s=(0,l.useRef)(!1),c=(0,l.useCallback)(e=>{const t=o();if(!t||0===n.length)return n[0]?.id||null;const a=n.findIndex(e=>e.id===t);if(-1===a)return null;switch(e){case"down":return n[(a+1)%n.length]?.id||null;case"up":return n[(a-1+n.length)%n.length]?.id||null;case"right":case"left":const o=A(t);return o.length>0?o[0]:"right"===e?n[(a+1)%n.length]?.id||null:n[(a-1+n.length)%n.length]?.id||null;default:return null}},[n,o,A]),d=(0,l.useCallback)(e=>{const n=c(e);n&&t(n)},[c,t]),u=(0,l.useCallback)(e=>{const a=o();if(!a)return void(n.length>0&&t(n[0].id));const r=A(a);if(0===r.length)return void d(e?"up":"down");const l=r.indexOf(a),i=e?(l-1+r.length)%r.length:(l+1)%r.length;t(r[i])},[o,A,n,t,d]);return(0,l.useEffect)(()=>{const e=e=>{const A=e.target,l="INPUT"===A.tagName||"TEXTAREA"===A.tagName||A.isContentEditable;if(["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"].includes(e.key)&&!l){e.preventDefault();const n=e.key.replace("Arrow","").toLowerCase();return void d(n)}if("Enter"===e.key&&!l){const n=o();return void(n&&(e.preventDefault(),a(n)))}return"Tab"!==e.key||l?"/"!==e.key||l?"?"!==e.key||l?"Home"!==e.key||l?"End"!==e.key||l?void 0:(e.preventDefault(),void(n.length>0&&t(n[n.length-1].id))):(e.preventDefault(),void(n.length>0&&t(n[0].id))):(e.preventDefault(),void i?.()):(e.preventDefault(),void r?.()):(e.preventDefault(),void u(e.shiftKey))};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[n,d,u,o,a,r,i,t]),{isNavigating:s.current}};const l=r(t(96540));n.KeyboardHelp=({onClose:e})=>l.default.createElement("div",{className:"keyboard-help-overlay",onClick:e},l.default.createElement("div",{className:"keyboard-help-panel",onClick:e=>e.stopPropagation()},l.default.createElement("div",{className:"help-header"},l.default.createElement("h3",{className:"help-title"},"‚å®Ô∏è Keyboard Shortcuts"),l.default.createElement("button",{className:"help-close-btn",onClick:e},"‚úï")),l.default.createElement("div",{className:"help-sections"},l.default.createElement("div",{className:"help-section"},l.default.createElement("h4",{className:"help-section-title"},"Navigation"),l.default.createElement("div",{className:"help-shortcuts"},l.default.createElement("div",{className:"help-shortcut"},l.default.createElement("kbd",null,"‚Üë"),l.default.createElement("kbd",null,"‚Üì"),l.default.createElement("kbd",null,"‚Üê"),l.default.createElement("kbd",null,"‚Üí"),l.default.createElement("span",null,"Move between nodes")),l.default.createElement("div",{className:"help-shortcut"},l.default.createElement("kbd",null,"Enter"),l.default.createElement("span",null,"Select/activate node")),l.default.createElement("div",{className:"help-shortcut"},l.default.createElement("kbd",null,"Tab"),l.default.createElement("span",null,"Cycle through connected nodes")),l.default.createElement("div",{className:"help-shortcut"},l.default.createElement("kbd",null,"Shift"),"+",l.default.createElement("kbd",null,"Tab"),l.default.createElement("span",null,"Cycle backward")),l.default.createElement("div",{className:"help-shortcut"},l.default.createElement("kbd",null,"Home"),l.default.createElement("span",null,"First node")),l.default.createElement("div",{className:"help-shortcut"},l.default.createElement("kbd",null,"End"),l.default.createElement("span",null,"Last node")))),l.default.createElement("div",{className:"help-section"},l.default.createElement("h4",{className:"help-section-title"},"Search & View"),l.default.createElement("div",{className:"help-shortcuts"},l.default.createElement("div",{className:"help-shortcut"},l.default.createElement("kbd",null,"/"),l.default.createElement("span",null,"Focus search")),l.default.createElement("div",{className:"help-shortcut"},l.default.createElement("kbd",null,"Ctrl"),"+",l.default.createElement("kbd",null,"F"),l.default.createElement("span",null,"Open search")),l.default.createElement("div",{className:"help-shortcut"},l.default.createElement("kbd",null,"Esc"),l.default.createElement("span",null,"Close panels")),l.default.createElement("div",{className:"help-shortcut"},l.default.createElement("kbd",null,"?"),l.default.createElement("span",null,"Show this help")))),l.default.createElement("div",{className:"help-section"},l.default.createElement("h4",{className:"help-section-title"},"Zoom & Theme"),l.default.createElement("div",{className:"help-shortcuts"},l.default.createElement("div",{className:"help-shortcut"},l.default.createElement("kbd",null,"Ctrl"),"+",l.default.createElement("kbd",null,"+"),l.default.createElement("span",null,"Zoom in")),l.default.createElement("div",{className:"help-shortcut"},l.default.createElement("kbd",null,"Ctrl"),"+",l.default.createElement("kbd",null,"‚àí"),l.default.createElement("span",null,"Zoom out")),l.default.createElement("div",{className:"help-shortcut"},l.default.createElement("kbd",null,"Ctrl"),"+",l.default.createElement("kbd",null,"0"),l.default.createElement("span",null,"Fit to screen")),l.default.createElement("div",{className:"help-shortcut"},l.default.createElement("kbd",null,"Ctrl"),"+",l.default.createElement("kbd",null,"Shift"),"+",l.default.createElement("kbd",null,"T"),l.default.createElement("span",null,"Toggle theme"))))),l.default.createElement("div",{className:"help-footer"},l.default.createElement("button",{className:"help-close-button",onClick:e},"Got it!"))))},38891(e,n,t){var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.LocalOutline=void 0;const o=a(t(96540)),A=({symbol:e,depth:n})=>{const t={function:"‚ö°",method:"Md",class:"üè∑Ô∏è",variable:"Vx"}[e.kind]||"‚Ä¢";return o.default.createElement("div",{className:"outline-item",style:{paddingLeft:15*n+"px"}},o.default.createElement("span",{className:"outline-icon"},t),o.default.createElement("span",{className:"outline-name"},e.name),o.default.createElement("span",{className:"outline-line"},":",e.startLine))},r=(e,n=0)=>e.map((e,t)=>o.default.createElement(o.default.Fragment,{key:`${e.name}-${t}`},o.default.createElement(A,{symbol:e,depth:n}),e.children&&r(e.children,n+1)));n.LocalOutline=({fileName:e,symbols:n,isVisible:t,onClose:a})=>t&&n&&0!==n.length?o.default.createElement("div",{className:"local-outline-panel"},o.default.createElement("div",{className:"outline-header"},o.default.createElement("span",{className:"outline-title"},"üìù ",e.split(/[/\\]/).pop()),o.default.createElement("button",{className:"outline-close",onClick:a},"√ó")),o.default.createElement("div",{className:"outline-content"},r(n)),o.default.createElement("style",null,"\n                .local-outline-panel {\n                    position: absolute;\n                    top: 20px;\n                    right: 20px;\n                    width: 250px;\n                    max-height: 400px;\n                    background: var(--am-panel-bg);\n                    border: 1px solid var(--am-border);\n                    border-radius: 6px;\n                    box-shadow: 0 4px 12px rgba(0,0,0,0.2);\n                    z-index: 1000;\n                    display: flex;\n                    flex-direction: column;\n                    color: var(--am-panel-fg);\n                    font-size: 12px;\n                }\n                .outline-header {\n                    padding: 8px 12px;\n                    border-bottom: 1px solid var(--am-border);\n                    display: flex;\n                    justify-content: space-between;\n                    align-items: center;\n                    background: rgba(255,255,255,0.05);\n                }\n                .outline-title {\n                    font-weight: 600;\n                    white-space: nowrap;\n                    overflow: hidden;\n                    text-overflow: ellipsis;\n                }\n                .outline-close {\n                    background: none;\n                    border: none;\n                    color: var(--am-panel-fg);\n                    cursor: pointer;\n                    font-size: 16px;\n                }\n                .outline-content {\n                    overflow-y: auto;\n                    padding: 8px;\n                    flex: 1;\n                }\n                .outline-item {\n                    padding: 2px 4px;\n                    display: flex;\n                    align-items: center;\n                }\n                .outline-icon {\n                    margin-right: 6px;\n                    opacity: 0.7;\n                    width: 16px;\n                    text-align: center;\n                }\n                .outline-line {\n                    margin-left: auto;\n                    opacity: 0.5;\n                    font-size: 10px;\n                }\n            ")):null},42925(e,n,t){Object.defineProperty(n,"__esModule",{value:!0}),n.useZoomPan=function(e={}){const{minZoom:n=.1,maxZoom:t=4,defaultZoom:l=1,zoomStep:i=.2,animationDuration:s=300}=e,c=(0,o.useReactFlow)(),[d,u]=(0,a.useState)({x:0,y:0,zoom:l});(0,a.useEffect)(()=>{const e=()=>{const e=c.getViewport();u(e)};e();const n=setInterval(e,100);return()=>clearInterval(n)},[c]);const p=(0,a.useCallback)(()=>{const e=(0,A.clamp)(d.zoom+i,n,t);c.setViewport({x:d.x,y:d.y,zoom:e},{duration:s})},[d,i,n,t,s,c]),m=(0,a.useCallback)(()=>{const e=(0,A.clamp)(d.zoom-i,n,t);c.setViewport({x:d.x,y:d.y,zoom:e},{duration:s})},[d,i,n,t,s,c]),C=(0,a.useCallback)((e,a)=>{const o=(0,A.clamp)(e,n,t);if(a){const{x:e,y:n,zoom:t}=d,A=(a.x-e)/t,r=(a.y-n)/t,l=a.x-A*o,i=a.y-r*o;c.setViewport({x:l,y:i,zoom:o},{duration:s})}else c.setViewport({x:d.x,y:d.y,zoom:o},{duration:s})},[d,n,t,s,c]),f=(0,a.useCallback)(()=>{c.fitView({padding:.2,duration:s,minZoom:n,maxZoom:t})},[c,s,n,t]),g=(0,a.useCallback)(()=>{c.setViewport({x:0,y:0,zoom:l},{duration:s})},[c,l,s]),B=(0,a.useCallback)((e,n)=>{c.setViewport({x:e,y:n,zoom:d.zoom},{duration:s})},[d.zoom,s,c]),h=(0,a.useCallback)((e,n)=>{c.setViewport({x:d.x+e,y:d.y+n,zoom:d.zoom},{duration:0})},[d,c]),I=(0,a.useCallback)(()=>{c.fitView({padding:.1,duration:s})},[c,s]),b=(0,a.useCallback)(e=>{"fit"===e.zoom?f():C(e.zoom)},[f,C]),x=d.zoom<t,y=d.zoom>n;return{zoom:d.zoom,zoomPercent:(0,A.zoomToPercent)(d.zoom),viewport:d,zoomIn:p,zoomOut:m,zoomTo:C,zoomToFit:f,resetZoom:g,panTo:B,panBy:h,centerView:I,presets:r,applyPreset:b,canZoomIn:x,canZoomOut:y}},n.useZoomPanKeyboard=function(e){const{zoomIn:n,zoomOut:t,zoomToFit:o,resetZoom:A}=e;(0,a.useEffect)(()=>{const e=e=>{!e.ctrlKey&&!e.metaKey||"+"!==e.key&&"="!==e.key||(e.preventDefault(),n()),(e.ctrlKey||e.metaKey)&&"-"===e.key&&(e.preventDefault(),t()),(e.ctrlKey||e.metaKey)&&"0"===e.key&&(e.preventDefault(),o()),(e.ctrlKey||e.metaKey)&&"1"===e.key&&(e.preventDefault(),A())};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[n,t,o,A])};const a=t(96540),o=t(20072),A=t(52151),r=[{label:"Fit to Screen",zoom:"fit",icon:"‚ä°"},{label:"50%",zoom:.5,icon:"‚àí"},{label:"100%",zoom:1,icon:"‚Ä¢"},{label:"150%",zoom:1.5,icon:"+"},{label:"200%",zoom:2,icon:"++"}]},46906(e,n,t){var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.ClusterNode=function({data:e}){const{cluster:n,onExpand:t}=e,{label:a,metrics:r}=n;return o.default.createElement("div",{className:"cluster-node"},o.default.createElement(A.Handle,{type:"target",position:A.Position.Top}),o.default.createElement("div",{className:"cluster-header"},o.default.createElement("div",{className:"cluster-icon"},"üìÅ"),o.default.createElement("div",{className:"cluster-title"},a)),o.default.createElement("div",{className:"cluster-metrics"},o.default.createElement("div",{className:"metric"},o.default.createElement("span",{className:"metric-label"},"Nodes:"),o.default.createElement("span",{className:"metric-value"},r.nodeCount)),r.fileCount>0&&o.default.createElement("div",{className:"metric"},o.default.createElement("span",{className:"metric-label"},"Files:"),o.default.createElement("span",{className:"metric-value"},r.fileCount)),r.functionCount>0&&o.default.createElement("div",{className:"metric"},o.default.createElement("span",{className:"metric-label"},"Functions:"),o.default.createElement("span",{className:"metric-value"},r.functionCount)),r.classCount>0&&o.default.createElement("div",{className:"metric"},o.default.createElement("span",{className:"metric-label"},"Classes:"),o.default.createElement("span",{className:"metric-value"},r.classCount))),o.default.createElement("button",{className:"cluster-expand-button",onClick:e=>{e.stopPropagation(),t(n.id)},title:"Expand cluster"},"Expand ‚ñ∂"),o.default.createElement(A.Handle,{type:"source",position:A.Position.Bottom}))};const o=a(t(96540)),A=t(20072)},47053(e,n,t){var a,o=this&&this.__createBinding||(Object.create?function(e,n,t,a){void 0===a&&(a=t);var o=Object.getOwnPropertyDescriptor(n,t);o&&!("get"in o?!n.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return n[t]}}),Object.defineProperty(e,a,o)}:function(e,n,t,a){void 0===a&&(a=t),e[a]=n[t]}),A=this&&this.__setModuleDefault||(Object.create?function(e,n){Object.defineProperty(e,"default",{enumerable:!0,value:n})}:function(e,n){e.default=n}),r=this&&this.__importStar||(a=function(e){return a=Object.getOwnPropertyNames||function(e){var n=[];for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(n[n.length]=t);return n},a(e)},function(e){if(e&&e.__esModule)return e;var n={};if(null!=e)for(var t=a(e),r=0;r<t.length;r++)"default"!==t[r]&&o(n,e,t[r]);return A(n,e),n});Object.defineProperty(n,"__esModule",{value:!0}),n.ModuleBoundaryDiagram=void 0;const l=r(t(96540)),i=t(25067),s=["physical","logical","architectural"],c={physical:"Workspaces, repos, and packages detected from manifests.",logical:"Directory or namespace clusters inferred from structure.",architectural:"Layered groupings inferred from heuristics."},d={Presentation:"layer-pill layer-presentation",BusinessLogic:"layer-pill layer-business",DataAccess:"layer-pill layer-data",Infrastructure:"layer-pill layer-infra",Unknown:"layer-pill layer-unknown"};n.ModuleBoundaryDiagram=()=>{const e=(0,l.useMemo)(()=>acquireVsCodeApi(),[]),n=(0,l.useMemo)(()=>new i.ArchMindWebviewApiClient,[]),[t,a]=(0,l.useState)(null),[o,A]=(0,l.useState)(!1),[r,u]=(0,l.useState)(null),[p,m]=(0,l.useState)(null),[C,f]=(0,l.useState)(null);(0,l.useEffect)(()=>{const n=e=>{const n=e.data;if("architectureData"===n?.command){const e=n.data?.repo_id||n.data?.repoId;e&&a(e)}};return window.addEventListener("message",n),e.postMessage({command:"requestArchitecture"}),()=>window.removeEventListener("message",n)},[e]);const g=async()=>{if(t)try{A(!0),u(null);const e=await n.getModuleBoundaries(t);m(e)}catch(e){u(e instanceof Error?e.message:"Failed to load boundaries")}finally{A(!1)}};(0,l.useEffect)(()=>{if(!t)return;let e=!0;return(async()=>{e&&await g()})(),()=>{e=!1}},[t]);const B=(0,l.useMemo)(()=>{const e={};return(p?.boundaries||[]).forEach(n=>{const t=n.type||"unknown";e[t]||(e[t]=[]),e[t].push(n)}),s.filter(n=>e[n]?.length).map(n=>({title:n[0].toUpperCase()+n.slice(1),description:c[n]||"",boundaries:e[n]||[]}))},[p]),h=p?.total_boundaries??0;return l.default.createElement("div",{className:"boundary-view"},l.default.createElement("div",{className:"boundary-header"},l.default.createElement("div",null,l.default.createElement("h2",{className:"boundary-title"},"Module Boundaries"),l.default.createElement("p",{className:"boundary-subtitle"},"Detected boundaries grouped by type.")),l.default.createElement("div",{className:"boundary-actions"},l.default.createElement("button",{className:"boundary-refresh",onClick:g,disabled:!t||o},"Refresh"))),o&&l.default.createElement("div",{className:"boundary-state"},"Loading boundaries..."),r&&l.default.createElement("div",{className:"boundary-state boundary-error"},r),!o&&!r&&0===h&&l.default.createElement("div",{className:"boundary-state"},"No boundaries available yet."),!o&&!r&&h>0&&l.default.createElement("div",{className:"boundary-summary"},l.default.createElement("span",{className:"boundary-pill"},h," boundaries"),t&&l.default.createElement("span",{className:"boundary-pill muted"},"Repo: ",t)),l.default.createElement("div",{className:"boundary-grid"},B.map(e=>l.default.createElement("div",{key:e.title,className:"boundary-column"},l.default.createElement("div",{className:"boundary-column-header"},l.default.createElement("h3",null,e.title),l.default.createElement("p",null,e.description)),l.default.createElement("div",{className:"boundary-cards"},e.boundaries.map(e=>{const n=C===e.id,t=d[e.layer||"Unknown"]||d.Unknown;return l.default.createElement("div",{key:e.id,className:"boundary-card"},l.default.createElement("div",{className:"boundary-card-header"},l.default.createElement("div",null,l.default.createElement("div",{className:"boundary-name"},e.name),e.path&&l.default.createElement("div",{className:"boundary-path"},e.path)),e.layer&&l.default.createElement("span",{className:t},e.layer)),l.default.createElement("div",{className:"boundary-card-meta"},l.default.createElement("span",null,e.file_count," files"),l.default.createElement("button",{className:"boundary-toggle",onClick:()=>f(n?null:e.id)},n?"Hide files":"Show files")),n&&l.default.createElement("ul",{className:"boundary-files"},e.files.slice(0,15).map(e=>l.default.createElement("li",{key:e},e)),e.files.length>15&&l.default.createElement("li",{className:"boundary-more"},"+",e.files.length-15," more")))}))))))}},49166(e,n,t){var a,o=this&&this.__createBinding||(Object.create?function(e,n,t,a){void 0===a&&(a=t);var o=Object.getOwnPropertyDescriptor(n,t);o&&!("get"in o?!n.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return n[t]}}),Object.defineProperty(e,a,o)}:function(e,n,t,a){void 0===a&&(a=t),e[a]=n[t]}),A=this&&this.__setModuleDefault||(Object.create?function(e,n){Object.defineProperty(e,"default",{enumerable:!0,value:n})}:function(e,n){e.default=n}),r=this&&this.__importStar||(a=function(e){return a=Object.getOwnPropertyNames||function(e){var n=[];for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(n[n.length]=t);return n},a(e)},function(e){if(e&&e.__esModule)return e;var n={};if(null!=e)for(var t=a(e),r=0;r<t.length;r++)"default"!==t[r]&&o(n,e,t[r]);return A(n,e),n});Object.defineProperty(n,"__esModule",{value:!0}),n.ServiceCommunicationDiagram=void 0;const l=r(t(96540)),i=r(t(20072));t(90036);const s=t(60914),c=t(25067);function d(e,n,t){const a={endpoint:{background:"#0ea5e9",color:"#0f172a"},rpc:{background:"#f472b6",color:"#0f172a"},queue:{background:"#f59e0b",color:"#0f172a"},compose:{background:"#22c55e",color:"#0f172a"},file:{background:"#1e293b",color:"#e2e8f0"}};return{id:e,data:{label:n,type:t},position:{x:0,y:0},style:{padding:"8px 10px",borderRadius:"8px",border:"1px solid #0f172a",fontSize:11,...a[t]||a.file},width:200}}n.ServiceCommunicationDiagram=()=>{const e=(0,l.useMemo)(()=>acquireVsCodeApi(),[]),n=(0,l.useMemo)(()=>new c.ArchMindWebviewApiClient,[]),[t,a]=(0,l.useState)(null),[o,A]=(0,l.useState)(!1),[r,u]=(0,l.useState)(null),[p,m]=(0,l.useState)(null),[C,f]=(0,l.useState)([]),[g,B]=(0,l.useState)([]),[h,I]=(0,l.useState)({http:!0,rpc:!0,queues:!0,compose:!0});return(0,l.useEffect)(()=>{const n=e=>{const n=e.data;if("architectureData"===n?.command){const e=n.data?.repo_id||n.data?.repoId;e&&a(e)}};return window.addEventListener("message",n),e.postMessage({command:"requestArchitecture"}),()=>window.removeEventListener("message",n)},[e]),(0,l.useEffect)(()=>{if(!t)return;let e=!0;return(async()=>{try{A(!0),u(null);const a=await n.getCommunication(t);if(!e)return;m(a)}catch(n){if(!e)return;u(n instanceof Error?n.message:"Failed to load communication data")}finally{e&&A(!1)}})(),()=>{e=!1}},[n,t]),(0,l.useEffect)(()=>{if(!p)return;const e=new Map,n=[];h.http&&p.endpoints.forEach(t=>{const a=`endpoint:${t.method}:${t.url}`;e.set(a,d(a,`${t.method} ${t.url}`,"endpoint")),t.services.forEach(t=>{const o=`compose:${t}`;e.set(o,d(o,t,"compose")),n.push({id:`${a}->${o}`,source:a,target:o,style:{stroke:"#38bdf8",strokeWidth:1.4}})})}),h.rpc&&p.rpc_services.forEach(t=>{const a=`rpc:${t.name}`;e.set(a,d(a,t.name,"rpc")),t.callers.forEach(t=>{const o=`file:${t}`;e.set(o,d(o,t,"file")),n.push({id:`${o}->${a}`,source:o,target:a,style:{stroke:"#f472b6",strokeWidth:1.4}})})}),h.queues&&p.queues.forEach(t=>{const a=`queue:${t.topic}`;e.set(a,d(a,t.topic,"queue")),t.publishers.forEach(t=>{const o=`file:${t}`;e.set(o,d(o,t,"file")),n.push({id:`${o}->${a}`,source:o,target:a,style:{stroke:"#f59e0b",strokeWidth:1.4}})}),t.consumers.forEach(t=>{const o=`file:${t}`;e.set(o,d(o,t,"file")),n.push({id:`${a}->${o}`,source:a,target:o,style:{stroke:"#10b981",strokeWidth:1.4}})})}),h.compose&&p.compose_services.forEach(n=>{const t=`compose:${n.name}`;e.set(t,d(t,`${n.name} (${n.ports.join(", ")})`,"compose"))});const t=Array.from(e.values()),a=t.map(e=>({id:e.id,width:200,height:50})),o=n.map(e=>({id:e.id,source:e.source,target:e.target})),{nodes:A}=(0,s.dagreLayout)(a,o,"TB"),r=t.map(e=>({...e,position:A.get(e.id)||{x:0,y:0}}));f(r),B(n)},[p,h]),l.default.createElement("div",{className:"diagram-container"},l.default.createElement("div",{className:"diagram-header"},l.default.createElement("div",null,l.default.createElement("h2",null,"Service Communication"),l.default.createElement("p",null,"HTTP endpoints, RPC services, queues, and compose services.")),l.default.createElement("div",{className:"diagram-filters"},l.default.createElement("label",null,l.default.createElement("input",{type:"checkbox",checked:h.http,onChange:()=>I(e=>({...e,http:!e.http}))}),"HTTP"),l.default.createElement("label",null,l.default.createElement("input",{type:"checkbox",checked:h.rpc,onChange:()=>I(e=>({...e,rpc:!e.rpc}))}),"RPC"),l.default.createElement("label",null,l.default.createElement("input",{type:"checkbox",checked:h.queues,onChange:()=>I(e=>({...e,queues:!e.queues}))}),"Queues"),l.default.createElement("label",null,l.default.createElement("input",{type:"checkbox",checked:h.compose,onChange:()=>I(e=>({...e,compose:!e.compose}))}),"Compose"))),o&&l.default.createElement("div",{className:"diagram-state"},"Loading communication data..."),r&&l.default.createElement("div",{className:"diagram-state diagram-error"},r),!o&&!r&&l.default.createElement(i.ReactFlowProvider,null,l.default.createElement("div",{className:"diagram-flow"},l.default.createElement(i.default,{nodes:C,edges:g,fitView:!0,fitViewOptions:{padding:.2}},l.default.createElement(i.Background,{variant:i.BackgroundVariant.Dots,gap:16,size:.8})))))}},51225(e,n,t){var a,o=this&&this.__createBinding||(Object.create?function(e,n,t,a){void 0===a&&(a=t);var o=Object.getOwnPropertyDescriptor(n,t);o&&!("get"in o?!n.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return n[t]}}),Object.defineProperty(e,a,o)}:function(e,n,t,a){void 0===a&&(a=t),e[a]=n[t]}),A=this&&this.__setModuleDefault||(Object.create?function(e,n){Object.defineProperty(e,"default",{enumerable:!0,value:n})}:function(e,n){e.default=n}),r=this&&this.__importStar||(a=function(e){return a=Object.getOwnPropertyNames||function(e){var n=[];for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(n[n.length]=t);return n},a(e)},function(e){if(e&&e.__esModule)return e;var n={};if(null!=e)for(var t=a(e),r=0;r<t.length;r++)"default"!==t[r]&&o(n,e,t[r]);return A(n,e),n});Object.defineProperty(n,"__esModule",{value:!0}),n.BoundaryDiagram=void 0;const l=r(t(96540)),i=r(t(20072));t(90036);const s=t(60914),c=t(25067),d={physical:"#3b82f6",logical:"#22c55e",architectural:"#f59e0b"},u={boundaryNode:function({data:e}){const n=d[e.boundary.type]||"#94a3b8";return l.default.createElement("div",{className:"boundary-diagram-node",style:{borderColor:n},title:e.summary||""},l.default.createElement("div",{className:"boundary-node-header",style:{color:n}},l.default.createElement("span",null,e.boundary.name),e.boundary.layer&&l.default.createElement("span",{className:"boundary-layer-pill"},e.boundary.layer)),e.boundary.path&&l.default.createElement("div",{className:"boundary-node-path"},e.boundary.path),l.default.createElement("div",{className:"boundary-node-meta"},e.boundary.file_count," files"))},fileDot:function(){return l.default.createElement("div",{className:"boundary-file-dot"})}};n.BoundaryDiagram=()=>{const e=(0,l.useMemo)(()=>acquireVsCodeApi(),[]),n=(0,l.useMemo)(()=>new c.ArchMindWebviewApiClient,[]),[t,a]=(0,l.useState)(null),[o,A]=(0,l.useState)(!1),[r,d]=(0,l.useState)(null),[p,m]=(0,l.useState)(null),[C,f]=(0,l.useState)(null),[g,B]=(0,l.useState)([]),[h,I]=(0,l.useState)([]),[b,x]=(0,l.useState)({physical:!0,logical:!0,architectural:!0,showFiles:!0});(0,l.useEffect)(()=>{const n=e=>{const n=e.data;if("architectureData"===n?.command){const e=n.data?.repo_id||n.data?.repoId;e&&a(e)}};return window.addEventListener("message",n),e.postMessage({command:"requestArchitecture"}),()=>window.removeEventListener("message",n)},[e]),(0,l.useEffect)(()=>{if(!t)return;let e=!0;return(async()=>{try{A(!0),d(null);const[a,o]=await Promise.all([n.getModuleBoundaries(t),n.getArchitectureInsights(t).catch(()=>null)]);if(!e)return;m(a),f(o)}catch(n){if(!e)return;d(n instanceof Error?n.message:"Failed to load boundaries")}finally{e&&A(!1)}})(),()=>{e=!1}},[n,t]);const y=(0,l.useMemo)(()=>{const e=new Map;return C?.insights?(C.insights.forEach(n=>{if(n.pattern_type?.startsWith("module_summary:")){const t=n.pattern_type.replace("module_summary:","").trim();e.set(t,n.summary)}}),e):e},[C]);return(0,l.useEffect)(()=>{if(!p)return;const e=p.boundaries.filter(e=>"physical"===e.type?b.physical:"logical"===e.type?b.logical:"architectural"!==e.type||b.architectural),n=e.map(e=>({id:`boundary:${e.id}`,type:"boundaryNode",position:{x:0,y:0},data:{boundary:e,summary:y.get(e.name)||""},draggable:!1,selectable:!0,style:{width:260,height:120}})),t=[];b.showFiles&&e.forEach(e=>{const n=`boundary:${e.id}`,a=e.files||[],o=Math.max(3,Math.ceil(Math.sqrt(a.length)));a.forEach((a,A)=>{const r=Math.floor(A/o),l=A%o;t.push({id:`file:${e.id}:${A}`,type:"fileDot",position:{x:16+14*l,y:44+12*r},parentNode:n,extent:"parent",draggable:!1,selectable:!1,data:{file:a}})})});const a=n.map(e=>({id:e.id,width:260,height:140}));(async()=>{const{nodes:e}=await(0,s.elkLayout)(a,[],"layered"),o=n.map(n=>{const t=e.get(n.id)||{x:0,y:0};return{...n,position:t}});B([...o,...t]),I([])})()},[p,b,y]),l.default.createElement("div",{className:"diagram-container"},l.default.createElement("div",{className:"diagram-header"},l.default.createElement("div",null,l.default.createElement("h2",null,"Boundary Diagram"),l.default.createElement("p",null,"Grouped view of detected module boundaries.")),l.default.createElement("div",{className:"diagram-filters"},l.default.createElement("label",null,l.default.createElement("input",{type:"checkbox",checked:b.physical,onChange:()=>x(e=>({...e,physical:!e.physical}))}),"Physical"),l.default.createElement("label",null,l.default.createElement("input",{type:"checkbox",checked:b.logical,onChange:()=>x(e=>({...e,logical:!e.logical}))}),"Logical"),l.default.createElement("label",null,l.default.createElement("input",{type:"checkbox",checked:b.architectural,onChange:()=>x(e=>({...e,architectural:!e.architectural}))}),"Architectural"),l.default.createElement("label",null,l.default.createElement("input",{type:"checkbox",checked:b.showFiles,onChange:()=>x(e=>({...e,showFiles:!e.showFiles}))}),"Show files"))),o&&l.default.createElement("div",{className:"diagram-state"},"Loading boundaries..."),r&&l.default.createElement("div",{className:"diagram-state diagram-error"},r),!o&&!r&&l.default.createElement(i.ReactFlowProvider,null,l.default.createElement("div",{className:"diagram-flow"},l.default.createElement(i.default,{nodes:g,edges:h,nodeTypes:u,fitView:!0,fitViewOptions:{padding:.2}},l.default.createElement(i.Background,{variant:i.BackgroundVariant.Dots,gap:16,size:.8})))))}},51887(e,n,t){var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.DEFAULT_IMAGE_OPTIONS=void 0,n.exportAsPNG=r,n.exportAsJPEG=async function(e,t="graph.jpg",a={}){return r(e,t,{...n.DEFAULT_IMAGE_OPTIONS,format:"jpeg",...a})},n.exportAsWebP=async function(e,t="graph.webp",a={}){return r(e,t,{...n.DEFAULT_IMAGE_OPTIONS,format:"webp",...a})},n.exportAsSVG=function(e,n,t="graph.svg",a={}){const{padding:o=50}=a,A=l(e);let r=function(e,n){return`<?xml version="1.0" encoding="UTF-8"?>\n<svg width="${e}" height="${n}" xmlns="http://www.w3.org/2000/svg">\n  <defs>\n    <style>\n      .node { fill: #2d2d2d; stroke: #4a9eff; stroke-width: 2; }\n      .node-text { fill: #ffffff; font-family: Arial, sans-serif; font-size: 12px; text-anchor: middle; }\n      .edge { stroke: #888888; stroke-width: 1; fill: none; }\n      .edge-arrow { fill: #888888; }\n    </style>\n    <marker id="arrowhead" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">\n      <polygon class="edge-arrow" points="0 0, 10 3, 0 6" />\n    </marker>\n  </defs>\n`}(a.width||A.maxX-A.minX+2*o,a.height||A.maxY-A.minY+2*o);r+=`  <g transform="translate(${o-A.minX}, ${o-A.minY})">\n`,r+=function(e,n){let t="";return e.forEach(e=>{const a=n.find(n=>n.id===e.source),o=n.find(n=>n.id===e.target);if(a&&o){const e=a.position.x+90,n=a.position.y+20,A=o.position.x+90,r=o.position.y+20;t+=`    <line class="edge" x1="${e}" y1="${n}" x2="${A}" y2="${r}" marker-end="url(#arrowhead)" />\n`}}),t}(n,e),r+=function(e){let n="";return e.forEach(e=>{const t=e.position.x,a=e.position.y,o=(e.data?.label||e.id).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;");n+=`    <rect class="node" x="${t}" y="${a}" width="180" height="40" rx="4" />\n`,n+=`    <text class="node-text" x="${t+90}" y="${a+20+4}">${o}</text>\n`}),n}(e),r+="  </g>\n</svg>",function(e,n,t){if("function"==typeof acquireVsCodeApi)acquireVsCodeApi().postMessage({command:"saveFile",data:e,filename:n,mimeType:t});else{const a=new Blob([e],{type:t}),o=URL.createObjectURL(a),A=document.createElement("a");A.href=o,A.download=n,document.body.appendChild(A),A.click(),document.body.removeChild(A),URL.revokeObjectURL(o)}}(r,t,"image/svg+xml")},n.copyToClipboard=async function(e){try{const n=e.querySelector(".react-flow__viewport");if(!n)throw new Error("ReactFlow viewport not found");const t=await(0,o.default)(n,{backgroundColor:"#1e1e1e",scale:2,logging:!1}),a=await new Promise((e,n)=>{t.toBlob(t=>{t?e(t):n(new Error("Failed to create blob"))})});await navigator.clipboard.write([new ClipboardItem({"image/png":a})])}catch(e){throw new Error(`Copy to clipboard failed: ${e instanceof Error?e.message:"Unknown error"}`)}},n.estimateImageSize=function(e,n=2){const t=l(e),a=(t.maxX-t.minX)*n,o=(t.maxY-t.minY)*n;return{width:a,height:o,estimatedBytes:Math.round(a*o*4*.5)}};const o=a(t(20354)),A=t(61239);async function r(e,t="graph.png",a={}){const r={...n.DEFAULT_IMAGE_OPTIONS,...a};try{const n=e.querySelector(".react-flow__viewport");if(!n)throw new Error("ReactFlow viewport not found");const a=await(0,o.default)(n,{backgroundColor:r.includeBackground?r.backgroundColor:null,scale:r.scale,logging:!1,useCORS:!0,allowTaint:!0});await function(e,n,t){return new Promise((a,o)=>{const r=`image/${t.format}`;e.toBlob(async e=>{if(e)try{if((0,A.isVSCodeWebview)()){const t=new FileReader;t.onloadend=async()=>{try{await(0,A.saveFileInVSCode)(t.result,n,r),a()}catch(e){o(e)}},t.onerror=()=>o(new Error("Failed to read blob")),t.readAsDataURL(e)}else{const t=URL.createObjectURL(e),o=document.createElement("a");o.href=t,o.download=n,document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL(t),a()}}catch(e){o(e)}else o(new Error("Failed to create blob"))},r,t.quality)})}(a,t,r)}catch(e){throw new Error(`PNG export failed: ${e instanceof Error?e.message:"Unknown error"}`)}}function l(e){if(0===e.length)return{minX:0,minY:0,maxX:800,maxY:600};let n=1/0,t=1/0,a=-1/0,o=-1/0;return e.forEach(e=>{n=Math.min(n,e.position.x),t=Math.min(t,e.position.y),a=Math.max(a,e.position.x+180),o=Math.max(o,e.position.y+40)}),{minX:n,minY:t,maxX:a,maxY:o}}n.DEFAULT_IMAGE_OPTIONS={format:"png",quality:.95,scale:2,backgroundColor:"#1e1e1e",includeBackground:!0}},52151(e,n){function t(e){if(e.length<2)return 0;const n=e[0],t=e[1],a=n.clientX-t.clientX,o=n.clientY-t.clientY;return Math.sqrt(a*a+o*o)}Object.defineProperty(n,"__esModule",{value:!0}),n.createGestureHandlers=function(e,n={}){const{enableMousePan:a=!0,enableTouchGestures:o=!0,enableWheelZoom:A=!0,zoomSensitivity:r=.01,panButton:l=1}=n,i={isPanning:!1,isZooming:!1,lastTouchDistance:0,lastMousePosition:null};return{onMouseDown:e=>{a&&(e.button===l||0===e.button&&e.shiftKey)&&(e.preventDefault(),i.isPanning=!0,i.lastMousePosition={x:e.clientX,y:e.clientY})},onMouseMove:n=>{if(!a||!i.isPanning||!i.lastMousePosition)return;const t=n.clientX-i.lastMousePosition.x,o=n.clientY-i.lastMousePosition.y;e.onPan(t,o),i.lastMousePosition={x:n.clientX,y:n.clientY}},onMouseUp:e=>{a&&i.isPanning&&(i.isPanning=!1,i.lastMousePosition=null)},onWheel:n=>{if(!A)return;n.preventDefault();const t=-n.deltaY*r,a={x:n.clientX,y:n.clientY};e.onZoom(t,a)},onTouchStart:e=>{o&&(2===e.touches.length?(e.preventDefault(),i.isZooming=!0,i.lastTouchDistance=t(e.touches)):1===e.touches.length&&(i.isPanning=!0,i.lastMousePosition={x:e.touches[0].clientX,y:e.touches[0].clientY}))},onTouchMove:n=>{if(o)if(2===n.touches.length&&i.isZooming){n.preventDefault();const a=t(n.touches),o=.005*(a-i.lastTouchDistance),A=function(e){if(e.length<2)return null;const n=e[0],t=e[1];return{x:(n.clientX+t.clientX)/2,y:(n.clientY+t.clientY)/2}}(n.touches);e.onZoom(o,A||void 0),i.lastTouchDistance=a}else if(1===n.touches.length&&i.isPanning&&i.lastMousePosition){const t=n.touches[0],a=t.clientX-i.lastMousePosition.x,o=t.clientY-i.lastMousePosition.y;e.onPan(a,o),i.lastMousePosition={x:t.clientX,y:t.clientY}}},onTouchEnd:e=>{o&&(e.touches.length<2&&(i.isZooming=!1,i.lastTouchDistance=0),0===e.touches.length&&(i.isPanning=!1,i.lastMousePosition=null))}}},n.clamp=function(e,n,t){return Math.min(Math.max(e,n),t)},n.zoomToPercent=function(e){return Math.round(100*e)},n.percentToZoom=function(e){return e/100}},52915(e,n,t){var a,o=this&&this.__createBinding||(Object.create?function(e,n,t,a){void 0===a&&(a=t);var o=Object.getOwnPropertyDescriptor(n,t);o&&!("get"in o?!n.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return n[t]}}),Object.defineProperty(e,a,o)}:function(e,n,t,a){void 0===a&&(a=t),e[a]=n[t]}),A=this&&this.__setModuleDefault||(Object.create?function(e,n){Object.defineProperty(e,"default",{enumerable:!0,value:n})}:function(e,n){e.default=n}),r=this&&this.__importStar||(a=function(e){return a=Object.getOwnPropertyNames||function(e){var n=[];for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(n[n.length]=t);return n},a(e)},function(e){if(e&&e.__esModule)return e;var n={};if(null!=e)for(var t=a(e),r=0;r<t.length;r++)"default"!==t[r]&&o(n,e,t[r]);return A(n,e),n});Object.defineProperty(n,"__esModule",{value:!0}),n.NODE_COLORS=void 0;const l=r(t(96540)),i=r(t(20072));t(90036);const s=t(99225),c=t(60914),d=t(2240),u=t(46906),p=t(17990),m=t(38891),C=t(27527),f=t(7431),g=t(42925),B=t(10969),h=t(8504),I=t(15286),b={clusterNode:u.ClusterNode};n.NODE_COLORS={directory:"#4a9eff",typescript:"#3178c6",javascript:"#f7df1e",json:"#292929",markdown:"#083fa1",css:"#264de4",python:"#3776ab",rust:"#dea584",go:"#00add8",function:"#9b59b6",class:"#e74c3c",module:"#27ae60",default:"#6b7280"};const x={modified:"#e67e22",added:"#2ecc71",deleted:"#e74c3c"};function y(e,n,t){const a=new Set,{searchTerm:o,nodeTypes:A,languages:r,pathPattern:l,showNeighbors:i}=t;if(!(o||A.length>0||r.length>0||l))return a;if(e.forEach(e=>{(function(e,n){const{searchTerm:t,nodeTypes:a,languages:o,pathPattern:A}=n;if(a.length>0&&!a.includes(e.type))return!1;if(o.length>0&&(!e.language||!o.includes(e.language)))return e.type,!1;if(A){const n=e.id.replace(/\\/g,"/").toLowerCase(),t=A.replace(/\\/g,"/").toLowerCase().replace(/[.+^${}()|[\]]/g,"\\$&").replace(/\*/g,".*").replace(/\?/g,".");if(!new RegExp(t,"i").test(n))return!1}if(t){const n=t.toLowerCase(),a=e.label.toLowerCase().includes(n),o=e.id.toLowerCase().includes(n);if(!a&&!o)return!1}return!0})(e,t)&&a.add(e.id)}),i&&a.size>0){const e=new Set;n.forEach(n=>{a.has(n.source)&&e.add(n.target),a.has(n.target)&&e.add(n.source)}),e.forEach(e=>a.add(e))}return a}function v(e,t,a,o){const A=function(e){return e.status&&"unchanged"!==e.status&&x[e.status]?x[e.status]:"directory"===e.type?n.NODE_COLORS.directory:"function"===e.type?n.NODE_COLORS.function:"class"===e.type?n.NODE_COLORS.class:"module"===e.type?n.NODE_COLORS.module:e.language&&n.NODE_COLORS[e.language]||n.NODE_COLORS.default}(e),r=e.status&&"unchanged"!==e.status;return{id:e.id,data:{label:e.label+(r?` (${e.status})`:""),type:e.type,language:e.language,extension:e.extension,filePath:e.filePath||e.id,lineNumber:e.lineNumber,endLineNumber:e.endLineNumber,status:e.status},position:t,style:{background:"directory"===e.type?`${A}20`:"var(--am-panel-bg)",color:"var(--am-panel-fg)",borderColor:o?"var(--am-accent)":A,borderWidth:o?3:"directory"===e.type?2:1,borderRadius:"directory"===e.type?8:4,opacity:a?1:.3,boxShadow:o?"0 0 10px var(--am-accent)":void 0,borderStyle:r?"dashed":"solid"},className:a?"matching-node":"dimmed-node"}}function E(e,n,t,a,o){const A=y(e,n,t),r=t.searchTerm||t.nodeTypes.length>0||t.languages.length>0||t.pathPattern,l=e.map(e=>({id:e.id,width:180,height:40,depth:e.depth})),i=n.map(e=>({id:e.id,source:e.source,target:e.target})),s=(0,c.dagreLayout)(l,i,o);return{layoutedNodes:e.map(e=>v(e,s.nodes.get(e.id)||{x:0,y:0},!r||A.has(e.id),a===e.id)),matchingNodeIds:A}}async function k(e,n,t,a,o){const A=y(e,n,t),r=t.searchTerm||t.nodeTypes.length>0||t.languages.length>0||t.pathPattern,l=e.map(e=>({id:e.id,width:180,height:40,depth:e.depth})),i=n.map(e=>({id:e.id,source:e.source,target:e.target})),s=await(0,c.elkLayout)(l,i,o);return{layoutedNodes:e.map(e=>v(e,s.nodes.get(e.id)||{x:0,y:0},!r||A.has(e.id),a===e.id)),matchingNodeIds:A}}async function w(e,n,t,a,o){switch(e){case"dagre-tb":return E(n,t,a,o,"TB");case"dagre-lr":return E(n,t,a,o,"LR");case"elk-layered":return k(n,t,a,o,"layered");case"elk-force":case"force-directed":return k(n,t,a,o,"force");case"by-file":return function(e,n,t,a){const o=y(e,n,t),A=t.searchTerm||t.nodeTypes.length>0||t.languages.length>0||t.pathPattern,r=e.filter(e=>"file"===e.type),l=new Map;e.forEach(e=>{if("function"===e.type||"class"===e.type){const n=e.id.split("::")[0],t=l.get(n)||[];t.push(e),l.set(n,t)}});const i=[];return r.forEach((e,n)=>{const t=!A||o.has(e.id),r=a===e.id,s=Math.floor(n/4),c=n%4*280,d=100*s*3;i.push(v(e,{x:c,y:d},t,r)),(l.get(e.id)||[]).forEach((e,n)=>{const t=!A||o.has(e.id),r=a===e.id,l=Math.floor(n/2),s=c-100+n%2*200,u=d+100+80*l;i.push(v(e,{x:s,y:u},t,r))})}),{layoutedNodes:i,matchingNodeIds:o}}(n,t,a,o);case"by-module":return function(e,n,t,a){const o=y(e,n,t),A=t.searchTerm||t.nodeTypes.length>0||t.languages.length>0||t.pathPattern,r=e.filter(e=>"module"===e.type||"directory"===e.type),l=e.filter(e=>"file"===e.type),i=new Map;l.forEach(e=>{const n=e.id.split("/"),t=n.length>1?n[0]:"root",a=i.get(t)||[];a.push(e),i.set(t,a)});const s=[],c=[...new Set([...r.map(e=>e.id),...Array.from(i.keys())])];return c.forEach((e,n)=>{const t=400*n,l=r.find(n=>n.id===e);if(l){const e=!A||o.has(l.id),n=a===l.id;s.push(v(l,{x:t,y:0},e,n))}(i.get(e)||[]).forEach((e,n)=>{const r=!A||o.has(e.id),l=a===e.id,i=100+100*n;s.push(v(e,{x:t,y:i},r,l))})}),e.filter(e=>("function"===e.type||"class"===e.type)&&!l.some(n=>e.id.startsWith(n.id))).forEach((e,n)=>{const t=!A||o.has(e.id),r=a===e.id;s.push(v(e,{x:400*c.length,y:100*n},t,r))}),{layoutedNodes:s,matchingNodeIds:o}}(n,t,a,o);case"dependency-only":return function(e,n,t,a){const o=n.filter(e=>"calls"===e.type||"imports"===e.type),A=new Set;return o.forEach(e=>{A.add(e.source),A.add(e.target)}),E(e.filter(e=>A.has(e.id)),o,t,a,"TB")}(n,t,a,o);default:return function(e,n,t,a){const o=y(e,n,t),A=t.searchTerm||t.nodeTypes.length>0||t.languages.length>0||t.pathPattern,r=new Map;e.forEach(e=>{const n=r.get(e.depth)||[];n.push(e),r.set(e.depth,n)});const l=[];return r.forEach((e,n)=>{const t=-280*e.length/2;e.forEach((e,r)=>{const i=!A||o.has(e.id),s=a===e.id;l.push(v(e,{x:t+280*r,y:120*n},i,s))})}),{layoutedNodes:l,matchingNodeIds:o}}(n,t,a,o)}}function N(e,n,t){return e.map(e=>{const a=null!==n&&(e.source===n||e.target===n),o=0===t.size||t.has(e.source)&&t.has(e.target);return{id:e.id,source:e.source,target:e.target,type:"smoothstep",animated:!!a,style:{stroke:a?"var(--am-accent)":"var(--am-fg)",strokeWidth:a?2:1,opacity:o?a?.9:.5:.15}}})}const z=({stats:e,source:t="local"})=>e?l.default.createElement("div",{className:"stats-panel"},l.default.createElement("div",{className:"source-badge",style:{backgroundColor:"backend"===t?"#27ae60":"#3498db"}},"backend"===t?"üåê Backend (Neo4j)":"üìÅ Local"),l.default.createElement("div",{className:"stat-item"},l.default.createElement("span",{className:"stat-label"},"Files:"),l.default.createElement("span",{className:"stat-value"},e.totalFiles)),l.default.createElement("div",{className:"stat-item"},l.default.createElement("span",{className:"stat-label"},"Directories:"),l.default.createElement("span",{className:"stat-value"},e.totalDirectories)),void 0!==e.totalFunctions&&e.totalFunctions>0&&l.default.createElement("div",{className:"stat-item"},l.default.createElement("span",{className:"stat-label"},"Functions:"),l.default.createElement("span",{className:"stat-value"},e.totalFunctions)),void 0!==e.totalClasses&&e.totalClasses>0&&l.default.createElement("div",{className:"stat-item"},l.default.createElement("span",{className:"stat-label"},"Classes:"),l.default.createElement("span",{className:"stat-value"},e.totalClasses)),Object.entries(e.filesByLanguage).length>0&&l.default.createElement("div",{className:"stat-languages"},Object.entries(e.filesByLanguage).sort(([,e],[,n])=>n-e).slice(0,5).map(([e,t])=>l.default.createElement("span",{key:e,className:"language-badge",style:{backgroundColor:n.NODE_COLORS[e]||n.NODE_COLORS.default}},e,": ",t)))):null,S=({filters:e,onFiltersChange:n,matchCount:t,totalCount:a,onFocusSelection:o,isVisible:A,onClose:r,availableLanguages:i})=>{const s=(0,l.useRef)(null);if((0,l.useEffect)(()=>{A&&s.current&&s.current.focus()},[A]),!A)return null;const c=e.searchTerm||e.nodeTypes.length>0||e.languages.length>0||e.pathPattern;return l.default.createElement("div",{className:"search-panel"},l.default.createElement("div",{className:"search-header"},l.default.createElement("span",{className:"search-title"},"üîç Search & Filter"),l.default.createElement("button",{className:"search-close",onClick:r,title:"Close (Esc)"},"√ó")),l.default.createElement("div",{className:"search-field"},l.default.createElement("label",null,"Search by name:"),l.default.createElement("input",{ref:s,type:"text",placeholder:"Enter file/function name...",value:e.searchTerm,onChange:t=>n({...e,searchTerm:t.target.value}),className:"search-input"})),l.default.createElement("div",{className:"search-field"},l.default.createElement("label",null,"Path pattern:"),l.default.createElement("input",{type:"text",placeholder:"e.g., src/*.ts, **/utils/*",value:e.pathPattern,onChange:t=>n({...e,pathPattern:t.target.value}),className:"search-input"})),l.default.createElement("div",{className:"search-section"},l.default.createElement("label",null,"Filter by Type:"),l.default.createElement("div",{className:"checkbox-group"},["file","directory","function","class","module"].map(t=>l.default.createElement("label",{key:t,className:"checkbox-label"},l.default.createElement("input",{type:"checkbox",checked:e.nodeTypes.includes(t),onChange:()=>(t=>{const a=e.nodeTypes;a.includes(t)?n({...e,nodeTypes:a.filter(e=>e!==t)}):n({...e,nodeTypes:[...a,t]})})(t)}),t.charAt(0).toUpperCase()+t.slice(1))))),i.length>0&&l.default.createElement("div",{className:"search-section"},l.default.createElement("label",null,"Filter by Language:"),l.default.createElement("div",{className:"checkbox-group"},i.map(t=>l.default.createElement("label",{key:t,className:"checkbox-label"},l.default.createElement("input",{type:"checkbox",checked:e.languages.includes(t),onChange:()=>(t=>{const a=e.languages;a.includes(t)?n({...e,languages:a.filter(e=>e!==t)}):n({...e,languages:[...a,t]})})(t)}),t)))),l.default.createElement("div",{className:"search-field toggle-field"},l.default.createElement("label",{className:"checkbox-label"},l.default.createElement("input",{type:"checkbox",checked:e.showNeighbors,onChange:t=>n({...e,showNeighbors:t.target.checked})}),"Show Reachable Neighbors")),l.default.createElement("div",{className:"search-results"},c?l.default.createElement("span",{className:"result-count"},"Found ",l.default.createElement("strong",null,t)," of ",a," nodes"):l.default.createElement("span",{className:"result-count"},"Showing all ",a," nodes")),l.default.createElement("div",{className:"search-actions"},l.default.createElement("button",{className:"search-btn",onClick:o,disabled:0===t,title:"Zoom to show all matching nodes"},"üìç Focus on Results"),l.default.createElement("button",{className:"search-btn secondary",onClick:()=>n({searchTerm:"",nodeTypes:[],languages:[],pathPattern:"",showNeighbors:!1}),disabled:!c},"Clear Filters")),l.default.createElement("div",{className:"search-hint"},l.default.createElement("kbd",null,"Ctrl"),"+",l.default.createElement("kbd",null,"F")," to toggle search"),l.default.createElement("style",null,"\n                .search-section { margin-bottom: 12px; }\n                .checkbox-group { \n                    display: flex; \n                    flex-wrap: wrap; \n                    gap: 8px; \n                    margin-top: 4px;\n                }\n                .checkbox-label {\n                    display: flex;\n                    align-items: center;\n                    gap: 4px;\n                    font-size: 12px;\n                    cursor: pointer;\n                    background: var(--am-bg-lighter);\n                    padding: 2px 6px;\n                    border-radius: 4px;\n                    border: 1px solid var(--am-border);\n                }\n                .checkbox-label:hover { background: var(--am-bg-hover); }\n                .toggle-field { margin-top: 8px; }\n            "))},_=({node:e,position:n})=>{if(!e)return null;const t=e.data;return l.default.createElement("div",{className:"node-tooltip",style:{left:n.x+10,top:n.y+10}},l.default.createElement("div",{className:"tooltip-header"},l.default.createElement("span",{className:"tooltip-icon"},"directory"===t.type?"üìÅ":"function"===t.type?"‚ö°":"class"===t.type?"üè∑Ô∏è":"üìÑ"),l.default.createElement("span",{className:"tooltip-label"},t.label)),l.default.createElement("div",{className:"tooltip-details"},l.default.createElement("div",{className:"tooltip-row"},l.default.createElement("span",{className:"tooltip-key"},"Path:"),l.default.createElement("span",{className:"tooltip-value"},t.filePath||e.id)),t.lineNumber&&l.default.createElement("div",{className:"tooltip-row"},l.default.createElement("span",{className:"tooltip-key"},"Line:"),l.default.createElement("span",{className:"tooltip-value"},t.lineNumber,t.endLineNumber?` - ${t.endLineNumber}`:"")),t.language&&l.default.createElement("div",{className:"tooltip-row"},l.default.createElement("span",{className:"tooltip-key"},"Language:"),l.default.createElement("span",{className:"tooltip-value"},t.language)),l.default.createElement("div",{className:"tooltip-row"},l.default.createElement("span",{className:"tooltip-key"},"Type:"),l.default.createElement("span",{className:"tooltip-value"},t.type))),l.default.createElement("div",{className:"tooltip-hint"},"Click to open ‚Ä¢ Right-click for actions"))},O=({node:e,position:n,onAction:t,onClose:a})=>{const o=(0,l.useRef)(null);if((0,l.useEffect)(()=>{const e=e=>{o.current&&!o.current.contains(e.target)&&a()};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[a]),!e)return null;const A="file"===e.data.type||"function"===e.data.type||"class"===e.data.type;return l.default.createElement("div",{ref:o,className:"context-menu",style:{left:n.x,top:n.y}},l.default.createElement("div",{className:"context-menu-header"},e.data.label),l.default.createElement("div",{className:"context-menu-divider"}),A&&l.default.createElement(l.default.Fragment,null,l.default.createElement("button",{className:"context-menu-item",onClick:()=>t("open")},"üìÑ Open File"),l.default.createElement("button",{className:"context-menu-item",onClick:()=>t("goToDefinition")},"üéØ Go to Definition"),l.default.createElement("button",{className:"context-menu-item",onClick:()=>t("findReferences")},"üîó Find References"),l.default.createElement("div",{className:"context-menu-divider"})),l.default.createElement("button",{className:"context-menu-item",onClick:()=>t("revealInExplorer")},"üìÇ Reveal in Explorer"),l.default.createElement("button",{className:"context-menu-item",onClick:()=>t("copyPath")},"üìã Copy Path"),l.default.createElement("div",{className:"context-menu-divider"}),l.default.createElement("button",{className:"context-menu-item",onClick:()=>t("analyzeImpact")},"üí• Analyze Impact"),l.default.createElement("button",{className:"context-menu-item",onClick:()=>t("showRelationships")},"üîó Show Relationships"))},M=({currentLayout:e,onLayoutChange:n,isLayouting:t,isVisible:a,onClose:o})=>a?l.default.createElement("div",{className:"layout-panel"},l.default.createElement("div",{className:"layout-header"},l.default.createElement("span",{className:"layout-title"},"üìê Layout Algorithm"),l.default.createElement("button",{className:"layout-close",onClick:o,title:"Close"},"√ó")),l.default.createElement("div",{className:"layout-options"},c.LAYOUT_OPTIONS.map(a=>l.default.createElement("button",{key:a.value,className:"layout-option "+(e===a.value?"active":""),onClick:()=>n(a.value),disabled:t,title:a.description},l.default.createElement("span",{className:"layout-option-label"},a.label),e===a.value&&l.default.createElement("span",{className:"layout-check"},"‚úì")))),t&&l.default.createElement("div",{className:"layout-loading"},l.default.createElement("div",{className:"loading-spinner-small"}),l.default.createElement("span",null,"Calculating layout...")),l.default.createElement("div",{className:"layout-hint"},l.default.createElement("kbd",null,"Ctrl"),"+",l.default.createElement("kbd",null,"L")," to toggle layout panel")):null,P=()=>{const e=(0,l.useMemo)(()=>acquireVsCodeApi(),[]),t=(0,l.useRef)(e),a=e.getState()||{},[o,A,r]=(0,i.useNodesState)([]),[c,u,x]=(0,i.useEdgesState)([]),[y,v]=(0,l.useState)(null),[E,k]=(0,l.useState)(!0),[P,T]=(0,l.useState)("Analyzing workspace structure..."),[j,D]=(0,l.useState)(null),[q,Y]=(0,l.useState)("local"),[L,$]=(0,l.useState)(null),[F,R]=(0,l.useState)(!1),[W,U]=(0,l.useState)(a.filters||{searchTerm:"",nodeTypes:[],languages:[],pathPattern:"",showNeighbors:!1}),Z=function(e){const[n,t]=(0,l.useState)(e);return(0,l.useEffect)(()=>{const n=setTimeout(()=>{t(e)},200);return()=>{clearTimeout(n)}},[e,200]),n}(W),[Q,V]=(0,l.useState)(null),[X,G]=(0,l.useState)({x:0,y:0}),[K,H]=(0,l.useState)(null),[J,ee]=(0,l.useState)({x:0,y:0}),[ne,te]=(0,l.useState)(null),[ae,oe]=(0,l.useState)(new Set),[Ae,re]=(0,l.useState)([]),[le,ie]=(0,l.useState)(""),[se,ce]=(0,l.useState)(!0),[de,ue]=(0,l.useState)(a.layoutType||"hierarchical"),[pe,me]=(0,l.useState)(!1),[Ce,fe]=(0,l.useState)(!1);(0,l.useEffect)(()=>{e.setState({filters:W,layoutType:de})},[W,de,e]);const[ge,Be]=(0,l.useState)([]),[he,Ie]=(0,l.useState)({}),[be,xe]=(0,l.useState)(!1),[ye,ve]=(0,l.useState)(null),[Ee,ke]=(0,l.useState)(!1),[we,Ne]=(0,l.useState)(!1),[ze,Se]=(0,l.useState)(!1),[_e,Oe]=(0,l.useState)(!1),[Me,Pe]=(0,l.useState)(!1),Te=(0,l.useRef)(null),je=(0,l.useRef)(null),De=(0,l.useRef)(null),[qe,Ye]=(0,l.useState)(!1),[Le,$e]=(0,l.useState)(null),Fe=(0,i.useReactFlow)(),Re=(0,g.useZoomPan)({minZoom:.1,maxZoom:4});(0,g.useZoomPanKeyboard)(Re);const{handleMiniMapNodeClick:We}=(0,f.useMiniMapNavigation)(e=>{$(e);const n=o.find(n=>n.id===e);n&&Fe.setCenter(n.position.x+90,n.position.y+20,{zoom:1,duration:300})}),Ue=(0,l.useCallback)(e=>u(n=>(0,i.addEdge)(e,n)),[u]),Ze=(0,l.useCallback)((e,n)=>{$(n.id),H(null),t.current&&"directory"!==n.data.type&&t.current.postMessage({command:"openFile",filePath:n.data.filePath||n.id,lineNumber:n.data.lineNumber})},[]),Qe=(0,l.useCallback)((e,n)=>{e.preventDefault(),H(n),ee({x:e.clientX,y:e.clientY})},[]),Ve=(0,l.useCallback)((e,n)=>{V(n),G({x:e.clientX,y:e.clientY})},[]),Xe=(0,l.useCallback)(()=>{V(null)},[]),Ge=(0,l.useCallback)(e=>{if(!K||!t.current)return;const n=K.data.filePath||K.id,a=K.data.lineNumber;switch(e){case"open":t.current.postMessage({command:"openFile",filePath:n,lineNumber:a});break;case"goToDefinition":t.current.postMessage({command:"goToDefinition",filePath:n,lineNumber:a});break;case"findReferences":t.current.postMessage({command:"findReferences",filePath:n,lineNumber:a});break;case"revealInExplorer":t.current.postMessage({command:"revealInExplorer",filePath:n});break;case"copyPath":t.current.postMessage({command:"copyPath",filePath:n});break;case"analyzeImpact":if(ne){const e=[],n=new Set,t=[{id:K.id,distance:0}];for(n.add(K.id);t.length>0;){const a=t.shift();a.distance>0&&e.push({nodeId:a.id,distance:a.distance,impactType:1===a.distance?"direct":"indirect"}),a.distance<3&&ne.edges.forEach(e=>{const o=e.source===a.id?e.target:e.target===a.id?e.source:null;o&&!n.has(o)&&(n.add(o),t.push({id:o,distance:a.distance+1}))})}ve({sourceNodeId:K.id,affectedNodes:e,maxDepth:Math.max(0,...e.map(e=>e.distance)),totalImpact:e.length}),ke(!0)}break;case"showRelationships":$(K.id),Se(!0)}H(null)},[K,ne]),Ke=(0,l.useCallback)(()=>{if(0===ae.size)return;const e=o.filter(e=>ae.has(e.id));e.length>0&&Fe.fitView({nodes:e,padding:.3,duration:500})},[ae,o,Fe]),He=(0,l.useCallback)(()=>{Pe(e=>!e)},[]);(0,l.useEffect)(()=>{const e=e=>{(e.ctrlKey||e.metaKey)&&"f"===e.key&&(e.preventDefault(),R(e=>!e)),(e.ctrlKey||e.metaKey)&&"l"===e.key&&(e.preventDefault(),me(e=>!e)),(e.ctrlKey||e.metaKey)&&"e"===e.key&&(e.preventDefault(),Oe(e=>!e)),"F11"===e.key&&(e.preventDefault(),He()),"Escape"===e.key&&(Me?He():(R(!1),H(null),me(!1),Oe(!1)))};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[He,Me]),(0,l.useEffect)(()=>{if(!ne)return;const{nodes:e,edges:n}=ne;(async()=>{fe(!0);try{const{layoutedNodes:t,matchingNodeIds:a}=await w(de,e,n,Z,L),o=N(n,L,a);A(t),u(o),oe(a)}catch(e){console.error("Layout calculation failed:",e)}finally{fe(!1)}})()},[Z,L,ne,de,A,u]),(0,l.useEffect)(()=>{const n=e=>{const n=e.data;if("loading"===n.command)return k(!0),T(n.message||"Loading..."),void D(null);if("error"===n.command)return k(!1),void D(n.message||"An error occurred");if("noData"===n.command)return k(!1),void D(n.message||"No data available");if("architectureData"===n.command){D(null);const e=n.data;te(e),Y(e.source||"local");const t=e.repo_id||e.repoId;t&&$e(t);const{nodes:a,edges:o,stats:r}=e;(async()=>{try{const{layoutedNodes:e,matchingNodeIds:n}=await w(de,a,o,Z,L),t=N(o,L,n);A(e),u(t),v(r),oe(n),k(!1)}catch(e){console.error("Initial layout failed:",e),k(!1)}})()}if("impactAnalysis"===n.command&&console.log("Impact analysis data:",n.data),"localData"===n.command){const{symbols:e,fileName:t}=n.data;re(e),ie(t),ce(!0)}};return window.addEventListener("message",n),e.postMessage({command:"requestArchitecture"}),()=>{window.removeEventListener("message",n)}},[A,u,e,Z,de,L]),(0,l.useEffect)(()=>{if(!Le)return;const n=new s.ArchMindWebSocketClient("repo",Le,"http://localhost:8080");De.current=n;const t=n.subscribeAll(n=>{console.log("üì° WebSocket update received:",n),"graph_update"===n.type?(e.postMessage({command:"requestArchitecture"}),e.postMessage({command:"showNotification",message:`Architecture updated: ${n.changed_nodes?.length||0} nodes changed`,type:"info"})):"progress"===n.type?void 0!==n.progress&&(T(`Analyzing repository... ${n.progress}%`),n.progress>0&&n.progress<100?k(!0):100===n.progress&&k(!1)):"status"===n.type?"COMPLETED"===n.status?(k(!1),e.postMessage({command:"requestArchitecture"})):"FAILED"===n.status&&(k(!1),D(n.error||"Analysis failed")):"error"===n.type&&D(n.error||"Unknown error occurred")});return n.connect(),Ye(!0),()=>{t(),n.disconnect(),De.current=null,Ye(!1)}},[Le,e]),(0,l.useCallback)(e=>"directory"===e.data?.type?n.NODE_COLORS.directory:"function"===e.data?.type?n.NODE_COLORS.function:"class"===e.data?.type?n.NODE_COLORS.class:e.data?.language&&n.NODE_COLORS[e.data.language]||n.NODE_COLORS.default,[]),(0,l.useEffect)(()=>{if(!ne||ne.nodes.length<20)return Be([]),void xe(!1);const e=(0,d.clusterNodesByDirectory)(ne.nodes,5,3);Be(e),xe(e.length>0)},[ne]),(0,l.useCallback)(e=>{Ie(n=>(0,d.toggleCluster)(e,n))},[]);const Je=(0,l.useCallback)(e=>{if(!ne)return[];const n=[];return ne.edges.forEach(t=>{t.source===e&&n.push(t.target),t.target===e&&n.push(t.source)}),n},[ne]),en=(0,l.useCallback)(e=>{if(t.current){const n=ne?.nodes.find(n=>n.id===e);n&&"directory"!==n.type&&t.current.postMessage({command:"openFile",filePath:n.filePath||n.id,lineNumber:n.lineNumber})}},[ne]);(0,C.useKeyboardNavigation)({nodes:ne?.nodes||[],onNodeSelect:e=>{$(e);const n=o.find(n=>n.id===e);n&&Fe.setCenter(n.position.x+90,n.position.y+20,{zoom:1,duration:300})},onNodeActivate:en,getCurrentNodeId:()=>L,getConnectedNodes:Je,onFocusSearch:()=>R(!0),onShowHelp:()=>Ne(!0)});const nn=(0,l.useMemo)(()=>ne?ne.nodes.map(e=>({id:e.id,type:e.type,parentId:e.parentId,filePath:e.filePath})):[],[ne]),tn=(0,l.useMemo)(()=>ne?ne.edges.map(e=>({id:e.id,source:e.source,target:e.target,type:e.type})):[],[ne]),an=(0,l.useCallback)(()=>{t.current&&(D(null),k(!0),T("Retrying..."),t.current.postMessage({command:"requestArchitecture"}))},[]),on=(0,l.useCallback)(()=>{t.current&&(D(null),t.current.postMessage({command:"analyzeRepository"}))},[]),An=(0,l.useMemo)(()=>y&&y.filesByLanguage?Object.keys(y.filesByLanguage).sort():[],[y]);return j?l.default.createElement("div",{className:"error-container"},l.default.createElement("div",{className:"error-icon"},"‚ö†Ô∏è"),l.default.createElement("h3",null,"Error"),l.default.createElement("p",{className:"error-message"},j),l.default.createElement("div",{className:"error-actions"},l.default.createElement("button",{className:"retry-button",onClick:an},"Retry Local Analysis"),l.default.createElement("button",{className:"backend-button",onClick:on},"Analyze with Backend"))):E?l.default.createElement("div",{className:"loading-container"},l.default.createElement("div",{className:"loading-spinner"}),l.default.createElement("p",null,P)):l.default.createElement("div",{ref:e=>{e&&(je.current=e,Te.current=e)},style:{width:"100%",height:"100%",position:"relative"},className:Me?"fullscreen-graph":""},l.default.createElement(z,{stats:y,source:q}),l.default.createElement(S,{filters:W,onFiltersChange:U,matchCount:ae.size>0?ae.size:W.searchTerm||W.nodeTypes.length>0||W.languages.length>0||W.pathPattern?0:ne?.nodes.length||0,totalCount:ne?.nodes.length||0,onFocusSelection:Ke,isVisible:F,onClose:()=>R(!1),availableLanguages:An}),!F&&l.default.createElement("button",{className:"search-toggle-btn",onClick:()=>R(!0),title:"Search & Filter (Ctrl+F)"},"üîç"),l.default.createElement(M,{currentLayout:de,onLayoutChange:ue,isLayouting:Ce,isVisible:pe,onClose:()=>me(!1)}),!pe&&l.default.createElement("button",{className:"layout-toggle-btn",onClick:()=>me(!0),title:"Layout Algorithm (Ctrl+L)"},"üìê"),!_e&&l.default.createElement("button",{className:"export-toggle-btn",onClick:()=>Oe(!0),title:"Export Graph (Ctrl+E)"},"üì•"),l.default.createElement("button",{className:"fullscreen-toggle-btn",onClick:He,title:Me?"Exit Fullscreen (F11 or Esc)":"Enter Fullscreen (F11)"},Me?"üóó":"‚õ∂"),l.default.createElement(i.default,{nodes:o,edges:c,onNodesChange:r,onEdgesChange:x,onConnect:Ue,onNodeClick:Ze,onNodeContextMenu:Qe,onNodeMouseEnter:Ve,onNodeMouseLeave:Xe,nodeTypes:b,fitView:!0,fitViewOptions:{padding:.2},minZoom:.1,maxZoom:2,defaultEdgeOptions:{type:"smoothstep"},style:{background:"var(--am-bg)"}},l.default.createElement(f.EnhancedMiniMap,{selectedNodeId:L,hoveredNodeId:Q?.id||null,nodeColors:n.NODE_COLORS,onNodeClick:We}),l.default.createElement(i.Background,{variant:i.BackgroundVariant.Dots,gap:16,size:1,color:"var(--am-fg)",style:{opacity:.15}})),l.default.createElement(B.ZoomControls,{zoomPan:Re,position:"bottom-left"}),be&&ge.length>0&&l.default.createElement("div",{className:"cluster-controls"},l.default.createElement("span",{className:"cluster-label"},"üì¶ Clusters (",ge.length,")"),l.default.createElement("button",{className:"cluster-btn",onClick:()=>Ie((0,d.expandAllClusters)(ge)),title:"Expand All"},"‚äû"),l.default.createElement("button",{className:"cluster-btn",onClick:()=>Ie((0,d.collapseAllClusters)(ge)),title:"Collapse All"},"‚äü")),l.default.createElement(_,{node:Q,position:X}),l.default.createElement(O,{node:K,position:J,onAction:Ge,onClose:()=>H(null)}),Ee&&l.default.createElement(p.ImpactAnalysisPanel,{data:ye,onClose:()=>{ke(!1),ve(null)},onNodeClick:e=>{$(e);const n=o.find(n=>n.id===e);n&&Fe.setCenter(n.position.x+90,n.position.y+20,{zoom:1,duration:300})}}),ze&&L&&l.default.createElement(h.RelationshipVisualizer,{selectedNodeId:L,nodes:nn,edges:tn,onNodeClick:e=>{$(e);const n=o.find(n=>n.id===e);n&&Fe.setCenter(n.position.x+90,n.position.y+20,{zoom:1,duration:300})},onClose:()=>Se(!1)}),we&&l.default.createElement(C.KeyboardHelp,{onClose:()=>Ne(!1)}),l.default.createElement(I.ExportModal,{isOpen:_e,onClose:()=>Oe(!1),nodes:o,edges:c,rawData:ne,reactFlowWrapper:je.current,source:ne?.source||"local"}),l.default.createElement(m.LocalOutline,{fileName:le,symbols:Ae,isVisible:se,onClose:()=>ce(!1),onSymbolClick:e=>console.log("Jump to line",e)}))};n.default=()=>l.default.createElement(i.ReactFlowProvider,null,l.default.createElement(P,null))},60914(e,n,t){var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.LAYOUT_OPTIONS=void 0,n.dagreLayout=A,n.elkLayout=async function(e,n,t="layered"){const a={id:"root",layoutOptions:{"elk.algorithm":"layered"===t?"layered":"force","elk.direction":"DOWN","elk.spacing.nodeNode":"60","elk.layered.spacing.nodeNodeBetweenLayers":"80","elk.force.iterations":"300"},children:e.map(e=>({id:e.id,width:e.width||180,height:e.height||40})),edges:n.map(e=>({id:e.id,sources:[e.source],targets:[e.target]}))},o=await r.layout(a),A=new Map;return o.children?.forEach(e=>{A.set(e.id,{x:e.x||0,y:e.y||0})}),{nodes:A}},n.byFileLayout=function(e,n){const t=new Map,a=new Map,o=[];e.forEach(e=>{if("file"===e.type||"directory"===e.type)o.push(e);else{const n=e.parentId||e.filePath||"orphan",t=a.get(n)||[];t.push(e),a.set(n,t)}});let A=0;return o.forEach(e=>{t.set(e.id,{x:0,y:A}),A+=60,(a.get(e.id)||[]).forEach(e=>{t.set(e.id,{x:40,y:A}),A+=50}),A+=100}),{nodes:t}},n.byModuleLayout=function(e,n){const t=new Map,a={name:"root",files:[],subModules:new Map};e.forEach(e=>{if("file"===e.type&&e.filePath){const n=e.filePath.split("/");let t=a;for(let e=0;e<n.length-1;e++){const a=n[e];t.subModules.has(a)||t.subModules.set(a,{name:a,files:[],subModules:new Map}),t=t.subModules.get(a)}t.files.push(e)}});let o=0;return function e(n,a){n.files.forEach(e=>{t.set(e.id,{x:a,y:o}),o+=60}),n.subModules.forEach(n=>{e(n,a+40)}),(n.files.length>0||n.subModules.size>0)&&(o+=100)}(a,0),{nodes:t}},n.dependencyOnlyLayout=function(e,n){return A(e,n.filter(e=>"calls"===e.type||"imports"===e.type||"CALLS"===e.type||"IMPORTS"===e.type),"LR")},n.forceDirectedLayout=function(e,n,t=300){const a=new Map,o=new Map;e.forEach(e=>{o.set(e.id,{x:1e3*Math.random(),y:1e3*Math.random(),vx:0,vy:0})});for(let a=0;a<t;a++)e.forEach(n=>{const t=o.get(n.id);e.forEach(e=>{if(n.id===e.id)return;const a=o.get(e.id),A=t.x-a.x,r=t.y-a.y,l=Math.sqrt(A*A+r*r)||1;if(l<300){const e=1e4/(l*l);t.vx+=A/l*e,t.vy+=r/l*e}})}),n.forEach(e=>{const n=o.get(e.source),t=o.get(e.target);if(!n||!t)return;const a=t.x-n.x,A=t.y-n.y,r=Math.sqrt(a*a+A*A)||1,l=.01*r;n.vx+=a/r*l,n.vy+=A/r*l,t.vx-=a/r*l,t.vy-=A/r*l}),e.forEach(e=>{const n=o.get(e.id);n.x+=n.vx,n.y+=n.vy,n.vx*=.85,n.vy*=.85});return o.forEach((e,n)=>{a.set(n,{x:e.x,y:e.y})}),{nodes:a}};const o=a(t(76246));function A(e,n,t="TB"){const a=new o.default.graphlib.Graph;a.setGraph({rankdir:t,nodesep:50,ranksep:80,edgesep:20,marginx:20,marginy:20}),a.setDefaultEdgeLabel(()=>({})),e.forEach(e=>{a.setNode(e.id,{width:e.width||180,height:e.height||40})}),n.forEach(e=>{a.setEdge(e.source,e.target)}),o.default.layout(a);const A=new Map;return a.nodes().forEach(e=>{const n=a.node(e);n&&A.set(e,{x:n.x-(n.width||180)/2,y:n.y-(n.height||40)/2})}),{nodes:A}}const r=new(a(t(62954)).default);n.LAYOUT_OPTIONS=[{value:"hierarchical",label:"üìä Hierarchical",description:"Tree-like layout based on file depth"},{value:"by-file",label:"üìÑ By File",description:"Functions grouped under their files"},{value:"by-module",label:"üì¶ By Module",description:"Files grouped under modules/directories"},{value:"dependency-only",label:"üîó Dependencies Only",description:"Show only CALLS/IMPORTS edges"},{value:"dagre-tb",label:"‚¨áÔ∏è Dagre (Top-Bottom)",description:"Directed graph layout, top to bottom"},{value:"dagre-lr",label:"‚û°Ô∏è Dagre (Left-Right)",description:"Directed graph layout, left to right"},{value:"elk-layered",label:"üìê ELK Layered",description:"Advanced layered layout with edge routing"},{value:"force-directed",label:"üåÄ Force-Directed",description:"Physics-based clustering layout"}]},61239(e,n){Object.defineProperty(n,"__esModule",{value:!0}),n.initializeExportListener=function(){"undefined"!=typeof window&&window.addEventListener("message",e=>{const n=e.data;"fileSaveSuccess"!==n.command&&"fileSaveError"!==n.command&&"fileSaveCancelled"!==n.command||(t.forEach(({resolve:e,reject:t},a)=>{"fileSaveSuccess"===n.command?e(n.path||"File saved successfully"):"fileSaveError"===n.command?t(new Error(n.error||"Export failed")):"fileSaveCancelled"===n.command&&t(new Error("Export cancelled by user"))}),t.clear())})},n.saveFileInVSCode=function(e,n,a){return new Promise((o,A)=>{if("function"!=typeof acquireVsCodeApi)return void A(new Error("Not in VS Code webview context"));const r=acquireVsCodeApi();t.set(n,{resolve:o,reject:A}),r.postMessage({command:"saveFile",data:e,filename:n,mimeType:a}),setTimeout(()=>{t.has(n)&&(t.delete(n),A(new Error("Export timeout - no response from extension")))},3e4)})},n.isVSCodeWebview=function(){return"function"==typeof acquireVsCodeApi};let t=new Map},72926(e,n,t){var a,o=this&&this.__createBinding||(Object.create?function(e,n,t,a){void 0===a&&(a=t);var o=Object.getOwnPropertyDescriptor(n,t);o&&!("get"in o?!n.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return n[t]}}),Object.defineProperty(e,a,o)}:function(e,n,t,a){void 0===a&&(a=t),e[a]=n[t]}),A=this&&this.__setModuleDefault||(Object.create?function(e,n){Object.defineProperty(e,"default",{enumerable:!0,value:n})}:function(e,n){e.default=n}),r=this&&this.__importStar||(a=function(e){return a=Object.getOwnPropertyNames||function(e){var n=[];for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(n[n.length]=t);return n},a(e)},function(e){if(e&&e.__esModule)return e;var n={};if(null!=e)for(var t=a(e),r=0;r<t.length;r++)"default"!==t[r]&&o(n,e,t[r]);return A(n,e),n});Object.defineProperty(n,"__esModule",{value:!0}),n.DependencyDiagram=void 0;const l=r(t(96540)),i=r(t(20072));t(90036);const s=t(60914),c=t(25067),d={import:{color:"#6b7280",dash:"0",width:1.2},inheritance:{color:"#8b5cf6",dash:"6 4",width:1.2},library:{color:"#a16207",dash:"2 6",width:1.2},data:{color:"#dc2626",dash:"0",width:2.2}};function u(e){return"INHERITS"===e.relationship?"inheritance":"USES_TABLE"===e.relationship?"data":"DEPENDS_ON"===e.relationship&&"Library"===e.target_type?"library":"import"}function p(e,n,t){return{id:e,data:{label:n,type:t},position:{x:0,y:0},style:{padding:"8px 10px",borderRadius:"8px",background:"#0f172a",color:"#f8fafc",border:"1px solid #334155",fontSize:11},width:180}}n.DependencyDiagram=()=>{const e=(0,l.useMemo)(()=>acquireVsCodeApi(),[]),n=(0,l.useMemo)(()=>new c.ArchMindWebviewApiClient,[]),[t,a]=(0,l.useState)(null),[o,A]=(0,l.useState)(!1),[r,m]=(0,l.useState)(null),[C,f]=(0,l.useState)(null),[g,B]=(0,l.useState)([]),[h,I]=(0,l.useState)([]),[b,x]=(0,l.useState)(null),[y,v]=(0,l.useState)("off"),[E,k]=(0,l.useState)({import:!0,inheritance:!0,library:!0,data:!0});(0,l.useEffect)(()=>{const n=e=>{const n=e.data;if("architectureData"===n?.command){const e=n.data?.repo_id||n.data?.repoId;e&&a(e)}};return window.addEventListener("message",n),e.postMessage({command:"requestArchitecture"}),()=>window.removeEventListener("message",n)},[e]),(0,l.useEffect)(()=>{if(!t)return;let e=!0;return(async()=>{try{A(!0),m(null);const a=await n.getDependencies(t);if(!e)return;f(a)}catch(n){if(!e)return;m(n instanceof Error?n.message:"Failed to load dependencies")}finally{e&&A(!1)}})(),()=>{e=!1}},[n,t]);const w=(0,l.useMemo)(()=>C?C.dependencies.filter(e=>{const n=u(e);return E[n]}):[],[C,E]);return(0,l.useEffect)(()=>{if(!C)return;const e=function(e,n,t){if(!n||"off"===t)return e;const a=n.includes(":")?n.split(":").slice(1).join(":"):n,o=new Map;e.forEach(e=>{const n=e.source_file,t=e.target;o.has(n)||o.set(n,new Set),o.get(n)?.add(t),o.has(t)||o.set(t,new Set),o.get(t)?.add(n)});const A="all"===t?99:parseInt(t,10),r=[{id:a,depth:0}],l=new Set([a]);for(;r.length>0;){const e=r.shift();if(!e)break;if(e.depth>=A)continue;const n=o.get(e.id);n&&n.forEach(n=>{l.has(n)||(l.add(n),r.push({id:n,depth:e.depth+1}))})}return e.filter(e=>l.has(e.source_file)||l.has(e.target))}(w,b,y),n=new Map,t=new Map;e.forEach(e=>{const a=`file:${e.source_file}`,o=`${e.target_type}:${e.target}`,A=u(e);n.has(a)||n.set(a,p(a,e.source_file,"File")),n.has(o)||n.set(o,p(o,e.target,e.target_type));const r=`${a}|${o}|${A}`,l=t.get(r);l?l.count+=1:t.set(r,{source:a,target:o,category:A,count:1})});const a=Array.from(n.values()),o=Array.from(t.entries()).map(([e,n])=>{const t=d[n.category];return{id:e,source:n.source,target:n.target,label:`${n.count} ${n.category}`,style:{stroke:t.color,strokeWidth:t.width,strokeDasharray:t.dash},labelStyle:{fill:t.color,fontSize:10},animated:"data"===n.category}}),A=a.map(e=>({id:e.id,width:180,height:50})),r=o.map(e=>({id:e.id,source:e.source,target:e.target})),{nodes:l}=(0,s.dagreLayout)(A,r,"LR"),i=a.map(e=>({...e,position:l.get(e.id)||{x:0,y:0}}));B(i),I(o)},[C,w,y,b]),l.default.createElement("div",{className:"diagram-container"},l.default.createElement("div",{className:"diagram-header"},l.default.createElement("div",null,l.default.createElement("h2",null,"Dependency Diagram"),l.default.createElement("p",null,"Visualize import, inheritance, library, and data dependencies.")),l.default.createElement("div",{className:"diagram-filters"},l.default.createElement("label",null,l.default.createElement("input",{type:"checkbox",checked:E.import,onChange:()=>k(e=>({...e,import:!e.import}))}),"Import"),l.default.createElement("label",null,l.default.createElement("input",{type:"checkbox",checked:E.inheritance,onChange:()=>k(e=>({...e,inheritance:!e.inheritance}))}),"Inheritance"),l.default.createElement("label",null,l.default.createElement("input",{type:"checkbox",checked:E.library,onChange:()=>k(e=>({...e,library:!e.library}))}),"Library"),l.default.createElement("label",null,l.default.createElement("input",{type:"checkbox",checked:E.data,onChange:()=>k(e=>({...e,data:!e.data}))}),"Data")),l.default.createElement("div",{className:"diagram-filters focus-group"},l.default.createElement("span",null,"Focus:"),["off","1","2","all"].map(e=>l.default.createElement("button",{key:e,className:y===e?"diagram-pill active":"diagram-pill",onClick:()=>v(e)},"off"===e?"All":`${e}-hop`)))),o&&l.default.createElement("div",{className:"diagram-state"},"Loading dependencies..."),r&&l.default.createElement("div",{className:"diagram-state diagram-error"},r),!o&&!r&&l.default.createElement(i.ReactFlowProvider,null,l.default.createElement("div",{className:"diagram-flow"},l.default.createElement(i.default,{nodes:g,edges:h,fitView:!0,fitViewOptions:{padding:.2},onNodeClick:(e,n)=>x(n.id)},l.default.createElement(i.Background,{variant:i.BackgroundVariant.Dots,gap:16,size:.8})))))}},72980(e,n){function t(e,n,t,a="local"){const o={version:"1.0",exportDate:(new Date).toISOString(),metadata:{totalNodes:e.length,totalEdges:n.length,source:a},nodes:e.map(e=>({id:e.id,label:e.data?.label||e.id,type:e.data?.type||"default",position:e.position,data:e.data,style:e.style})),edges:n.map(e=>({id:e.id,source:e.source,target:e.target,type:e.type,label:"string"==typeof e.label?e.label:void 0})),rawData:t};return JSON.stringify(o,null,2)}Object.defineProperty(n,"__esModule",{value:!0}),n.exportAsJSON=t,n.downloadJSON=function(e,n,a="graph-export.json",o,A="local"){const r=t(e,n,o,A);if("function"==typeof acquireVsCodeApi)acquireVsCodeApi().postMessage({command:"saveFile",data:r,filename:a,mimeType:"application/json"});else{const e=new Blob([r],{type:"application/json"}),n=URL.createObjectURL(e),t=document.createElement("a");t.href=n,t.download=a,document.body.appendChild(t),t.click(),document.body.removeChild(t),URL.revokeObjectURL(n)}},n.parseImportedJSON=function(e){try{const n=JSON.parse(e);if(!n.version||!n.nodes||!n.edges)throw new Error("Invalid export file format");return n}catch(e){throw new Error(`Failed to parse JSON: ${e instanceof Error?e.message:"Unknown error"}`)}},n.convertToReactFlowFormat=function(e){return{nodes:e.nodes.map(e=>({id:e.id,position:e.position,data:e.data,type:"default"===e.type?void 0:e.type,style:e.style})),edges:e.edges.map(e=>({id:e.id,source:e.source,target:e.target,type:e.type,label:e.label}))}},n.getJSONSize=function(e,n,a){const o=t(e,n,a);return new Blob([o]).size},n.formatFileSize=function(e){return e<1024?`${e} B`:e<1048576?`${(e/1024).toFixed(2)} KB`:`${(e/1048576).toFixed(2)} MB`}},83569(e,n,t){var a,o=this&&this.__createBinding||(Object.create?function(e,n,t,a){void 0===a&&(a=t);var o=Object.getOwnPropertyDescriptor(n,t);o&&!("get"in o?!n.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return n[t]}}),Object.defineProperty(e,a,o)}:function(e,n,t,a){void 0===a&&(a=t),e[a]=n[t]}),A=this&&this.__setModuleDefault||(Object.create?function(e,n){Object.defineProperty(e,"default",{enumerable:!0,value:n})}:function(e,n){e.default=n}),r=this&&this.__importStar||(a=function(e){return a=Object.getOwnPropertyNames||function(e){var n=[];for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(n[n.length]=t);return n},a(e)},function(e){if(e&&e.__esModule)return e;var n={};if(null!=e)for(var t=a(e),r=0;r<t.length;r++)"default"!==t[r]&&o(n,e,t[r]);return A(n,e),n}),l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});const i=r(t(96540)),s=l(t(52915)),c=t(47053),d=t(51225),u=t(72926),p=t(49166),m=t(10918),C=t(8575),f=t(61239),g=()=>((0,m.useThemeKeyboard)(),null),B=()=>i.default.createElement("header",{className:"app-header"},i.default.createElement("div",{className:"header-content"},i.default.createElement("h1",{className:"header-title"},i.default.createElement("span",{className:"header-icon"},"üèóÔ∏è"),"ArchMind"),i.default.createElement("span",{className:"header-subtitle"},"Architecture Intelligence")),i.default.createElement("div",{className:"header-actions"},i.default.createElement(C.CompactThemeToggle,null)));n.default=()=>{(0,i.useEffect)(()=>{(0,f.initializeExportListener)()},[]);const[e,n]=(0,i.useState)("graph");return i.default.createElement(m.ThemeProvider,null,i.default.createElement(g,null),i.default.createElement("div",{className:"app-container"},i.default.createElement(B,null),i.default.createElement("div",{className:"view-toggle"},i.default.createElement("button",{className:"graph"===e?"view-tab active":"view-tab",onClick:()=>n("graph")},"Graph"),i.default.createElement("button",{className:"boundaries"===e?"view-tab active":"view-tab",onClick:()=>n("boundaries")},"Boundaries"),i.default.createElement("button",{className:"boundary-diagram"===e?"view-tab active":"view-tab",onClick:()=>n("boundary-diagram")},"Boundary Diagram"),i.default.createElement("button",{className:"dependency-diagram"===e?"view-tab active":"view-tab",onClick:()=>n("dependency-diagram")},"Dependency Diagram"),i.default.createElement("button",{className:"communication"===e?"view-tab active":"view-tab",onClick:()=>n("communication")},"Communication")),i.default.createElement("main",{className:"app-main"},"graph"===e&&i.default.createElement(s.default,null),"boundaries"===e&&i.default.createElement(c.ModuleBoundaryDiagram,null),"boundary-diagram"===e&&i.default.createElement(d.BoundaryDiagram,null),"dependency-diagram"===e&&i.default.createElement(u.DependencyDiagram,null),"communication"===e&&i.default.createElement(p.ServiceCommunicationDiagram,null))))}},88952(e,n,t){var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.DEFAULT_PDF_OPTIONS=void 0,n.exportAsPDF=r,n.exportDetailedPDF=async function(e,t,a,o="graph-detailed.pdf",A={}){return r(e,t,a,o,{...n.DEFAULT_PDF_OPTIONS,includeMetadata:!0,...A})},n.exportCustomPDF=async function(e,n,t,a){const r=new o.default({orientation:"landscape",unit:"mm",format:"a4"}),i=r.internal.pageSize.getWidth();let s=20;r.setFontSize(20),r.setTextColor(0,0,0),r.text(a.title,i/2,s,{align:"center"}),s+=10,a.subtitle&&(r.setFontSize(12),r.setTextColor(100,100,100),r.text(a.subtitle,i/2,s,{align:"center"}),s+=10);const c=e.querySelector(".react-flow__viewport");if(c){const e=await(0,A.default)(c,{backgroundColor:"#1e1e1e",scale:2,logging:!1});r.addPage();const n=e.toDataURL("image/jpeg",.95);r.addImage(n,"JPEG",10,10,i-20,180)}if(a.includeStats&&(r.addPage(),function(e,n,t){const a=e.internal.pageSize.getWidth();let o=20;e.setFontSize(14),e.text("Statistics",a/2,o,{align:"center"}),o+=15,e.setFontSize(12),e.text("Node Type Distribution",10,o),o+=7;const A=new Map;n.forEach(e=>{const n=e.data?.type||"default";A.set(n,(A.get(n)||0)+1)}),e.setFontSize(10),Array.from(A.entries()).forEach(([t,a])=>{e.text(`${t}: ${a} (${(a/n.length*100).toFixed(1)}%)`,15,o),o+=6}),o+=10,e.setFontSize(12),e.text("Connection Statistics",10,o),o+=7;const r=t.length/n.length;e.setFontSize(10),e.text(`Average connections per node: ${r.toFixed(2)}`,15,o)}(r,n,t)),a.includeNodeList&&(r.addPage(),l(r,n,t)),"function"==typeof acquireVsCodeApi){const e=r.output("blob"),n=new FileReader;n.onloadend=()=>{acquireVsCodeApi().postMessage({command:"saveFile",data:n.result,filename:a.filename,mimeType:"application/pdf"})},n.onerror=()=>{throw new Error("Failed to read PDF blob")},n.readAsDataURL(e)}else r.save(a.filename)},n.estimatePDFSize=function(e,n){return 5e4+100*e.length+50*n.length};const o=a(t(18781)),A=a(t(20354));async function r(e,t,a,r="graph.pdf",i={}){const s={...n.DEFAULT_PDF_OPTIONS,...i};try{const n=e.querySelector(".react-flow__viewport");if(!n)throw new Error("ReactFlow viewport not found");const i=await(0,A.default)(n,{backgroundColor:"#1e1e1e",scale:2,logging:!1,useCORS:!0}),c=new o.default({orientation:s.orientation,unit:"mm",format:s.format}),d=c.internal.pageSize.getWidth(),u=c.internal.pageSize.getHeight();let p=10;s.includeTitle&&s.title&&(c.setFontSize(16),c.setTextColor(0,0,0),c.text(s.title,d/2,p,{align:"center"}),p+=10),s.includeMetadata&&(c.setFontSize(10),c.setTextColor(100,100,100),[`Generated: ${(new Date).toLocaleString()}`,`Nodes: ${t.length} | Edges: ${a.length}`].forEach(e=>{c.text(e,10,p),p+=5}),p+=5);const m=i.toDataURL("image/jpeg",s.quality),C=i.width/i.height;let f=d-20,g=f/C;g>u-p-10&&(g=u-p-10,f=g*C);const B=(d-f)/2;if(c.addImage(m,"JPEG",B,p,f,g),s.includeMetadata&&t.length>0&&(c.addPage(),l(c,t,a)),"function"==typeof acquireVsCodeApi){const e=c.output("blob"),n=new FileReader;n.onloadend=()=>{acquireVsCodeApi().postMessage({command:"saveFile",data:n.result,filename:r,mimeType:"application/pdf"})},n.onerror=()=>{throw new Error("Failed to read PDF blob")},n.readAsDataURL(e)}else c.save(r)}catch(e){throw new Error(`PDF export failed: ${e instanceof Error?e.message:"Unknown error"}`)}}function l(e,n,t){const a=e.internal.pageSize.getWidth(),o=e.internal.pageSize.getHeight();let A=20;e.setFontSize(14),e.setTextColor(0,0,0),e.text("Graph Details",a/2,A,{align:"center"}),A+=10,e.setFontSize(12),e.text("Summary",10,A),A+=7,e.setFontSize(10),[`Total Nodes: ${n.length}`,`Total Edges: ${t.length}`,`Node Types: ${i(n).join(", ")}`].forEach(n=>{e.text(n,15,A),A+=6}),A+=10,e.setFontSize(12),e.text("Nodes",10,A),A+=7,e.setFontSize(9),n.slice(0,50).forEach(n=>{A>o-20&&(e.addPage(),A=20);const t=`‚Ä¢ ${n.data?.label||n.id} (${n.data?.type||"default"})`;e.text(t,15,A),A+=5}),n.length>50&&e.text(`... and ${n.length-50} more nodes`,15,A)}function i(e){const n=new Set;return e.forEach(e=>{n.add(e.data?.type||"default")}),Array.from(n)}n.DEFAULT_PDF_OPTIONS={orientation:"landscape",format:"a4",includeMetadata:!0,includeTitle:!0,title:"Architecture Graph",quality:.95}},91763(e,n,t){t.d(n,{A:()=>l});var a=t(71354),o=t.n(a),A=t(76314),r=t.n(A)()(o());r.push([e.id,'/* Base styles */\n*,\n*::before,\n*::after {\n    box-sizing: border-box;\n}\n\n\n/* Theme system: custom variables for light/dark */\n:root {\n    --am-bg: #fff;\n    --am-fg: #222;\n    --am-header-bg: #f5f5f7;\n    --am-header-fg: #222;\n    --am-border: #e0e0e0;\n    --am-panel-bg: #f9f9fa;\n    --am-panel-fg: #222;\n    --am-accent: #0078d4;\n    --am-hover: #f0f0f0;\n    --am-input-bg: #fff;\n    --am-input-fg: #222;\n    --am-input-border: #cecece;\n    --am-input-placeholder: #999;\n    --am-btn-bg: #0078d4;\n    --am-btn-fg: #fff;\n    --am-btn-hover: #005fa3;\n    --am-btn-secondary-bg: #e4e4e4;\n    --am-btn-secondary-fg: #333;\n    --am-btn-secondary-hover: #d0d0d0;\n    --am-badge-bg: #0078d4;\n    --am-badge-fg: #fff;\n    --am-kbd-bg: #eee;\n    --am-kbd-border: #ccc;\n    --am-link: #0078d4;\n    --am-desc: #666;\n    --am-icon: #555;\n    --am-error: #d32f2f;\n    --am-blockquote-bg: #f0f0f0;\n    --am-selection-bg: #0078d4;\n    --am-selection-fg: #fff;\n    --am-highlight-bg: rgba(255, 215, 0, 0.3);\n    --am-find-match-bg: rgba(255, 165, 0, 0.4);\n    --am-chart-green: #388e3c;\n}\n\n[data-theme="dark"] {\n    --am-bg: #181a1b;\n    --am-fg: #eee;\n    --am-header-bg: #23272e;\n    --am-header-fg: #eee;\n    --am-border: #333;\n    --am-panel-bg: #23272e;\n    --am-panel-fg: #eee;\n    --am-accent: #4fc3f7;\n    --am-hover: #2a2e35;\n    --am-input-bg: #1e2127;\n    --am-input-fg: #eee;\n    --am-input-border: #444;\n    --am-input-placeholder: #777;\n    --am-btn-bg: #4fc3f7;\n    --am-btn-fg: #111;\n    --am-btn-hover: #39a8db;\n    --am-btn-secondary-bg: #333;\n    --am-btn-secondary-fg: #ccc;\n    --am-btn-secondary-hover: #444;\n    --am-badge-bg: #4fc3f7;\n    --am-badge-fg: #111;\n    --am-kbd-bg: #333;\n    --am-kbd-border: #555;\n    --am-link: #4fc3f7;\n    --am-desc: #999;\n    --am-icon: #aaa;\n    --am-error: #f44747;\n    --am-blockquote-bg: #1e2127;\n    --am-selection-bg: #4fc3f7;\n    --am-selection-fg: #111;\n    --am-highlight-bg: rgba(255, 215, 0, 0.25);\n    --am-find-match-bg: rgba(255, 165, 0, 0.35);\n    --am-chart-green: #4caf50;\n}\n\n[data-theme="light"] {\n    --am-bg: #fff;\n    --am-fg: #222;\n    --am-header-bg: #f5f5f7;\n    --am-header-fg: #222;\n    --am-border: #e0e0e0;\n    --am-panel-bg: #f9f9fa;\n    --am-panel-fg: #222;\n    --am-accent: #0078d4;\n    --am-hover: #f0f0f0;\n    --am-input-bg: #fff;\n    --am-input-fg: #222;\n    --am-input-border: #cecece;\n    --am-input-placeholder: #999;\n    --am-btn-bg: #0078d4;\n    --am-btn-fg: #fff;\n    --am-btn-hover: #005fa3;\n    --am-btn-secondary-bg: #e4e4e4;\n    --am-btn-secondary-fg: #333;\n    --am-btn-secondary-hover: #d0d0d0;\n    --am-badge-bg: #0078d4;\n    --am-badge-fg: #fff;\n    --am-kbd-bg: #eee;\n    --am-kbd-border: #ccc;\n    --am-link: #0078d4;\n    --am-desc: #666;\n    --am-icon: #555;\n    --am-error: #d32f2f;\n    --am-blockquote-bg: #f0f0f0;\n    --am-selection-bg: #0078d4;\n    --am-selection-fg: #fff;\n    --am-highlight-bg: rgba(255, 215, 0, 0.3);\n    --am-find-match-bg: rgba(255, 165, 0, 0.4);\n    --am-chart-green: #388e3c;\n}\n\nbody {\n    margin: 0;\n    padding: 0;\n    font-family: var(--vscode-font-family, \'Segoe UI\', Arial, sans-serif);\n    font-size: var(--vscode-font-size, 13px);\n    font-weight: var(--vscode-font-weight, 400);\n    background-color: var(--am-bg);\n    color: var(--am-fg);\n    transition: background-color 0.3s, color 0.3s;\n    overflow: hidden;\n}\n\nhtml, body, #root {\n    width: 100%;\n    height: 100%;\n    overflow: hidden;\n}\n\n/* App layout */\n.app-container {\n    width: 100vw;\n    height: 100vh;\n    display: flex;\n    flex-direction: column;\n    overflow: hidden;\n    background: var(--am-bg);\n    color: var(--am-fg);\n}\n\n.app-header {\n    padding: 8px 16px;\n    border-bottom: 1px solid var(--am-border);\n    background-color: var(--am-header-bg);\n    color: var(--am-header-fg);\n    flex-shrink: 0;\n}\n\n.header-content {\n    display: flex;\n    align-items: center;\n    gap: 12px;\n    flex: 1;\n}\n\n.header-title {\n    margin: 0;\n    font-size: 14px;\n    font-weight: 600;\n    display: flex;\n    align-items: center;\n    gap: 6px;\n}\n\n.header-icon {\n    font-size: 16px;\n}\n\n.header-subtitle {\n    font-size: 12px;\n    opacity: 0.7;\n}\n\n.app-header {\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n}\n\n.view-toggle {\n    display: flex;\n    gap: 6px;\n    padding: 6px 12px;\n    border-bottom: 1px solid var(--am-border);\n    background: var(--am-panel-bg);\n}\n\n.view-tab {\n    padding: 6px 12px;\n    border-radius: 999px;\n    border: 1px solid transparent;\n    background: transparent;\n    color: var(--am-fg);\n    font-size: 12px;\n    cursor: pointer;\n}\n\n.view-tab:hover {\n    background: var(--am-hover);\n}\n\n.view-tab.active {\n    background: var(--am-btn-bg);\n    color: var(--am-btn-fg);\n    border-color: var(--am-btn-bg);\n}\n\n.diagram-container {\n    display: flex;\n    flex-direction: column;\n    height: 100%;\n    padding: 16px;\n    gap: 12px;\n}\n\n.diagram-header {\n    display: flex;\n    flex-wrap: wrap;\n    align-items: center;\n    justify-content: space-between;\n    gap: 12px;\n}\n\n.diagram-header h2 {\n    margin: 0;\n    font-size: 16px;\n}\n\n.diagram-header p {\n    margin: 4px 0 0;\n    font-size: 12px;\n    color: var(--am-desc);\n}\n\n.diagram-filters {\n    display: flex;\n    flex-wrap: wrap;\n    gap: 10px;\n    align-items: center;\n    font-size: 11px;\n    color: var(--am-desc);\n}\n\n.diagram-filters label {\n    display: flex;\n    gap: 4px;\n    align-items: center;\n}\n\n.diagram-pill {\n    padding: 4px 8px;\n    border-radius: 999px;\n    border: 1px solid var(--am-border);\n    background: var(--am-panel-bg);\n    color: var(--am-fg);\n    cursor: pointer;\n    font-size: 11px;\n}\n\n.diagram-pill.active {\n    background: var(--am-btn-bg);\n    color: var(--am-btn-fg);\n    border-color: var(--am-btn-bg);\n}\n\n.diagram-state {\n    padding: 12px;\n    background: var(--am-panel-bg);\n    border-radius: 8px;\n    color: var(--am-desc);\n}\n\n.diagram-error {\n    background: rgba(211, 47, 47, 0.12);\n    color: var(--am-error);\n}\n\n.diagram-flow {\n    flex: 1;\n    min-height: 400px;\n    border: 1px solid var(--am-border);\n    border-radius: 12px;\n    overflow: hidden;\n    background: var(--am-panel-bg);\n}\n\n.boundary-diagram-node {\n    background: var(--am-bg);\n    border: 2px solid var(--am-border);\n    border-radius: 12px;\n    padding: 10px;\n    font-size: 11px;\n    color: var(--am-fg);\n    width: 100%;\n    height: 100%;\n}\n\n.boundary-node-header {\n    display: flex;\n    justify-content: space-between;\n    font-weight: 600;\n    margin-bottom: 4px;\n}\n\n.boundary-node-path {\n    font-size: 10px;\n    color: var(--am-desc);\n    word-break: break-word;\n}\n\n.boundary-node-meta {\n    font-size: 10px;\n    color: var(--am-desc);\n    margin-top: 6px;\n}\n\n.boundary-layer-pill {\n    padding: 2px 6px;\n    border-radius: 999px;\n    background: var(--am-panel-bg);\n    border: 1px solid var(--am-border);\n    font-size: 9px;\n    text-transform: uppercase;\n}\n\n.boundary-file-dot {\n    width: 6px;\n    height: 6px;\n    border-radius: 50%;\n    background: var(--am-accent);\n    opacity: 0.7;\n}\n\n.boundary-view {\n    padding: 16px;\n    height: 100%;\n    overflow: auto;\n}\n\n.boundary-header {\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n    gap: 12px;\n    margin-bottom: 12px;\n}\n\n.boundary-title {\n    margin: 0;\n    font-size: 16px;\n}\n\n.boundary-subtitle {\n    margin: 4px 0 0;\n    font-size: 12px;\n    color: var(--am-desc);\n}\n\n.boundary-actions {\n    display: flex;\n    align-items: center;\n    gap: 8px;\n}\n\n.boundary-refresh {\n    padding: 6px 12px;\n    border-radius: 6px;\n    border: 1px solid var(--am-border);\n    background: var(--am-btn-secondary-bg);\n    color: var(--am-btn-secondary-fg);\n    cursor: pointer;\n}\n\n.boundary-refresh:disabled {\n    opacity: 0.6;\n    cursor: not-allowed;\n}\n\n.boundary-state {\n    margin: 12px 0;\n    padding: 12px;\n    border-radius: 8px;\n    background: var(--am-panel-bg);\n    color: var(--am-desc);\n}\n\n.boundary-error {\n    background: rgba(211, 47, 47, 0.12);\n    color: var(--am-error);\n}\n\n.boundary-summary {\n    display: flex;\n    gap: 8px;\n    margin-bottom: 16px;\n    flex-wrap: wrap;\n}\n\n.boundary-pill {\n    padding: 4px 10px;\n    border-radius: 999px;\n    background: var(--am-badge-bg);\n    color: var(--am-badge-fg);\n    font-size: 11px;\n}\n\n.boundary-pill.muted {\n    background: var(--am-panel-bg);\n    color: var(--am-desc);\n}\n\n.boundary-grid {\n    display: grid;\n    grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));\n    gap: 16px;\n}\n\n.boundary-column {\n    background: var(--am-panel-bg);\n    border: 1px solid var(--am-border);\n    border-radius: 12px;\n    padding: 12px;\n    min-height: 200px;\n}\n\n.boundary-column-header h3 {\n    margin: 0;\n    font-size: 14px;\n}\n\n.boundary-column-header p {\n    margin: 4px 0 12px;\n    font-size: 11px;\n    color: var(--am-desc);\n}\n\n.boundary-cards {\n    display: flex;\n    flex-direction: column;\n    gap: 10px;\n}\n\n.boundary-card {\n    border: 1px solid var(--am-border);\n    border-radius: 10px;\n    padding: 10px;\n    background: var(--am-bg);\n}\n\n.boundary-card-header {\n    display: flex;\n    justify-content: space-between;\n    gap: 8px;\n    align-items: flex-start;\n}\n\n.boundary-name {\n    font-weight: 600;\n    font-size: 13px;\n}\n\n.boundary-path {\n    font-size: 11px;\n    color: var(--am-desc);\n    word-break: break-word;\n}\n\n.boundary-card-meta {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    margin-top: 8px;\n    font-size: 11px;\n    color: var(--am-desc);\n}\n\n.boundary-toggle {\n    border: none;\n    background: transparent;\n    color: var(--am-link);\n    cursor: pointer;\n    font-size: 11px;\n}\n\n.boundary-files {\n    margin: 8px 0 0;\n    padding-left: 16px;\n    font-size: 11px;\n    color: var(--am-desc);\n}\n\n.boundary-more {\n    color: var(--am-desc);\n    font-style: italic;\n}\n\n.layer-pill {\n    padding: 2px 8px;\n    border-radius: 999px;\n    font-size: 10px;\n    text-transform: uppercase;\n    letter-spacing: 0.4px;\n}\n\n.layer-presentation {\n    background: rgba(79, 195, 247, 0.2);\n    color: #0277bd;\n}\n\n.layer-business {\n    background: rgba(255, 167, 38, 0.2);\n    color: #ef6c00;\n}\n\n.layer-data {\n    background: rgba(76, 175, 80, 0.2);\n    color: #2e7d32;\n}\n\n.layer-infra {\n    background: rgba(156, 39, 176, 0.2);\n    color: #6a1b9a;\n}\n\n.layer-unknown {\n    background: rgba(120, 144, 156, 0.2);\n    color: #455a64;\n}\n\n.header-actions {\n    display: flex;\n    align-items: center;\n    gap: 8px;\n    margin-right: 8px;\n}\n\n/* Cluster Controls */\n.cluster-controls {\n    position: absolute;\n    bottom: 10px;\n    left: 10px;\n    display: flex;\n    align-items: center;\n    gap: 6px;\n    background: var(--am-panel-bg);\n    color: var(--am-panel-fg);\n    border: 1px solid var(--am-border);\n    border-radius: 6px;\n    padding: 4px 10px;\n    z-index: 10;\n    font-size: 12px;\n}\n\n.cluster-label {\n    opacity: 0.8;\n}\n\n.cluster-btn {\n    background: none;\n    border: 1px solid var(--am-border);\n    color: var(--am-fg);\n    border-radius: 3px;\n    padding: 2px 6px;\n    cursor: pointer;\n    font-size: 12px;\n}\n\n.cluster-btn:hover {\n    background: var(--am-hover);\n}\n\n.app-main {\n    flex: 1;\n    position: relative;\n    overflow: hidden;\n    background: var(--am-bg);\n    color: var(--am-fg);\n}\n\n/* Loading state */\n.loading-container {\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    justify-content: center;\n    height: 100%;\n    gap: 16px;\n    color: var(--am-fg);\n}\n\n.loading-spinner {\n    width: 32px;\n    height: 32px;\n    border: 3px solid var(--am-border);\n    border-top-color: var(--am-accent);\n    border-radius: 50%;\n    animation: spin 1s linear infinite;\n}\n\n@keyframes spin {\n    to {\n        transform: rotate(360deg);\n    }\n}\n\n/* Error state */\n.error-container {\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    justify-content: center;\n    height: 100%;\n    gap: 16px;\n    color: var(--am-fg);\n    background: var(--am-bg);\n    padding: 20px;\n    text-align: center;\n}\n\n.error-icon {\n    font-size: 48px;\n}\n\n.error-container h3 {\n    margin: 0;\n    font-size: 18px;\n    color: var(--am-error);\n}\n\n.error-message {\n    margin: 0;\n    font-size: 14px;\n    opacity: 0.8;\n    max-width: 400px;\n    line-height: 1.5;\n}\n\n.error-actions {\n    display: flex;\n    gap: 12px;\n    margin-top: 8px;\n}\n\n.retry-button,\n.backend-button {\n    padding: 8px 16px;\n    border-radius: 4px;\n    font-size: 13px;\n    cursor: pointer;\n    border: none;\n    transition: background-color 0.2s;\n}\n\n.retry-button {\n    background-color: var(--am-btn-secondary-bg);\n    color: var(--am-btn-secondary-fg);\n}\n\n.retry-button:hover {\n    background-color: var(--am-btn-secondary-hover);\n}\n\n.backend-button {\n    background-color: var(--am-btn-bg);\n    color: var(--am-btn-fg);\n}\n\n.backend-button:hover {\n    background-color: var(--am-btn-hover);\n}\n\n/* Stats panel */\n.stats-panel {\n    position: absolute;\n    top: 10px;\n    left: 10px;\n    z-index: 10;\n    background-color: var(--am-panel-bg);\n    color: var(--am-panel-fg);\n    border: 1px solid var(--am-border);\n    border-radius: 6px;\n    padding: 12px;\n    font-size: 12px;\n    min-width: 150px;\n    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);\n}\n\n.source-badge {\n    display: inline-block;\n    padding: 3px 8px;\n    border-radius: 4px;\n    font-size: 10px;\n    font-weight: 600;\n    color: white;\n    margin-bottom: 10px;\n}\n\n.stat-item {\n    display: flex;\n    justify-content: space-between;\n    margin-bottom: 6px;\n}\n\n.stat-label {\n    opacity: 0.8;\n}\n\n.stat-value {\n    font-weight: 600;\n}\n\n.stat-languages {\n    display: flex;\n    flex-wrap: wrap;\n    gap: 4px;\n    margin-top: 8px;\n    padding-top: 8px;\n    border-top: 1px solid var(--am-border);\n}\n\n.language-badge {\n    padding: 2px 6px;\n    border-radius: 3px;\n    font-size: 10px;\n    color: white;\n    font-weight: 500;\n}\n\n/* ReactFlow node styles */\n.react-flow__node {\n    background: var(--am-panel-bg);\n    color: var(--am-panel-fg);\n    border: 1px solid var(--am-border);\n    border-radius: 4px;\n    padding: 8px 12px;\n    font-size: 12px;\n    font-family: var(--vscode-font-family, \'Segoe UI\', Arial, sans-serif);\n    transition: box-shadow 0.15s ease, transform 0.15s ease;\n}\n\n.react-flow__node:hover {\n    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);\n    transform: translateY(-1px);\n}\n\n.react-flow__node.selected {\n    box-shadow: 0 0 0 2px var(--am-accent);\n}\n\n/* ReactFlow edge styles */\n.react-flow__edge-path {\n    stroke: var(--am-fg);\n    stroke-width: 1;\n}\n\n.react-flow__edge:hover .react-flow__edge-path {\n    stroke-width: 2;\n}\n\n/* ReactFlow controls */\n.react-flow__controls {\n    background-color: var(--am-panel-bg);\n    color: var(--am-panel-fg);\n    border: 1px solid var(--am-border);\n    border-radius: 6px;\n    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);\n}\n\n.react-flow__controls-button {\n    background-color: transparent;\n    border: none;\n    color: var(--am-fg);\n}\n\n.react-flow__controls-button:hover {\n    background-color: var(--am-hover);\n}\n\n.react-flow__controls-button svg {\n    fill: var(--am-fg);\n}\n\n/* Enhanced ReactFlow minimap (Issue #19) */\n.react-flow__minimap {\n    background-color: var(--am-panel-bg);\n    border: 1px solid var(--am-border);\n    border-radius: 6px;\n    box-shadow: 0 2px 12px rgba(0, 0, 0, 0.25);\n}\n\n/* Mini-map node colors by type */\n.minimap-node-file {\n    fill: #3498db !important;\n}\n\n.minimap-node-directory {\n    fill: #9b59b6 !important;\n}\n\n.minimap-node-function {\n    fill: #2ecc71 !important;\n}\n\n.minimap-node-class {\n    fill: #e67e22 !important;\n}\n\n.minimap-node-module {\n    fill: #1abc9c !important;\n}\n\n/* Selected node in minimap */\n.minimap-node-selected {\n    fill: #f39c12 !important;\n    stroke: #f39c12 !important;\n    stroke-width: 3px !important;\n    filter: drop-shadow(0 0 4px #f39c12);\n}\n\n/* Hovered node in minimap */\n.minimap-node-hovered {\n    fill: #e74c3c !important;\n    stroke: #e74c3c !important;\n    stroke-width: 2px !important;\n}\n\n/* Minimap mask (viewport indicator) */\n.react-flow__minimap-mask {\n    fill: rgba(0, 150, 255, 0.1);\n    stroke: var(--am-accent);\n    stroke-width: 2px;\n}\n\n/* Dark theme minimap adjustments */\n[data-theme="dark"] .react-flow__minimap {\n    background-color: rgba(30, 30, 30, 0.95);\n    border-color: rgba(255, 255, 255, 0.1);\n}\n\n[data-theme="dark"] .react-flow__minimap-mask {\n    fill: rgba(100, 150, 255, 0.15);\n}\n\n/* Search Panel Styles */\n.search-panel {\n    position: absolute;\n    top: 10px;\n    right: 10px;\n    z-index: 20;\n    background-color: var(--am-panel-bg);\n    color: var(--am-panel-fg);\n    border: 1px solid var(--am-border);\n    border-radius: 8px;\n    padding: 16px;\n    font-size: 12px;\n    min-width: 280px;\n    max-width: 320px;\n    box-shadow: 0 4px 16px rgba(0, 0, 0, 0.3);\n}\n\n.search-header {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    margin-bottom: 12px;\n    padding-bottom: 8px;\n    border-bottom: 1px solid var(--am-border);\n}\n\n.search-title {\n    font-weight: 600;\n    font-size: 13px;\n}\n\n.search-close {\n    background: none;\n    border: none;\n    color: var(--am-fg);\n    font-size: 18px;\n    cursor: pointer;\n    padding: 2px 6px;\n    border-radius: 4px;\n    opacity: 0.7;\n}\n\n.search-close:hover {\n    background-color: var(--am-hover);\n    opacity: 1;\n}\n\n.search-field {\n    margin-bottom: 12px;\n}\n\n.search-field label {\n    display: block;\n    margin-bottom: 4px;\n    font-size: 11px;\n    opacity: 0.8;\n}\n\n.search-input {\n    width: 100%;\n    padding: 6px 10px;\n    border: 1px solid var(--am-input-border);\n    border-radius: 4px;\n    background-color: var(--am-input-bg);\n    color: var(--am-input-fg);\n    font-size: 12px;\n    outline: none;\n}\n\n.search-input:focus {\n    border-color: var(--am-accent);\n}\n\n.search-input::placeholder {\n    color: var(--am-input-placeholder);\n}\n\n.search-select {\n    width: 100%;\n    padding: 6px 10px;\n    border: 1px solid var(--am-input-border);\n    border-radius: 4px;\n    background-color: var(--am-input-bg);\n    color: var(--am-input-fg);\n    font-size: 12px;\n    outline: none;\n    cursor: pointer;\n}\n\n.search-select:focus {\n    border-color: var(--am-accent);\n}\n\n.search-results {\n    padding: 8px 0;\n    border-top: 1px solid var(--am-border);\n    margin-top: 8px;\n}\n\n.result-count {\n    font-size: 11px;\n    opacity: 0.9;\n}\n\n.result-count strong {\n    color: var(--am-link);\n}\n\n.search-actions {\n    display: flex;\n    gap: 8px;\n    margin-top: 12px;\n}\n\n.search-btn {\n    flex: 1;\n    padding: 6px 12px;\n    border: none;\n    border-radius: 4px;\n    background-color: var(--am-btn-bg);\n    color: var(--am-btn-fg);\n    font-size: 11px;\n    cursor: pointer;\n    transition: background-color 0.15s;\n}\n\n.search-btn:hover:not(:disabled) {\n    background-color: var(--am-btn-hover);\n}\n\n.search-btn:disabled {\n    opacity: 0.5;\n    cursor: not-allowed;\n}\n\n.search-btn.secondary {\n    background-color: var(--am-btn-secondary-bg);\n    color: var(--am-btn-secondary-fg);\n}\n\n.search-btn.secondary:hover:not(:disabled) {\n    background-color: var(--am-btn-secondary-hover);\n}\n\n.search-hint {\n    margin-top: 12px;\n    padding-top: 8px;\n    border-top: 1px solid var(--am-border);\n    font-size: 10px;\n    opacity: 0.6;\n    text-align: center;\n}\n\n.search-hint kbd {\n    background-color: var(--am-kbd-bg);\n    border: 1px solid var(--am-kbd-border);\n    border-radius: 3px;\n    padding: 1px 4px;\n    font-size: 10px;\n    font-family: inherit;\n}\n\n/* Search Toggle Button */\n.search-toggle-btn {\n    position: absolute;\n    top: 10px;\n    right: 10px;\n    z-index: 15;\n    width: 36px;\n    height: 36px;\n    border: 1px solid var(--am-border);\n    border-radius: 6px;\n    background-color: var(--am-panel-bg);\n    color: var(--am-panel-fg);\n    font-size: 16px;\n    cursor: pointer;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);\n    transition: all 0.15s;\n}\n\n.search-toggle-btn:hover {\n    background-color: var(--am-hover);\n    transform: scale(1.05);\n}\n\n/* Node Tooltip Styles */\n.node-tooltip {\n    position: fixed;\n    z-index: 1000;\n    background-color: var(--am-panel-bg);\n    color: var(--am-panel-fg);\n    border: 1px solid var(--am-border);\n    border-radius: 6px;\n    padding: 10px 12px;\n    font-size: 11px;\n    max-width: 350px;\n    box-shadow: 0 4px 16px rgba(0, 0, 0, 0.4);\n    pointer-events: none;\n}\n\n.tooltip-header {\n    display: flex;\n    align-items: center;\n    gap: 6px;\n    margin-bottom: 8px;\n    padding-bottom: 6px;\n    border-bottom: 1px solid var(--am-border);\n}\n\n.tooltip-icon {\n    font-size: 14px;\n}\n\n.tooltip-label {\n    font-weight: 600;\n    font-size: 12px;\n    color: var(--am-fg);\n}\n\n.tooltip-details {\n    display: flex;\n    flex-direction: column;\n    gap: 4px;\n}\n\n.tooltip-row {\n    display: flex;\n    gap: 8px;\n}\n\n.tooltip-key {\n    color: var(--am-desc);\n    min-width: 60px;\n}\n\n.tooltip-value {\n    color: var(--am-fg);\n    word-break: break-all;\n}\n\n.tooltip-hint {\n    margin-top: 8px;\n    padding-top: 6px;\n    border-top: 1px solid var(--am-border);\n    font-size: 10px;\n    opacity: 0.6;\n    text-align: center;\n}\n\n/* Context Menu Styles */\n.context-menu {\n    position: fixed;\n    z-index: 1001;\n    background-color: var(--am-panel-bg);\n    color: var(--am-panel-fg);\n    border: 1px solid var(--am-border);\n    border-radius: 6px;\n    padding: 4px 0;\n    min-width: 180px;\n    box-shadow: 0 4px 16px rgba(0, 0, 0, 0.4);\n}\n\n.context-menu-header {\n    padding: 6px 12px;\n    font-size: 11px;\n    font-weight: 600;\n    color: var(--am-fg);\n    opacity: 0.8;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n}\n\n.context-menu-divider {\n    height: 1px;\n    background-color: var(--am-border);\n    margin: 4px 0;\n}\n\n.context-menu-item {\n    display: flex;\n    align-items: center;\n    gap: 8px;\n    width: 100%;\n    padding: 6px 12px;\n    border: none;\n    background: none;\n    color: var(--am-fg);\n    font-size: 12px;\n    text-align: left;\n    cursor: pointer;\n    transition: background-color 0.1s;\n}\n\n.context-menu-item:hover {\n    background-color: var(--am-hover);\n    color: var(--am-fg);\n}\n\n/* Node highlighting states */\n.react-flow__node.matching-node {\n    transition: all 0.2s ease;\n}\n\n.react-flow__node.dimmed-node {\n    transition: all 0.2s ease;\n}\n\n.react-flow__node.selected {\n    box-shadow: 0 0 0 3px var(--am-accent) !important;\n}\n\n/* Layout Panel Styles */\n.layout-panel {\n    position: absolute;\n    top: 10px;\n    right: 105px;\n    z-index: 20;\n    background-color: var(--am-panel-bg);\n    color: var(--am-panel-fg);\n    border: 1px solid var(--am-border);\n    border-radius: 8px;\n    padding: 16px;\n    font-size: 12px;\n    min-width: 240px;\n    max-width: 280px;\n    box-shadow: 0 4px 16px rgba(0, 0, 0, 0.3);\n}\n\n.layout-header {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    margin-bottom: 12px;\n    padding-bottom: 8px;\n    border-bottom: 1px solid var(--am-border);\n}\n\n.layout-title {\n    font-weight: 600;\n    font-size: 13px;\n}\n\n.layout-close {\n    background: none;\n    border: none;\n    color: var(--am-fg);\n    font-size: 18px;\n    cursor: pointer;\n    padding: 2px 6px;\n    border-radius: 4px;\n    opacity: 0.7;\n}\n\n.layout-close:hover {\n    background-color: var(--am-hover);\n    opacity: 1;\n}\n\n.layout-options {\n    display: flex;\n    flex-direction: column;\n    gap: 4px;\n}\n\n.layout-option {\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n    width: 100%;\n    padding: 8px 12px;\n    border: 1px solid transparent;\n    border-radius: 6px;\n    background-color: transparent;\n    color: var(--am-fg);\n    font-size: 12px;\n    text-align: left;\n    cursor: pointer;\n    transition: all 0.15s;\n}\n\n.layout-option:hover:not(:disabled) {\n    background-color: var(--am-hover);\n    border-color: var(--am-border);\n}\n\n.layout-option.active {\n    background-color: var(--am-selection-bg);\n    color: var(--am-selection-fg);\n    border-color: var(--am-accent);\n}\n\n.layout-option:disabled {\n    opacity: 0.5;\n    cursor: not-allowed;\n}\n\n.layout-option-label {\n    display: flex;\n    align-items: center;\n    gap: 6px;\n}\n\n.layout-check {\n    font-size: 14px;\n    color: var(--am-chart-green);\n}\n\n.layout-loading {\n    display: flex;\n    align-items: center;\n    gap: 8px;\n    padding: 10px 0;\n    margin-top: 8px;\n    border-top: 1px solid var(--am-border);\n    font-size: 11px;\n    color: var(--am-desc);\n}\n\n.loading-spinner-small {\n    width: 16px;\n    height: 16px;\n    border: 2px solid var(--am-border);\n    border-top-color: var(--am-accent);\n    border-radius: 50%;\n    animation: spin 1s linear infinite;\n}\n\n.layout-hint {\n    margin-top: 12px;\n    padding-top: 8px;\n    border-top: 1px solid var(--am-border);\n    font-size: 10px;\n    opacity: 0.6;\n    text-align: center;\n}\n\n.layout-hint kbd {\n    background-color: var(--am-kbd-bg);\n    border: 1px solid var(--am-kbd-border);\n    border-radius: 3px;\n    padding: 1px 4px;\n    font-size: 10px;\n    font-family: inherit;\n}\n\n/* Layout Toggle Button */\n.layout-toggle-btn {\n    position: absolute;\n    top: 10px;\n    right: 105px;\n    z-index: 15;\n    width: 36px;\n    height: 36px;\n    border: 1px solid var(--am-border);\n    border-radius: 6px;\n    background-color: var(--am-panel-bg);\n    color: var(--am-panel-fg);\n    font-size: 16px;\n    cursor: pointer;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);\n    transition: all 0.15s;\n}\n\n.layout-toggle-btn:hover {\n    background-color: var(--am-hover);\n    transform: scale(1.05);\n}\n\n/* Export Toggle Button */\n.export-toggle-btn {\n    position: absolute;\n    top: 10px;\n    right: 150px;\n    z-index: 15;\n    width: 36px;\n    height: 36px;\n    border: 1px solid var(--am-border);\n    border-radius: 6px;\n    background-color: var(--am-panel-bg);\n    color: var(--am-panel-fg);\n    font-size: 16px;\n    cursor: pointer;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);\n    transition: all 0.15s;\n}\n\n.export-toggle-btn:hover {\n    background-color: var(--am-hover);\n    transform: scale(1.05);\n}\n\n/* Fullscreen Toggle Button */\n.fullscreen-toggle-btn {\n    position: absolute;\n    top: 10px;\n    right: 55px;\n    z-index: 15;\n    width: 36px;\n    height: 36px;\n    border: 1px solid var(--am-border);\n    border-radius: 6px;\n    background-color: var(--am-panel-bg);\n    color: var(--am-panel-fg);\n    font-size: 18px;\n    cursor: pointer;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);\n    transition: all 0.15s;\n}\n\n.fullscreen-toggle-btn:hover {\n    background-color: var(--am-hover);\n    transform: scale(1.05);\n}\n\n/* Fullscreen Graph Styles */\n.fullscreen-graph {\n    position: fixed !important;\n    top: 0 !important;\n    left: 0 !important;\n    right: 0 !important;\n    bottom: 0 !important;\n    width: 100vw !important;\n    height: 100vh !important;\n    z-index: 99999 !important;\n    background: var(--am-bg);\n    margin: 0 !important;\n    padding: 0 !important;\n    overflow: hidden !important;\n}\n\n.fullscreen-graph .react-flow {\n    width: 100% !important;\n    height: 100% !important;\n}\n\n.fullscreen-graph .react-flow__viewport {\n    width: 100% !important;\n    height: 100% !important;\n}\n\n/* Make all parent containers allow fullscreen */\nbody:has(.fullscreen-graph),\nhtml:has(.fullscreen-graph),\n.app-container:has(.fullscreen-graph) {\n    overflow: hidden !important;\n}\n\n/* Hide header in fullscreen mode */\n.app-container:has(.fullscreen-graph) .app-header {\n    display: none !important;\n}\n\n/* Adjust stats display visibility in fullscreen */\n.fullscreen-graph .stats-display {\n    opacity: 0.85;\n    background: rgba(var(--am-panel-bg-rgb, 249, 249, 250), 0.95);\n}\n\n.fullscreen-graph .stats-display:hover {\n    opacity: 1;\n}\n\n/* Ensure all controls are accessible in fullscreen */\n.fullscreen-graph .search-toggle-btn,\n.fullscreen-graph .layout-toggle-btn,\n.fullscreen-graph .export-toggle-btn,\n.fullscreen-graph .fullscreen-toggle-btn,\n.fullscreen-graph .search-panel,\n.fullscreen-graph .layout-panel,\n.fullscreen-graph .export-menu {\n    z-index: 100000 !important;\n}\n\n/* Cluster Node Styles (Issue #11) */\n.cluster-node {\n    background: var(--am-panel-bg);\n    color: var(--am-panel-fg);\n    border: 2px dashed var(--am-border);\n    border-radius: 8px;\n    padding: 12px;\n    min-width: 200px;\n    max-width: 300px;\n    box-shadow: 0 2px 12px rgba(0, 0, 0, 0.25);\n}\n\n.cluster-header {\n    display: flex;\n    align-items: center;\n    gap: 8px;\n    margin-bottom: 10px;\n    padding-bottom: 8px;\n    border-bottom: 1px solid var(--am-border);\n}\n\n.cluster-icon {\n    font-size: 18px;\n}\n\n.cluster-title {\n    font-weight: 600;\n    font-size: 13px;\n    color: var(--am-fg);\n}\n\n.cluster-metrics {\n    display: flex;\n    flex-direction: column;\n    gap: 4px;\n    margin-bottom: 10px;\n    font-size: 11px;\n}\n\n.metric {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n}\n\n.metric-label {\n    opacity: 0.7;\n}\n\n.metric-value {\n    font-weight: 600;\n    color: var(--am-link);\n}\n\n.cluster-expand-button {\n    width: 100%;\n    padding: 6px 12px;\n    border: 1px solid var(--am-border);\n    border-radius: 4px;\n    background-color: var(--am-btn-bg);\n    color: var(--am-btn-fg);\n    font-size: 11px;\n    font-weight: 500;\n    cursor: pointer;\n    transition: all 0.15s;\n}\n\n.cluster-expand-button:hover {\n    background-color: var(--am-btn-hover);\n    transform: translateY(-1px);\n    box-shadow: 0 2px 6px rgba(0, 0, 0, 0.2);\n}\n\n.cluster-expand-button:active {\n    transform: translateY(0);\n}\n\n/* Cluster controls in stats panel */\n.cluster-controls {\n    margin-top: 12px;\n    padding-top: 12px;\n    border-top: 1px solid var(--am-border);\n}\n\n.cluster-controls-title {\n    font-size: 11px;\n    font-weight: 600;\n    margin-bottom: 8px;\n    opacity: 0.8;\n}\n\n.cluster-buttons {\n    display: flex;\n    gap: 6px;\n}\n\n.cluster-btn {\n    flex: 1;\n    padding: 4px 8px;\n    border: 1px solid var(--am-border);\n    border-radius: 4px;\n    background-color: var(--am-btn-secondary-bg);\n    color: var(--am-btn-secondary-fg);\n    font-size: 10px;\n    cursor: pointer;\n    transition: background-color 0.15s;\n}\n\n.cluster-btn:hover {\n    background-color: var(--am-btn-secondary-hover);\n}\n\n.cluster-info {\n    margin-top: 8px;\n    padding: 6px;\n    background-color: var(--am-blockquote-bg);\n    border-left: 3px solid var(--am-link);\n    border-radius: 3px;\n    font-size: 10px;\n    line-height: 1.4;\n}\n\n/* Enhanced Search Bar Styles (Issue #23) */\n.search-bar-container {\n    position: absolute;\n    top: 60px;\n    right: 10px;\n    z-index: 30;\n    background-color: var(--am-panel-bg);\n    border: 1px solid var(--am-border);\n    border-radius: 8px;\n    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);\n    min-width: 400px;\n    max-width: 500px;\n    max-height: 600px;\n    display: flex;\n    flex-direction: column;\n}\n\n.search-bar-header {\n    padding: 12px;\n    border-bottom: 1px solid var(--am-border);\n}\n\n.search-input-wrapper {\n    display: flex;\n    align-items: center;\n    gap: 8px;\n    background-color: var(--am-input-bg);\n    border: 1px solid var(--am-input-border);\n    border-radius: 6px;\n    padding: 8px 12px;\n}\n\n.search-input-wrapper:focus-within {\n    border-color: var(--am-accent);\n}\n\n.search-icon {\n    font-size: 16px;\n    opacity: 0.6;\n}\n\n.search-bar-input {\n    flex: 1;\n    background: none;\n    border: none;\n    outline: none;\n    color: var(--am-input-fg);\n    font-size: 13px;\n    font-family: var(--vscode-font-family);\n}\n\n.search-bar-input::placeholder {\n    color: var(--am-input-placeholder);\n}\n\n.search-clear-btn,\n.search-close-btn {\n    background: none;\n    border: none;\n    color: var(--am-icon);\n    font-size: 14px;\n    cursor: pointer;\n    padding: 2px 6px;\n    border-radius: 3px;\n    opacity: 0.6;\n    transition: all 0.15s;\n}\n\n.search-clear-btn:hover,\n.search-close-btn:hover {\n    background-color: var(--am-hover);\n    opacity: 1;\n}\n\n.search-bar-stats {\n    margin-top: 8px;\n    font-size: 11px;\n    color: var(--am-desc);\n}\n\n.result-count {\n    font-weight: 500;\n}\n\n/* Search Results */\n.search-results-container {\n    max-height: 400px;\n    overflow-y: auto;\n    overflow-x: hidden;\n}\n\n.search-result-item {\n    display: flex;\n    align-items: flex-start;\n    gap: 10px;\n    padding: 10px 12px;\n    border-bottom: 1px solid var(--am-border);\n    cursor: pointer;\n    transition: background-color 0.15s;\n}\n\n.search-result-item:hover {\n    background-color: var(--am-hover);\n}\n\n.search-result-item.selected {\n    background-color: var(--am-selection-bg);\n    color: var(--am-selection-fg);\n}\n\n.result-icon {\n    font-size: 16px;\n    margin-top: 2px;\n}\n\n.result-content {\n    flex: 1;\n    min-width: 0;\n}\n\n.result-label {\n    font-size: 13px;\n    font-weight: 500;\n    margin-bottom: 4px;\n    word-break: break-word;\n}\n\n.result-path {\n    font-size: 11px;\n    color: var(--am-desc);\n    margin-bottom: 4px;\n    word-break: break-all;\n}\n\n.result-meta {\n    display: flex;\n    align-items: center;\n    gap: 6px;\n    font-size: 10px;\n    color: var(--am-desc);\n}\n\n.result-type {\n    text-transform: capitalize;\n    padding: 2px 6px;\n    background-color: var(--am-badge-bg);\n    color: var(--am-badge-fg);\n    border-radius: 3px;\n}\n\n.result-language {\n    opacity: 0.8;\n}\n\n.result-score {\n    opacity: 0.7;\n}\n\n.meta-separator {\n    opacity: 0.5;\n}\n\n.result-indicator {\n    font-size: 12px;\n    color: var(--am-selection-fg);\n    margin-top: 4px;\n}\n\n/* Search Highlighting */\n.search-highlight {\n    background-color: var(--am-highlight-bg);\n    color: var(--am-fg);\n    padding: 1px 2px;\n    border-radius: 2px;\n    font-weight: 600;\n}\n\n.search-result-item.selected .search-highlight {\n    background-color: var(--am-find-match-bg);\n}\n\n/* No Results */\n.search-no-results {\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    justify-content: center;\n    padding: 40px 20px;\n    color: var(--am-desc);\n    text-align: center;\n    gap: 12px;\n}\n\n.no-results-icon {\n    font-size: 36px;\n    opacity: 0.5;\n}\n\n.no-results-text {\n    font-size: 13px;\n}\n\n/* Search Hints */\n.search-bar-hints {\n    display: flex;\n    justify-content: center;\n    gap: 16px;\n    padding: 8px 12px;\n    border-top: 1px solid var(--am-border);\n    font-size: 10px;\n    color: var(--am-desc);\n}\n\n.hint {\n    display: flex;\n    align-items: center;\n    gap: 4px;\n}\n\n.hint kbd {\n    background-color: var(--am-kbd-bg);\n    border: 1px solid var(--am-kbd-border);\n    border-radius: 3px;\n    padding: 2px 6px;\n    font-size: 9px;\n    font-family: inherit;\n}\n\n/* Zoom Controls Styles (Issue #20) */\n.zoom-controls {\n    position: absolute;\n    z-index: 25;\n    display: flex;\n    flex-direction: column;\n    gap: 8px;\n}\n\n.zoom-controls-bottom-right {\n    bottom: 60px;\n    right: 10px;\n}\n\n.zoom-controls-bottom-left {\n    bottom: 60px;\n    left: 10px;\n}\n\n.zoom-controls-top-right {\n    top: 60px;\n    right: 10px;\n}\n\n.zoom-controls-top-left {\n    top: 60px;\n    left: 10px;\n}\n\n.zoom-level-indicator {\n    display: flex;\n    align-items: center;\n    gap: 6px;\n    padding: 8px 12px;\n    background-color: var(--am-panel-bg);\n    border: 1px solid var(--am-border);\n    border-radius: 6px;\n    cursor: pointer;\n    transition: all 0.15s;\n    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);\n}\n\n.zoom-level-indicator:hover {\n    background-color: var(--am-hover);\n    transform: translateY(-1px);\n    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);\n}\n\n.zoom-icon {\n    font-size: 14px;\n}\n\n.zoom-value {\n    font-size: 13px;\n    font-weight: 600;\n    min-width: 45px;\n    text-align: center;\n}\n\n.zoom-dropdown-icon {\n    font-size: 10px;\n    opacity: 0.6;\n}\n\n.zoom-presets-dropdown {\n    display: flex;\n    flex-direction: column;\n    gap: 2px;\n    padding: 4px;\n    background-color: var(--am-panel-bg);\n    border: 1px solid var(--am-border);\n    border-radius: 6px;\n    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);\n}\n\n.zoom-preset-btn {\n    display: flex;\n    align-items: center;\n    gap: 8px;\n    padding: 6px 12px;\n    background: none;\n    border: none;\n    border-radius: 4px;\n    color: var(--am-fg);\n    font-size: 12px;\n    cursor: pointer;\n    transition: background-color 0.15s;\n    text-align: left;\n}\n\n.zoom-preset-btn:hover {\n    background-color: var(--am-hover);\n}\n\n.preset-icon {\n    font-size: 14px;\n    width: 20px;\n}\n\n.preset-label {\n    flex: 1;\n}\n\n.zoom-quick-controls {\n    display: flex;\n    gap: 4px;\n    background-color: var(--am-panel-bg);\n    border: 1px solid var(--am-border);\n    border-radius: 6px;\n    padding: 4px;\n    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);\n}\n\n.zoom-btn {\n    width: 32px;\n    height: 32px;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    background: none;\n    border: none;\n    border-radius: 4px;\n    color: var(--am-fg);\n    font-size: 16px;\n    font-weight: 600;\n    cursor: pointer;\n    transition: all 0.15s;\n}\n\n.zoom-btn:hover:not(:disabled) {\n    background-color: var(--am-hover);\n    transform: scale(1.1);\n}\n\n.zoom-btn:disabled {\n    opacity: 0.3;\n    cursor: not-allowed;\n}\n\n.zoom-shortcuts-hint {\n    padding: 8px 12px;\n    background-color: var(--am-panel-bg);\n    border: 1px solid var(--am-border);\n    border-radius: 6px;\n    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);\n    font-size: 10px;\n    color: var(--am-desc);\n    display: flex;\n    flex-direction: column;\n    gap: 4px;\n}\n\n.shortcut-line {\n    display: flex;\n    align-items: center;\n    gap: 4px;\n}\n\n.zoom-shortcuts-hint kbd {\n    background-color: var(--am-kbd-bg);\n    border: 1px solid var(--am-kbd-border);\n    border-radius: 3px;\n    padding: 1px 4px;\n    font-size: 9px;\n    font-family: inherit;\n}\n\n/* Impact Analysis Styles (Issue #15) */\n.impact-analysis-panel {\n    position: absolute;\n    top: 10px;\n    left: 10px;\n    z-index: 30;\n    background-color: var(--am-panel-bg);\n    border: 1px solid var(--am-border);\n    border-radius: 8px;\n    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);\n    min-width: 320px;\n    max-width: 400px;\n    max-height: 80vh;\n    display: flex;\n    flex-direction: column;\n}\n\n.impact-header {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    padding: 12px 16px;\n    border-bottom: 1px solid var(--am-border);\n}\n\n.impact-title {\n    display: flex;\n    align-items: center;\n    gap: 8px;\n    font-weight: 600;\n    font-size: 14px;\n}\n\n.impact-icon {\n    font-size: 18px;\n}\n\n.impact-close-btn {\n    background: none;\n    border: none;\n    color: var(--am-icon);\n    font-size: 16px;\n    cursor: pointer;\n    padding: 4px 8px;\n    border-radius: 4px;\n    opacity: 0.7;\n    transition: all 0.15s;\n}\n\n.impact-close-btn:hover {\n    background-color: var(--am-hover);\n    opacity: 1;\n}\n\n.impact-summary {\n    padding: 12px 16px;\n    background-color: var(--am-blockquote-bg);\n    border-bottom: 1px solid var(--am-border);\n}\n\n.impact-stat {\n    display: flex;\n    justify-content: space-between;\n    margin-bottom: 6px;\n    font-size: 12px;\n}\n\n.impact-stat:last-child {\n    margin-bottom: 0;\n}\n\n.stat-label {\n    color: var(--am-desc);\n}\n\n.stat-value {\n    font-weight: 600;\n    color: var(--am-link);\n}\n\n.impact-legend {\n    padding: 12px 16px;\n    border-bottom: 1px solid var(--am-border);\n}\n\n.legend-title {\n    font-size: 11px;\n    font-weight: 600;\n    margin-bottom: 8px;\n    opacity: 0.8;\n}\n\n.legend-items {\n    display: flex;\n    flex-direction: column;\n    gap: 6px;\n}\n\n.legend-item {\n    display: flex;\n    align-items: center;\n    gap: 8px;\n    font-size: 11px;\n}\n\n.legend-color {\n    width: 16px;\n    height: 16px;\n    border-radius: 3px;\n}\n\n.impact-levels {\n    flex: 1;\n    overflow-y: auto;\n    overflow-x: hidden;\n    padding: 8px 0;\n}\n\n.impact-level {\n    border-bottom: 1px solid var(--am-border);\n}\n\n.impact-level:last-child {\n    border-bottom: none;\n}\n\n.impact-level-header {\n    display: flex;\n    align-items: center;\n    gap: 12px;\n    padding: 10px 16px;\n    cursor: pointer;\n    transition: background-color 0.15s;\n}\n\n.impact-level-header:hover {\n    background-color: var(--am-hover);\n}\n\n.level-indicator {\n    width: 8px;\n    height: 8px;\n    border-radius: 50%;\n}\n\n.level-info {\n    flex: 1;\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n}\n\n.level-distance {\n    font-size: 12px;\n    font-weight: 600;\n}\n\n.level-count {\n    font-size: 11px;\n    color: var(--am-desc);\n}\n\n.level-toggle {\n    font-size: 10px;\n    opacity: 0.6;\n}\n\n.impact-level-nodes {\n    padding: 4px 16px 8px 36px;\n    display: flex;\n    flex-direction: column;\n    gap: 4px;\n}\n\n.impact-node-item {\n    display: flex;\n    align-items: center;\n    gap: 8px;\n    padding: 6px 10px;\n    background-color: var(--am-input-bg);\n    border: 1px solid var(--am-input-border);\n    border-radius: 4px;\n    font-size: 11px;\n    cursor: pointer;\n    transition: all 0.15s;\n}\n\n.impact-node-item:hover {\n    background-color: var(--am-hover);\n    border-color: var(--am-accent);\n}\n\n.node-type-badge {\n    font-size: 14px;\n    opacity: 0.7;\n}\n\n.node-id {\n    flex: 1;\n    word-break: break-all;\n}\n\n.impact-actions {\n    padding: 12px 16px;\n    border-top: 1px solid var(--am-border);\n    display: flex;\n    justify-content: flex-end;\n}\n\n.impact-btn {\n    padding: 6px 16px;\n    border: none;\n    border-radius: 4px;\n    background-color: var(--am-btn-bg);\n    color: var(--am-btn-fg);\n    font-size: 12px;\n    cursor: pointer;\n    transition: background-color 0.15s;\n}\n\n.impact-btn:hover {\n    background-color: var(--am-btn-hover);\n}\n\n/* Impact visualization on nodes */\n.react-flow__node.impact-node {\n    transition: all 0.3s ease;\n}\n\n.react-flow__node.impact-distance-1 {\n    box-shadow: 0 0 0 3px #e74c3c !important;\n    background-color: rgba(231, 76, 60, 0.1) !important;\n}\n\n.react-flow__node.impact-distance-2 {\n    box-shadow: 0 0 0 3px #e67e22 !important;\n    background-color: rgba(230, 126, 34, 0.1) !important;\n}\n\n.react-flow__node.impact-distance-3 {\n    box-shadow: 0 0 0 3px #f39c12 !important;\n    background-color: rgba(243, 156, 18, 0.1) !important;\n}\n\n.react-flow__node.impact-distance-4 {\n    box-shadow: 0 0 0 3px #3498db !important;\n    background-color: rgba(52, 152, 219, 0.1) !important;\n}\n\n@keyframes impactPulse {\n\n    0%,\n    100% {\n        transform: scale(1);\n        opacity: 1;\n    }\n\n    50% {\n        transform: scale(1.05);\n        opacity: 0.8;\n    }\n}\n\n.react-flow__node.impact-animating {\n    animation: impactPulse 0.6s ease-in-out;\n}\n\n/* Theme System Styles (Issue #22) */\n:root {\n    --theme-transition-duration: 0.3s;\n}\n\n/* Smooth transitions for theme changes */\n* {\n    transition: background-color var(--theme-transition-duration) ease,\n        color var(--theme-transition-duration) ease,\n        border-color var(--theme-transition-duration) ease,\n        box-shadow var(--theme-transition-duration) ease;\n}\n\n/* Theme Toggle Component */\n.theme-toggle {\n    position: absolute;\n    z-index: 35;\n    background-color: var(--am-panel-bg);\n    color: var(--am-panel-fg);\n    border: 1px solid var(--am-border);\n    border-radius: 8px;\n    padding: 12px;\n    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);\n    display: flex;\n    flex-direction: column;\n    gap: 8px;\n    min-width: 180px;\n}\n\n.theme-toggle-top-right {\n    top: 10px;\n    right: 10px;\n}\n\n.theme-toggle-top-left {\n    top: 10px;\n    left: 10px;\n}\n\n.theme-toggle-bottom-right {\n    bottom: 10px;\n    right: 10px;\n}\n\n.theme-toggle-bottom-left {\n    bottom: 10px;\n    left: 10px;\n}\n\n.theme-toggle-label {\n    font-size: 11px;\n    font-weight: 600;\n    color: var(--am-desc);\n    margin-bottom: 4px;\n}\n\n.toggle-label-text {\n    text-transform: uppercase;\n    letter-spacing: 0.5px;\n}\n\n.theme-options {\n    display: flex;\n    gap: 6px;\n}\n\n.theme-option {\n    flex: 1;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    gap: 4px;\n    padding: 8px 12px;\n    background-color: var(--am-btn-secondary-bg);\n    color: var(--am-btn-secondary-fg);\n    border: 2px solid transparent;\n    border-radius: 6px;\n    font-size: 11px;\n    cursor: pointer;\n    transition: all 0.2s ease;\n}\n\n.theme-option:hover {\n    background-color: var(--am-btn-secondary-hover);\n    transform: translateY(-2px);\n    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);\n}\n\n.theme-option.active {\n    background-color: var(--am-btn-bg);\n    color: var(--am-btn-fg);\n    border-color: var(--am-accent);\n    box-shadow: 0 2px 12px rgba(0, 0, 0, 0.2);\n}\n\n.option-icon {\n    font-size: 20px;\n}\n\n.option-label {\n    font-weight: 500;\n}\n\n.theme-auto-indicator {\n    margin-top: 4px;\n    padding: 6px 8px;\n    background-color: var(--am-blockquote-bg);\n    border-left: 3px solid var(--am-link);\n    border-radius: 4px;\n}\n\n.auto-hint {\n    font-size: 10px;\n    color: var(--am-desc);\n}\n\n/* Compact Theme Toggle */\n.compact-theme-toggle {\n    width: 40px;\n    height: 40px;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    background-color: var(--am-panel-bg);\n    border: 1px solid var(--am-border);\n    border-radius: 50%;\n    cursor: pointer;\n    transition: all 0.2s ease;\n    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);\n}\n\n.compact-theme-toggle:hover {\n    background-color: var(--am-hover);\n    transform: scale(1.1);\n    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);\n}\n\n.compact-theme-toggle:active {\n    transform: scale(0.95);\n}\n\n.compact-icon {\n    font-size: 20px;\n}\n\n/* Dark theme enhancements */\n[data-theme="dark"] {\n    /* Enhance contrast for dark theme */\n}\n\n[data-theme="dark"] .react-flow__node {\n    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.5);\n}\n\n[data-theme="dark"] .react-flow__edge-path {\n    opacity: 0.8;\n}\n\n[data-theme="dark"] .stats-panel,\n[data-theme="dark"] .search-bar-container,\n[data-theme="dark"] .zoom-controls,\n[data-theme="dark"] .impact-analysis-panel {\n    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.5);\n}\n\n/* Light theme enhancements */\n[data-theme="light"] {\n    /* Enhance contrast for light theme */\n}\n\n[data-theme="light"] .react-flow__node {\n    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);\n}\n\n[data-theme="light"] .react-flow__edge-path {\n    opacity: 0.9;\n}\n\n/* Theme transition animation */\n@keyframes themeTransition {\n    0% {\n        opacity: 0.8;\n    }\n\n    100% {\n        opacity: 1;\n    }\n}\n\n.theme-transitioning {\n    animation: themeTransition 0.3s ease;\n}\n\n/* Relationship Visualizer Styles (Issue #21) */\n.relationship-visualizer {\n    position: absolute;\n    top: 10px;\n    right: 10px;\n    z-index: 30;\n    background-color: var(--am-panel-bg);\n    border: 1px solid var(--am-border);\n    border-radius: 8px;\n    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);\n    min-width: 350px;\n    max-width: 450px;\n    max-height: 80vh;\n    display: flex;\n    flex-direction: column;\n}\n\n.relationship-header {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    padding: 12px 16px;\n    border-bottom: 1px solid var(--am-border);\n}\n\n.relationship-title {\n    display: flex;\n    align-items: center;\n    gap: 8px;\n    font-weight: 600;\n    font-size: 14px;\n}\n\n.relationship-icon {\n    font-size: 18px;\n}\n\n.relationship-close-btn {\n    background: none;\n    border: none;\n    color: var(--am-icon);\n    font-size: 16px;\n    cursor: pointer;\n    padding: 4px 8px;\n    border-radius: 4px;\n    opacity: 0.7;\n    transition: all 0.15s;\n}\n\n.relationship-close-btn:hover {\n    background-color: var(--am-hover);\n    opacity: 1;\n}\n\n.relationship-summary {\n    padding: 12px 16px;\n    background-color: var(--am-blockquote-bg);\n    border-bottom: 1px solid var(--am-border);\n}\n\n.selected-node-info {\n    display: flex;\n    align-items: center;\n    gap: 10px;\n    margin-bottom: 8px;\n}\n\n.node-type-icon {\n    font-size: 24px;\n}\n\n.node-details {\n    flex: 1;\n}\n\n.node-name {\n    font-size: 13px;\n    font-weight: 600;\n    word-break: break-word;\n}\n\n.node-type-label {\n    font-size: 11px;\n    color: var(--am-desc);\n    text-transform: capitalize;\n}\n\n.relationship-count {\n    font-size: 12px;\n    color: var(--am-link);\n    font-weight: 500;\n}\n\n.relationship-sections {\n    flex: 1;\n    overflow-y: auto;\n    overflow-x: hidden;\n    padding: 8px 0;\n}\n\n.relationship-section {\n    border-bottom: 1px solid var(--am-border);\n    padding: 12px 0;\n}\n\n.relationship-section:last-child {\n    border-bottom: none;\n}\n\n.section-header {\n    display: flex;\n    align-items: center;\n    gap: 8px;\n    padding: 0 16px 8px;\n    font-size: 12px;\n    font-weight: 600;\n}\n\n.section-icon {\n    font-size: 16px;\n}\n\n.section-title {\n    flex: 1;\n}\n\n.section-badge {\n    padding: 2px 8px;\n    background-color: var(--am-badge-bg);\n    color: var(--am-badge-fg);\n    border-radius: 12px;\n    font-size: 10px;\n    font-weight: 600;\n}\n\n.strength-indicator {\n    padding: 2px 8px;\n    border-radius: 12px;\n    font-size: 9px;\n    font-weight: 600;\n    text-transform: uppercase;\n}\n\n.strength-indicator.strength-weak {\n    background-color: #3498db;\n    color: white;\n}\n\n.strength-indicator.strength-medium {\n    background-color: #f39c12;\n    color: white;\n}\n\n.strength-indicator.strength-strong {\n    background-color: #e74c3c;\n    color: white;\n}\n\n.relationship-items {\n    display: flex;\n    flex-direction: column;\n    gap: 4px;\n    padding: 0 16px;\n}\n\n.relationship-node {\n    display: flex;\n    align-items: center;\n    gap: 10px;\n    padding: 8px 12px;\n    background-color: var(--am-input-bg);\n    border: 1px solid var(--am-input-border);\n    border-radius: 6px;\n    cursor: pointer;\n    transition: all 0.15s;\n    position: relative;\n}\n\n.relationship-node:hover {\n    background-color: var(--am-hover);\n    border-color: var(--am-accent);\n    transform: translateX(4px);\n}\n\n.rel-node-connector {\n    position: absolute;\n    left: 0;\n    top: 50%;\n    width: 3px;\n    height: 100%;\n    transform: translateY(-50%);\n    border-radius: 2px;\n}\n\n.relationship-parent .rel-node-connector {\n    background-color: #9b59b6;\n}\n\n.relationship-child .rel-node-connector {\n    background-color: #3498db;\n}\n\n.relationship-sibling .rel-node-connector {\n    background-color: #2ecc71;\n}\n\n.relationship-ancestor .rel-node-connector {\n    background-color: #e67e22;\n}\n\n.relationship-descendant .rel-node-connector {\n    background-color: #1abc9c;\n}\n\n.rel-node-icon {\n    font-size: 18px;\n}\n\n.rel-node-content {\n    flex: 1;\n    min-width: 0;\n}\n\n.rel-node-name {\n    font-size: 12px;\n    font-weight: 500;\n    word-break: break-all;\n}\n\n.rel-node-type {\n    font-size: 10px;\n    color: var(--am-desc);\n    text-transform: capitalize;\n}\n\n.rel-node-depth {\n    font-size: 10px;\n    padding: 2px 6px;\n    background-color: var(--am-badge-bg);\n    color: var(--am-badge-fg);\n    border-radius: 8px;\n}\n\n.more-items {\n    padding: 8px 12px;\n    text-align: center;\n    font-size: 11px;\n    color: var(--am-desc);\n    font-style: italic;\n}\n\n.no-relationships {\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    justify-content: center;\n    padding: 40px 20px;\n    gap: 12px;\n}\n\n.no-rel-icon {\n    font-size: 36px;\n    opacity: 0.5;\n}\n\n.no-rel-text {\n    font-size: 13px;\n    color: var(--am-desc);\n}\n\n/* Relationship visualization on graph */\n.react-flow__node.has-parent {\n    border-top: 3px solid #9b59b6 !important;\n}\n\n.react-flow__node.has-children {\n    border-bottom: 3px solid #3498db !important;\n}\n\n.react-flow__node.has-siblings {\n    border-left: 3px solid #2ecc71 !important;\n}\n\n/* Relationship edge highlighting */\n.react-flow__edge.relationship-edge {\n    stroke-width: 2px;\n}\n\n.react-flow__edge.parent-child-edge {\n    stroke: #9b59b6;\n}\n\n.react-flow__edge.sibling-edge {\n    stroke: #2ecc71;\n    stroke-dasharray: 5, 5;\n}\n\n@keyframes relationshipPulse {\n\n    0%,\n    100% {\n        opacity: 1;\n        transform: scale(1);\n    }\n\n    50% {\n        opacity: 0.7;\n        transform: scale(1.02);\n    }\n}\n\n.relationship-node.highlighted {\n    animation: relationshipPulse 1s ease-in-out infinite;\n}\n\n/* Keyboard Help Overlay (Issue #18) */\n.keyboard-help-overlay {\n    position: fixed;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    background-color: rgba(0, 0, 0, 0.5);\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    z-index: 1000;\n}\n\n.keyboard-help-panel {\n    background-color: var(--am-panel-bg);\n    border: 1px solid var(--am-border);\n    border-radius: 12px;\n    box-shadow: 0 8px 32px rgba(0, 0, 0, 0.4);\n    max-width: 600px;\n    max-height: 80vh;\n    overflow-y: auto;\n    display: flex;\n    flex-direction: column;\n}\n\n.help-header {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    padding: 20px 24px;\n    border-bottom: 1px solid var(--am-border);\n}\n\n.help-title {\n    margin: 0;\n    font-size: 18px;\n    font-weight: 600;\n}\n\n.help-close-btn {\n    background: none;\n    border: none;\n    color: var(--am-icon);\n    font-size: 20px;\n    cursor: pointer;\n    padding: 4px 8px;\n    border-radius: 4px;\n    opacity: 0.7;\n    transition: all 0.15s;\n}\n\n.help-close-btn:hover {\n    background-color: var(--am-hover);\n    opacity: 1;\n}\n\n.help-sections {\n    padding: 20px 24px;\n}\n\n.help-section {\n    margin-bottom: 24px;\n}\n\n.help-section:last-child {\n    margin-bottom: 0;\n}\n\n.help-section-title {\n    margin: 0 0 12px 0;\n    font-size: 14px;\n    font-weight: 600;\n    color: var(--am-link);\n}\n\n.help-shortcuts {\n    display: flex;\n    flex-direction: column;\n    gap: 10px;\n}\n\n.help-shortcut {\n    display: flex;\n    align-items: center;\n    gap: 12px;\n    padding: 8px 12px;\n    background-color: var(--am-input-bg);\n    border: 1px solid var(--am-input-border);\n    border-radius: 6px;\n    font-size: 13px;\n}\n\n.help-shortcut kbd {\n    background-color: var(--am-kbd-bg);\n    border: 1px solid var(--am-kbd-border);\n    border-radius: 4px;\n    padding: 4px 8px;\n    font-size: 12px;\n    font-family: var(--vscode-font-family);\n    font-weight: 600;\n    min-width: 28px;\n    text-align: center;\n}\n\n.help-shortcut span {\n    flex: 1;\n    color: var(--am-fg);\n}\n\n.help-footer {\n    padding: 16px 24px;\n    border-top: 1px solid var(--am-border);\n    display: flex;\n    justify-content: center;\n}\n\n.help-close-button {\n    padding: 8px 24px;\n    border: none;\n    border-radius: 6px;\n    background-color: var(--am-btn-bg);\n    color: var(--am-btn-fg);\n    font-size: 13px;\n    font-weight: 600;\n    cursor: pointer;\n    transition: background-color 0.15s;\n}\n\n.help-close-button:hover {\n    background-color: var(--am-btn-hover);\n}\n\n/* Focus indicator for keyboard navigation */\n.react-flow__node.keyboard-focused {\n    outline: 3px solid var(--am-accent);\n    outline-offset: 2px;\n}\n\n/* Screen reader only text */\n.sr-only {\n    position: absolute;\n    width: 1px;\n    height: 1px;\n    padding: 0;\n    margin: -1px;\n    overflow: hidden;\n    clip: rect(0, 0, 0, 0);\n    white-space: nowrap;\n    border-width: 0;\n}',"",{version:3,sources:["webpack://./src/webview/index.css"],names:[],mappings:"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",sourceRoot:""}]);const l=r},98348(e,n,t){var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});const o=a(t(96540)),A=t(5338),r=a(t(83569));t(2088);const l=document.getElementById("root");l&&(0,A.createRoot)(l).render(o.default.createElement(r.default,null))},99225(e,n){Object.defineProperty(n,"__esModule",{value:!0}),n.ArchMindWebSocketClient=void 0,n.ArchMindWebSocketClient=class{constructor(e,n,t="http://localhost:8080"){this.ws=null,this.reconnectAttempts=0,this.maxReconnectAttempts=5,this.reconnectDelay=1e3,this.reconnectTimer=null,this.listeners=new Map,this.globalListeners=new Set,this.isIntentionallyClosed=!1,this.type=e,this.id=n;const a=t.startsWith("https")?"wss":"ws",o=t.replace(/^https?:\/\//,"");this.url=`${a}://${o}/ws/${e}/${n}`}connect(){if(!this.ws||this.ws.readyState!==WebSocket.OPEN){this.isIntentionallyClosed=!1;try{this.ws=new WebSocket(this.url),this.ws.onopen=()=>{this.reconnectAttempts=0,this.reconnectDelay=1e3},this.ws.onmessage=e=>{try{const n=JSON.parse(e.data);this.handleUpdate(n)}catch(e){console.error("Failed to parse WebSocket message:",e)}},this.ws.onerror=e=>{console.error("WebSocket error:",e)},this.ws.onclose=()=>{this.ws=null,this.isIntentionallyClosed||this.scheduleReconnect()}}catch(e){console.error("Failed to create WebSocket connection:",e),this.scheduleReconnect()}}}scheduleReconnect(){if(this.isIntentionallyClosed||this.reconnectAttempts>=this.maxReconnectAttempts)return;this.reconnectTimer&&clearTimeout(this.reconnectTimer),this.reconnectAttempts++;const e=Math.min(this.reconnectDelay*Math.pow(2,this.reconnectAttempts-1),3e4);this.reconnectTimer=setTimeout(()=>{this.connect()},e)}handleUpdate(e){const n=e.job_id||e.repo_id;if(n){const t=this.listeners.get(n);t&&t.forEach(n=>{try{n(e)}catch(e){console.error("Error in WebSocket listener:",e)}})}this.globalListeners.forEach(n=>{try{n(e)}catch(e){console.error("Error in WebSocket listener:",e)}})}subscribe(e,n){return this.listeners.has(e)||this.listeners.set(e,new Set),this.listeners.get(e)?.add(n),()=>{this.listeners.get(e)?.delete(n)}}subscribeAll(e){return this.globalListeners.add(e),()=>{this.globalListeners.delete(e)}}disconnect(){this.isIntentionallyClosed=!0,this.reconnectTimer&&clearTimeout(this.reconnectTimer),this.ws&&(this.ws.close(),this.ws=null)}}}},o={};function A(e){var n=o[e];if(void 0!==n)return n.exports;var t=o[e]={id:e,loaded:!1,exports:{}};return a[e].call(t.exports,t,t.exports,A),t.loaded=!0,t.exports}A.m=a,e=[],A.O=(n,t,a,o)=>{if(!t){var r=1/0;for(c=0;c<e.length;c++){for(var[t,a,o]=e[c],l=!0,i=0;i<t.length;i++)(!1&o||r>=o)&&Object.keys(A.O).every(e=>A.O[e](t[i]))?t.splice(i--,1):(l=!1,o<r&&(r=o));if(l){e.splice(c--,1);var s=a();void 0!==s&&(n=s)}}return n}o=o||0;for(var c=e.length;c>0&&e[c-1][2]>o;c--)e[c]=e[c-1];e[c]=[t,a,o]},A.n=e=>{var n=e&&e.__esModule?()=>e.default:()=>e;return A.d(n,{a:n}),n},t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,A.t=function(e,a){if(1&a&&(e=this(e)),8&a)return e;if("object"==typeof e&&e){if(4&a&&e.__esModule)return e;if(16&a&&"function"==typeof e.then)return e}var o=Object.create(null);A.r(o);var r={};n=n||[null,t({}),t([]),t(t)];for(var l=2&a&&e;("object"==typeof l||"function"==typeof l)&&!~n.indexOf(l);l=t(l))Object.getOwnPropertyNames(l).forEach(n=>r[n]=()=>e[n]);return r.default=()=>e,A.d(o,r),o},A.d=(e,n)=>{for(var t in n)A.o(n,t)&&!A.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:n[t]})},A.e=()=>Promise.resolve(),A.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),A.o=(e,n)=>Object.prototype.hasOwnProperty.call(e,n),A.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},A.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),(()=>{var e={792:0};A.O.j=n=>0===e[n];var n=(n,t)=>{var a,o,[r,l,i]=t,s=0;if(r.some(n=>0!==e[n])){for(a in l)A.o(l,a)&&(A.m[a]=l[a]);if(i)var c=i(A)}for(n&&n(t);s<r.length;s++)o=r[s],A.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return A.O(c)},t=self.webpackChunkarchmind_vscode_extension=self.webpackChunkarchmind_vscode_extension||[];t.forEach(n.bind(null,0)),t.push=n.bind(null,t.push.bind(t))})(),A.nc=void 0;var r=A.O(void 0,[96],()=>A(98348));r=A.O(r)})();
//# sourceMappingURL=main.bundle.js.map